/*! https://github.com/leeoniya/uPlot (v1.6.19) */
var uPlot=function(){"use strict";function e(e,l,t,n){let i;t=t||0;let o=2147483647>=(n=n||l.length-1);for(;n-t>1;)i=o?t+n>>1:x((t+n)/2),e>l[i]?t=i:n=i;return e-l[t]>l[n]-e?n:t}function l(e,l,t,n){for(let i=1==n?l:t;i>=l&&t>=i;i+=n)if(null!=e[i])return i;return-1}const t=[0,0];function n(e,l,n,i){return t[0]=0>n?L(e,-n):e,t[1]=0>i?L(l,-i):l,t}function i(e,l,t,i){let o,s,r,u=y(e),a=10==t?M:S;return e==l&&(-1==u?(e*=t,l/=t):(e/=t,l*=t)),i?(o=x(a(e)),s=b(a(l)),r=n(v(t,o),v(t,s),o,s),e=r[0],l=r[1]):(o=x(a(g(e))),s=x(a(g(l))),r=n(v(t,o),v(t,s),o,s),e=B(e,r[0]),l=H(l,r[1])),[e,l]}function o(e,l,t,n){let o=i(e,l,t,n);return 0==e&&(o[0]=0),0==l&&(o[1]=0),o}const s={mode:3,pad:.1},r={pad:0,soft:null,mode:0},u={min:r,max:r};function a(e,l,t,n){return q(t)?f(e,l,t):(r.pad=t,r.soft=n?0:null,r.mode=n?3:0,f(e,l,u))}function c(e,l){return null==e?l:e}function f(e,l,t){let n=t.min,i=t.max,o=c(n.pad,0),s=c(i.pad,0),r=c(n.hard,-T),u=c(i.hard,T),a=c(n.soft,T),f=c(i.soft,-T),h=c(n.mode,0),d=c(i.mode,0),p=l-e;1e-9>p&&(p=0,0!=e&&0!=l||(p=1e-9,2==h&&a!=T&&(o=0),2==d&&f!=-T&&(s=0)));let m=p||g(l)||1e3,w=M(m),b=v(10,x(w)),y=L(B(e-m*(0==p?0==e?.1:1:o),b/10),9),S=a>e||1!=h&&(3!=h||y>a)&&(2!=h||a>y)?T:a,D=k(r,S>y&&e>=S?S:_(S,y)),E=L(H(l+m*(0==p?0==l?.1:1:s),b/10),9),z=l>f||1!=d&&(3!=d||f>E)&&(2!=d||E>f)?-T:f,A=_(u,E>z&&z>=l?z:k(z,E));return D==A&&0==D&&(A=100),[D,A]}const h=new Intl.NumberFormat(navigator.language),d=e=>h.format(e),p=Math,m=p.PI,g=p.abs,x=p.floor,w=p.round,b=p.ceil,_=p.min,k=p.max,v=p.pow,y=p.sign,M=p.log10,S=p.log2,D=(e,l=1)=>p.asinh(e/l),T=1/0;function E(e){return 1+(0|M((e^e>>31)-(e>>31)))}function z(e,l){return w(e/l)*l}function A(e,l,t){return _(k(e,l),t)}function P(e){return"function"==typeof e?e:()=>e}const W=e=>e,Y=(e,l)=>l,C=()=>null,F=()=>!0,R=(e,l)=>e==l;function H(e,l){return b(e/l)*l}function B(e,l){return x(e/l)*l}function L(e,l){return w(e*(l=10**l))/l}const I=new Map;function O(e){return((""+e).split(".")[1]||"").length}function G(e,l,t,n){let i=[],o=n.map(O);for(let s=l;t>s;s++){let l=g(s),t=L(v(e,s),l);for(let e=0;n.length>e;e++){let r=n[e]*t,u=(0>r||0>s?l:0)+(o[e]>s?o[e]:0),a=L(r,u);i.push(a),I.set(a,u)}}return i}const N={},j=[],V=[null,null],U=Array.isArray;function J(e){return"string"==typeof e}function q(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function K(e){return null!=e&&"object"==typeof e}function Z(e,l=q){let t;if(U(e)){let n=e.find((e=>null!=e));if(U(n)||l(n)){t=Array(e.length);for(let n=0;e.length>n;n++)t[n]=Z(e[n],l)}else t=e.slice()}else if(l(e)){t={};for(let n in e)t[n]=Z(e[n],l)}else t=e;return t}function $(e){let l=arguments;for(let t=1;l.length>t;t++){let n=l[t];for(let l in n)q(e[l])?$(e[l],Z(n[l])):e[l]=Z(n[l])}return e}function X(e,l,t){for(let n,i=0,o=-1;l.length>i;i++){let s=l[i];if(s>o){for(n=s-1;n>=0&&null==e[n];)e[n--]=null;for(n=s+1;t>n&&null==e[n];)e[o=n++]=null}}}const Q="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,ee="width",le="height",te="top",ne="bottom",ie="left",oe="right",se="#000",re="mousemove",ue="mousedown",ae="mouseup",ce="mouseenter",fe="mouseleave",he="dblclick",de="change",pe="dppxchange",me="u-off",ge="u-label",xe=document,we=window;let be,_e;function ke(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function ve(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function ye(e,l,t){e.style[l]=t+"px"}function Me(e,l,t,n){let i=xe.createElement(e);return null!=l&&ke(i,l),null!=t&&t.insertBefore(i,n),i}function Se(e,l){return Me("div",e,l)}const De=new WeakMap;function Te(e,l,t,n,i){let o="translate("+l+"px,"+t+"px)";o!=De.get(e)&&(e.style.transform=o,De.set(e,o),0>l||0>t||l>n||t>i?ke(e,me):ve(e,me))}const Ee=new WeakMap;function ze(e,l,t){let n=l+t;n!=Ee.get(e)&&(Ee.set(e,n),e.style.background=l,e.style.borderColor=t)}const Ae=new WeakMap;function Pe(e,l,t,n){let i=l+""+t;i!=Ae.get(e)&&(Ae.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}const We={passive:!0},Ye=$({capture:!0},We);function Ce(e,l,t,n){l.addEventListener(e,t,n?Ye:We)}function Fe(e,l,t,n){l.removeEventListener(e,t,n?Ye:We)}!function e(){let l=devicePixelRatio;be!=l&&(be=l,_e&&Fe(de,_e,e),_e=matchMedia(`(min-resolution: ${be-.001}dppx) and (max-resolution: ${be+.001}dppx)`),Ce(de,_e,e),we.dispatchEvent(new CustomEvent(pe)))}();const Re=["January","February","March","April","May","June","July","August","September","October","November","December"],He=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Be(e){return e.slice(0,3)}const Le=He.map(Be),Ie=Re.map(Be),Oe={MMMM:Re,MMM:Ie,WWWW:He,WWW:Le};function Ge(e){return(10>e?"0":"")+e}const Ne={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Ge(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Ge(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Ge(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>12>e.getHours()?"AM":"PM",aa:e=>12>e.getHours()?"am":"pm",a:e=>12>e.getHours()?"a":"p",mm:e=>Ge(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Ge(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>function(e){return(10>e?"00":100>e?"0":"")+e}(e.getMilliseconds())};function je(e,l){l=l||Oe;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?Ne[t[1]]:t[0]);return e=>{let t="";for(let i=0;n.length>i;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const Ve=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Ue=e=>e%1==0,Je=[1,2,2.5,5],qe=G(10,-16,0,Je),Ke=G(10,0,16,Je),Ze=Ke.filter(Ue),$e=qe.concat(Ke),Xe="{YYYY}",Qe="\n"+Xe,el="{M}/{D}",ll="\n"+el,tl=ll+"/{YY}",nl="{aa}",il="{h}:{mm}"+nl,ol="\n"+il,sl=":{ss}",rl=null;function ul(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==e?G(10,0,3,Je).filter(Ue):G(10,-3,0,Je)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,Xe,rl,rl,rl,rl,rl,rl,1],[28*i,"{MMM}",Qe,rl,rl,rl,rl,rl,1],[i,el,Qe,rl,rl,rl,rl,rl,1],[n,"{h}"+nl,tl,rl,ll,rl,rl,rl,1],[t,il,tl,rl,ll,rl,rl,rl,1],[l,sl,tl+" "+il,rl,ll+" "+il,rl,ol,rl,1],[e,sl+".{fff}",tl+" "+il,rl,ll+" "+il,rl,ol,rl,1]],function(l){return(r,u,a,c,f,h)=>{let d=[],p=f>=s,m=f>=o&&s>f,g=l(a),b=L(g*e,3),_=xl(g.getFullYear(),p?0:g.getMonth(),m||p?1:g.getDate()),k=L(_*e,3);if(m||p){let t=m?f/o:0,n=p?f/s:0,i=b==k?b:L(xl(_.getFullYear()+n,_.getMonth()+t,1)*e,3),r=new Date(w(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;c>=i;o++){let s=xl(u+n*o,a+t*o,1),r=s-l(L(s*e,3));i=L((+s+r)*e,3),i>c||d.push(i)}}else{let o=i>f?f:i,s=k+(x(a)-x(b))+H(b-k,o);d.push(s);let p=l(s),m=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,g=f/n,w=h/r.axes[u]._space;for(;s=L(s+f,1==e?0:3),c>=s;)if(g>1){let e=x(L(m+g,6))%24,t=l(s).getHours()-e;t>1&&(t=-1),s-=t*n,m=(m+g)%24,.7>L((s-d[d.length-1])/f,3)*w||d.push(s)}else d.push(s)}return d}}]}const[al,cl,fl]=ul(1),[hl,dl,pl]=ul(.001);function ml(e,l){return e.map((e=>e.map(((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))))}function gl(e,l){return(t,n,i,o,s)=>{let r,u,a,c,f,h,d=l.find((e=>s>=e[0]))||l[l.length-1];return n.map((l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=c&&d[5]||p!=f&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,c=s,f=p,h=m,g(t)}))}}function xl(e,l,t){return new Date(e,l,t)}function wl(e,l){return l(e)}function bl(e,l){return(t,n)=>l(e(n))}G(2,-53,53,[1]);const _l={show:!0,live:!0,isolate:!1,markers:{show:!0,width:2,stroke:function(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null},fill:function(e,l){return e.series[l].fill(e,l)},dash:"solid"},idx:null,idxs:null,values:[]},kl=[0,0];function vl(e,l,t){return e=>{0==e.button&&t(e)}}function yl(e,l,t){return t}const Ml={show:!0,x:!0,y:!0,lock:!1,move:function(e,l,t){return kl[0]=l,kl[1]=t,kl},points:{show:function(e,l){let t=e.cursor.points,n=Se(),i=t.size(e,l);ye(n,ee,i),ye(n,le,i);let o=i/-2;ye(n,"marginLeft",o),ye(n,"marginTop",o);let s=t.width(e,l,i);return s&&ye(n,"borderWidth",s),n},size:function(e,l){return jl(e.series[l].points.width,1)},width:0,stroke:function(e,l){let t=e.series[l].points;return t._stroke||t._fill},fill:function(e,l){let t=e.series[l].points;return t._fill||t._stroke}},bind:{mousedown:vl,mouseup:vl,click:vl,dblclick:vl,mousemove:yl,mouseleave:yl,mouseenter:yl},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},left:-10,top:-10,idx:null,dataIdx:function(e,l,t){return t},idxs:null},Sl={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Dl=$({},Sl,{filter:Y}),Tl=$({},Dl,{size:10}),El=$({},Sl,{show:!1}),zl='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Al="bold "+zl,Pl={show:!0,scale:"x",stroke:se,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Al,side:2,grid:Dl,ticks:Tl,border:El,font:zl,rotate:0},Wl={show:!0,scale:"x",auto:!1,sorted:1,min:T,max:-T,idxs:[]};function Yl(e,l){return l.map((e=>null==e?"":d(e)))}function Cl(e,l,t,n,i,o,s){let r=[],u=I.get(i)||0;for(let e=t=s?t:L(H(t,i),u);n>=e;e=L(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function Fl(e,l,t,n,i){const o=[],s=e.scales[e.axes[l].scale].log,r=x((10==s?M:S)(t));i=v(s,r),0>r&&(i=L(i,-r));let u=t;do{o.push(u),u=L(u+i,I.get(i)),i*s>u||(i=u)}while(n>=u);return o}function Rl(e,l,t,n,i){let o=e.scales[e.axes[l].scale].asinh,s=n>o?Fl(e,l,k(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?Fl(e,l,k(o,-n),-t,i):[o]).reverse().map((e=>-e)).concat(r,s)}const Hl=/./,Bl=/[12357]/,Ll=/[125]/,Il=/1/;function Ol(e,l,t){let n=e.axes[t],i=n.scale,o=e.scales[i];if(3==o.distr&&2==o.log)return l;let s=e.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Il:Ll:Bl:Hl;return l.map((e=>4==o.distr&&0==e||a.test(e)?e:null))}function Gl(e,l){return null==l?"":d(l)}const Nl={show:!0,scale:"y",stroke:se,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Al,side:3,grid:Dl,ticks:Tl,border:El,font:zl,rotate:0};function jl(e,l){return L((3+2*(e||1))*l,3)}const Vl={scale:null,auto:!0,sorted:0,min:T,max:-T},Ul={show:!0,auto:!0,sorted:0,alpha:1,facets:[$({},Vl,{scale:"x"}),$({},Vl,{scale:"y"})]},Jl={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:(e,l,t,n,i)=>i,alpha:1,points:{show:function(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],o=e.valToPos(i[n[0]],t,!0),s=e.valToPos(i[n[1]],t,!0);return g(s-o)/(e.series[l].points.space*be)>=n[1]-n[0]},filter:null},values:null,min:T,max:-T,idxs:[],path:null,clip:null};function ql(e,l,t){return t/10}const Kl={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Zl=$({},Kl,{time:!1,ori:1}),$l={};function Xl(e){let l=$l[e];return l||(l={key:e,plots:[],sub(e){l.plots.push(e)},unsub(e){l.plots=l.plots.filter((l=>l!=e))},pub(e,t,n,i,o,s,r){for(let u=0;l.plots.length>u;u++)l.plots[u]!=t&&l.plots[u].pub(e,t,n,i,o,s,r)}},null!=e&&($l[e]=l)),l}function Ql(e,l,t){const n=e.series[l],i=e.scales,o=e.bbox;let s=e._data[0],r=e._data[l],u=2==e.mode?i[n.facets[0].scale]:i[e.series[0].scale],a=2==e.mode?i[n.facets[1].scale]:i[n.scale],c=o.left,f=o.top,h=o.width,d=o.height,p=e.valToPosH,m=e.valToPosV;return 0==u.ori?t(n,s,r,u,a,p,m,c,f,h,d,rt,at,ft,dt,mt):t(n,s,r,u,a,m,p,f,c,d,h,ut,ct,ht,pt,gt)}function et(e,l){let t=0,n=0,i=c(e.bands,j);for(let e=0;i.length>e;e++){let o=i[e];o.series[0]==l?t=o.dir:o.series[1]==l&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function lt(e,l,t,n,i){let o=e.scales[e.series[l].scale];return-1==i?o.min:1==i?o.max:3==o.distr?1==o.dir?o.min:o.max:0}function tt(e,l,t,n,i,o){return Ql(e,l,((e,l,s,r,u,a,c,f,h,d,p)=>{let m=e.pxRound;const g=0==r.ori?at:ct;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let b=m(a(l[x],r,d,f)),_=m(c(s[x],u,p,h)),k=m(a(l[w],r,d,f)),v=m(c(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,k,v),g(y,b,v),g(y,b,_),y}))}function nt(e,l,t,n,i,o){let s=null;if(e.length>0){s=new Path2D;const r=0==l?ft:ht;let u=t;for(let l=0;e.length>l;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-u;e>0&&r(s,u,n,e,n+o),u=t[1]}}let a=t+i-u;a>0&&r(s,u,n,a,n+o)}return s}function it(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])}function ot(e){return 0==e?W:1==e?w:l=>z(l,e)}function st(e){let l=0==e?rt:ut,t=0==e?(e,l,t,n,i,o)=>{e.arcTo(l,t,n,i,o)}:(e,l,t,n,i,o)=>{e.arcTo(t,l,i,n,o)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,o,s,r,u=0)=>{0==u?n(e,i,o,s,r):(u=_(u,s/2,r/2),l(e,i+u,o),t(e,i+s,o,i+s,o+r,u),t(e,i+s,o+r,i,o+r,u),t(e,i,o+r,i,o,u),t(e,i,o,i+s,o,u),e.closePath())}}const rt=(e,l,t)=>{e.moveTo(l,t)},ut=(e,l,t)=>{e.moveTo(t,l)},at=(e,l,t)=>{e.lineTo(l,t)},ct=(e,l,t)=>{e.lineTo(t,l)},ft=st(0),ht=st(1),dt=(e,l,t,n,i,o)=>{e.arc(l,t,n,i,o)},pt=(e,l,t,n,i,o)=>{e.arc(t,l,n,i,o)},mt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(l,t,n,i,o,s)},gt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(t,l,i,n,s,o)};function xt(){return(e,l,t,n,i)=>Ql(e,l,((l,o,s,r,u,a,c,f,h,d,p)=>{let g,x,{pxRound:w,points:b}=l;0==r.ori?(g=rt,x=dt):(g=ut,x=pt);const _=L(b.width*be,3);let k=(b.size-b.width)/2*be,v=L(2*k,3),y=new Path2D,M=new Path2D,{left:S,top:D,width:T,height:E}=e.bbox;ft(M,S-v,D-v,T+2*v,E+2*v);const z=e=>{if(null!=s[e]){let l=w(a(o[e],r,d,f)),t=w(c(s[e],u,p,h));g(y,l+k,t),x(y,l,t,k,0,2*m)}};if(i)i.forEach(z);else for(let e=t;n>=e;e++)z(e);return{stroke:_>0?y:null,fill:y,clip:M,labels:null,flags:3}}))}function wt(e){return(l,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(l,t,n),o!=i&&s!=i&&e(l,t,i),e(l,t,s))}}const bt=wt(at),_t=wt(ct);function kt(){return(e,t,n,i)=>Ql(e,t,((o,s,r,u,a,c,f,h,d,p,m)=>{let g,x,w=o.pxRound;0==u.ori?(g=at,x=bt):(g=ct,x=_t);const b=u.dir*(0==u.ori?1:-1),v={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,labels:null,flags:1},y=v.stroke;let M,S,D,E,z=T,A=-T,P=[],W=w(c(s[1==b?n:i],u,p,h)),Y=!1,C=!1,F=l(r,n,i,1*b),R=l(r,n,i,-1*b),H=w(c(s[F],u,p,h)),B=w(c(s[R],u,p,h));H>h&&it(P,h,H);for(let e=1==b?n:i;e>=n&&i>=e;e+=b){let l=w(c(s[e],u,p,h));if(l==W)null!=r[e]?(S=w(f(r[e],a,m,d)),z==T&&(g(y,l,S),M=S),z=_(S,z),A=k(S,A)):null===r[e]&&(Y=C=!0);else{let t=!1;z!=T?(x(y,W,z,A,M,S),D=E=W):Y&&(t=!0,Y=!1),null!=r[e]?(S=w(f(r[e],a,m,d)),g(y,l,S),z=A=M=S,C&&l-W>1&&(t=!0),C=!1):(z=T,A=-T,null===r[e]&&(Y=!0,l-W>1&&(t=!0))),t&&it(P,D,l),W=l}}z!=T&&z!=A&&E!=W&&x(y,W,z,A,M,S),h+p>B&&it(P,B,h+p);let[L,I]=et(e,t);if(null!=o.fill||0!=L){let l=v.fill=new Path2D(y),n=w(f(o.fillTo(e,t,o.min,o.max,L),a,m,d));g(l,B,n),g(l,H,n)}return v.gaps=P=o.gaps(e,t,n,i,P),o.spanGaps||(v.clip=nt(P,u.ori,h,d,p,m)),0!=I&&(v.band=2==I?[tt(e,t,n,i,y,-1),tt(e,t,n,i,y,1)]:tt(e,t,n,i,y,I)),v}))}function vt(e,l,t,n,i){const o=e.length;if(2>o)return null;const s=new Path2D;if(t(s,e[0],l[0]),2==o)n(s,e[1],l[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=l[t+1]-l[t],u[t]=e[t+1]-e[t],n[t]=r[t]/u[t];t[0]=n[0];for(let e=1;o-1>e;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,e[n]+u[n]/3,l[n]+t[n]*u[n]/3,e[n+1]-u[n]/3,l[n+1]-t[n+1]*u[n]/3,e[n+1],l[n+1])}return s}function yt(e){const l=c((e=e||N).showLabels,!0),t=c(e.labelsAlign,"top");return(e,n,i,o)=>Ql(e,n,((e,n,s,r,u,a,c,f,h,d,p)=>{let m=e.pxRound;const g={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,labels:[],flags:1},x=g.stroke;let w=h+p,b=h,_=b+6;"bottom"==t?_=w-6:"center"==t&&(_=(w-b)/2);for(let e=i;o>=e;e++){if(null==s[e])continue;let i=m(a(n[e],r,d,f));x.moveTo(i,w),x.lineTo(i,b),l&&g.labels.push({text:s[e],align:t,x:i,y:_})}return g.gaps=null,g.fill=null,g.clip=null,g.band=null,g}))}const Mt=new Set;function St(){Mt.forEach((e=>{e.syncRect(!0)}))}Ce("resize",we,St),Ce("scroll",we,St,!0);const Dt=kt(),Tt=yt(),Et=xt();function zt(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>At(e,n,l,t)))}function At(e,l,t,n){return $({},0==l?t:n,e)}function Pt(e,l,t){return null==l?V:[l,t]}const Wt=Pt;function Yt(e,l,t){return null==l?V:a(l,t,.1,!0)}function Ct(e,l,t,n){return null==l?V:i(l,t,e.scales[n].log,!1)}const Ft=Ct;function Rt(e,l,t,n){return null==l?V:o(l,t,e.scales[n].log,!1)}const Ht=Rt;function Bt(l,t,n,i,o){let s=k(E(l),E(t)),r=t-l,u=e(o/i*r,n);do{let e=n[u],l=i*e/r;if(l>=o&&17>=s+(5>e?I.get(e):0))return[e,l]}while(++u<n.length);return[0,0]}function Lt(e){let l,t;return[e=e.replace(/(\d+)px/,((e,n)=>(l=w((t=+n)*be))+"px")),l,t]}function It(e){e.show&&[e.font,e.labelFont].forEach((e=>{let l=L(e[2]*be,1);e[0]=e[0].replace(/[0-9.]+px/,l+"px"),e[1]=l}))}function Ot(l,t,n){const r={mode:c(l.mode,1)},u=r.mode;function f(e,l){return((3==l.distr?M(e>0?e:l.clamp(r,e,l.min,l.max,l.key)):4==l.distr?D(e,l.asinh):e)-l._min)/(l._max-l._min)}function h(e,l,t,n){let i=f(e,l);return n+t*(-1==l.dir?1-i:i)}function d(e,l,t,n){let i=f(e,l);return n+t*(-1==l.dir?i:1-i)}function x(e,l,t,n){return 0==l.ori?h(e,l,t,n):d(e,l,t,n)}r.valToPosH=h,r.valToPosV=d;let y=!1;r.status=0;const S=r.root=Se("uplot");null!=l.id&&(S.id=l.id),ke(S,l.class),l.title&&(Se("u-title",S).textContent=l.title);const E=Me("canvas"),W=r.ctx=E.getContext("2d"),B=Se("u-wrap",S),I=r.under=Se("u-under",B);B.appendChild(E);const O=r.over=Se("u-over",B),G=+c((l=Z(l)).pxAlign,1),X=ot(G);(l.plugins||[]).forEach((e=>{e.opts&&(l=e.opts(r,l)||l)}));const se=l.ms||.001,de=r.series=1==u?zt(l.series||[],Wl,Jl,!1):function(e,l){return e.map(((e,t)=>0==t?null:$({},l,e)))}(l.series||[null],Ul),_e=r.axes=zt(l.axes||[],Pl,Nl,!0),De=r.scales={},Ee=r.bands=l.bands||[];Ee.forEach((e=>{e.fill=P(e.fill||null),e.dir=c(e.dir,-1)}));const Ae=2==u?de[1].facets[0].scale:de[0].scale,We={axes:function(){for(let e=0;_e.length>e;e++){let l=_e[e];if(!l.show||!l._show)continue;let t,n,i=l.side,o=i%2,s=l.stroke(r,e),u=0==i||3==i?-1:1;if(l.label){let e=w((l._lpos+l.labelGap*u)*be);Kt(l.labelFont[0],s,"center",2==i?te:ne),W.save(),1==o?(t=n=0,W.translate(e,w(Hl+Ll/2)),W.rotate((3==i?-m:m)/2)):(t=w(Al+Bl/2),n=e),W.fillText(l.label,t,n),W.restore()}let[a,c]=l._found;if(0==c)continue;let f=De[l.scale],h=0==o?Bl:Ll,d=0==o?Al:Hl,p=w(l.gap*be),g=l._splits,b=2==f.distr?g.map((e=>jt[e])):g,_=2==f.distr?jt[g[1]]-jt[g[0]]:a,k=l.ticks,v=l.border,y=k.show?w(k.size*be):0,M=l._rotate*-m/180,S=X(l._pos*be),D=S+(y+p)*u;n=0==o?D:0,t=1==o?D:0,Kt(l.font[0],s,1==l.align?ie:2==l.align?oe:M>0?ie:0>M?oe:0==o?"center":3==i?oe:ie,M||1==o?"middle":2==i?te:ne);let T=1.5*l.font[1],E=g.map((e=>X(x(e,f,h,d)))),z=l._values;for(let e=0;z.length>e;e++){let l=z[e];if(null!=l){0==o?t=E[e]:n=E[e],l=""+l;let i=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;i.length>e;e++){let l=i[e];M?(W.save(),W.translate(t,n+e*T),W.rotate(M),W.fillText(l,0,0),W.restore()):W.fillText(l,t,n+e*T)}}}k.show&&tn(E,k.filter(r,b,e,c,_),o,i,S,y,L(k.width*be,3),k.stroke(r,e),k.dash,k.cap);let A=l.grid;A.show&&tn(E,A.filter(r,b,e,c,_),o,0==o?2:1,0==o?Hl:Al,0==o?Ll:Bl,L(A.width*be,3),A.stroke(r,e),A.dash,A.cap),v.show&&tn([S],[1],0==o?1:0,0==o?1:2,1==o?Hl:Al,1==o?Ll:Bl,L(v.width*be,3),v.stroke(r,e),v.dash,v.cap)}ti("drawAxes")},series:function(){pt>0&&(de.forEach(((e,l)=>{if(l>0&&e.show&&null==e._paths){let n=function(e){let l=A(mt-1,0,pt-1),t=A(gt+1,0,pt-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&pt-1>t;)t++;return[l,t]}(t[l]);e._paths=e.paths(r,l,n[0],n[1])}})),de.forEach(((e,l)=>{if(l>0&&e.show){Nt!=e.alpha&&(W.globalAlpha=Nt=e.alpha),$t(l,!1),e._paths&&Xt(l,!1);{$t(l,!0);let t=e.points.show(r,l,mt,gt),n=e.points.filter(r,l,t,e._paths?e._paths.gaps:null);(t||n)&&(e.points._paths=e.points.paths(r,l,mt,gt,n),Xt(l,!0))}null!=e._paths.labels&&function(e,l){let t=null==e._stroke?"black":e._stroke,n=null==e._fill?"white":e._fill,i=null==e._stroke?"black":e._stroke;Kt(W.font,t,"center","center"),l.forEach((e=>{let l=W.measureText(e.text),o=l.width,s=l.actualBoundingBoxDescent+l.actualBoundingBoxAscent,r=o+14,u=s+14,a=l.actualBoundingBoxAscent+7;"center"==e.align?a=u:"bottom"==e.align&&(a=-(l.actualBoundingBoxDescent+7)),console.log("text yOffAlign = "+a);let c=e.x,f=e.y+a;console.log("text (w,h) = ("+o+", "+s+")");let h=c-r/2,d=f-u/2;console.log("rect (x,y,w,h) = ("+h+", "+d+", "+r+", "+u+")"),W.fillStyle=n,W.strokeStyle=i,W.fillRect(h,d,r,u),W.strokeRect(h,d,r,u),W.fillStyle=t,W.fillText(e.text,c,f)}))}(e,e._paths.labels),1!=Nt&&(W.globalAlpha=Nt=1),ti("drawSeries",l)}})))}},Ye=(l.drawOrder||["axes","series"]).map((e=>We[e]));function Re(e){let t=De[e];if(null==t){let n=(l.scales||N)[e]||N;if(null!=n.from)Re(n.from),De[e]=$({},De[n.from],n,{key:e});else{t=De[e]=$({},e==Ae?Kl:Zl,n),t.key=e;let l=t.time,i=t.range,o=U(i);if((e!=Ae||2==u&&!l)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?s:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?s:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&q(i))){let e=i;i=(l,t,n)=>null==t?V:a(t,n,e)}t.range=P(i||(l?Wt:e==Ae?3==t.distr?Ft:4==t.distr?Ht:Pt:3==t.distr?Ct:4==t.distr?Rt:Yt)),t.auto=P(!o&&t.auto),t.clamp=P(t.clamp||ql),t._min=t._max=null}}}Re("x"),Re("y"),1==u&&de.forEach((e=>{Re(e.scale)})),_e.forEach((e=>{Re(e.scale)}));for(let e in l.scales)Re(e);const He=De[Ae],Be=He.distr;let Le,Ie;0==He.ori?(ke(S,"u-hz"),Le=h,Ie=d):(ke(S,"u-vt"),Le=d,Ie=h);const Oe={};for(let e in De){let l=De[e];null==l.min&&null==l.max||(Oe[e]={min:l.min,max:l.max},l.min=l.max=null)}const Ge=l.tzDate||(e=>new Date(w(e/se))),Ne=l.fmtDate||je,Ve=1==se?fl(Ge):pl(Ge),Ue=gl(Ge,ml(1==se?cl:dl,Ne)),Je=bl(Ge,wl("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Ne)),qe=[],Ke=r.legend=$({},_l,l.legend),Xe=Ke.show,Qe=Ke.markers;let el;Ke.idxs=qe,Qe.width=P(Qe.width),Qe.dash=P(Qe.dash),Qe.stroke=P(Qe.stroke),Qe.fill=P(Qe.fill);let ll,tl=[],nl=[],il=!1,ol={};if(Ke.live){const e=de[1]?de[1].values:null;il=null!=e,ll=il?e(r,1,0):{_:0};for(let e in ll)ol[e]="--"}if(Xe)if(el=Me("table","u-legend",S),il){let e=Me("tr","u-thead",el);for(var sl in Me("th",null,e),ll)Me("th",ge,e).textContent=sl}else ke(el,"u-inline"),Ke.live&&ke(el,"u-live");const rl={show:!0},ul={show:!1},xl=new Map;function kl(e,l,t){const n=xl.get(l)||{},i=it.bind[e](r,l,t);i&&(Ce(e,l,n[e]=i),xl.set(l,n))}function vl(e,l){const t=xl.get(l)||{};for(let n in t)null!=e&&n!=e||(Fe(n,l,t[n]),delete t[n]);null==e&&xl.delete(l)}let yl=0,Sl=0,Dl=0,Tl=0,El=0,zl=0,Al=0,Hl=0,Bl=0,Ll=0;r.bbox={};let Il=!1,Vl=!1,$l=!1,Ql=!1,et=!1;function tt(e,l,t){(t||e!=r.width||l!=r.height)&&nt(e,l),sn(!1),$l=!0,Vl=!0,Ql=et=it.left>=0,_n()}function nt(e,l){r.width=yl=Dl=e,r.height=Sl=Tl=l,El=zl=0,function(){let e=!1,l=!1,t=!1,n=!1;_e.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=o%2,u=s+(null!=i.label?i.labelSize:0);u>0&&(r?(Dl-=u,3==o?(El+=u,n=!0):t=!0):(Tl-=u,0==o?(zl+=u,e=!0):l=!0))}})),ct[0]=e,ct[1]=t,ct[2]=l,ct[3]=n,Dl-=dt[1]+dt[3],El+=dt[3],Tl-=dt[2]+dt[0],zl+=dt[0]}(),function(){let e=El+Dl,l=zl+Tl,t=El,n=zl;function i(i,o){switch(i){case 1:return e+=o,e-o;case 2:return l+=o,l-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}_e.forEach((e=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}}))}();let t=r.bbox;Al=t.left=z(El*be,.5),Hl=t.top=z(zl*be,.5),Bl=t.width=z(Dl*be,.5),Ll=t.height=z(Tl*be,.5)}r.setSize=function({width:e,height:l}){tt(e,l)};const it=r.cursor=$({},Ml,{drag:{y:2==u}},l.cursor);{it.idxs=qe,it._lock=!1;let e=it.points;e.show=P(e.show),e.size=P(e.size),e.stroke=P(e.stroke),e.width=P(e.width),e.fill=P(e.fill)}const st=r.focus=$({},l.focus||{alpha:.3},it.focus),rt=st.prox>=0;let ut=[null];function at(e,l){if(1==u||l>0){let l=1==u&&De[e.scale].time,t=e.value;e.value=l?J(t)?bl(Ge,wl(t,Ne)):t||Je:t||Gl,e.label=e.label||(l?"Time":"Value")}if(l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||Dt||C,e.fillTo=P(e.fillTo||lt),e.pxAlign=+c(e.pxAlign,G),e.pxRound=ot(e.pxAlign),""+e.paths==""+Tt&&(e.auto=!1,e.value=(e,l)=>null==l?"--":l),e.stroke=P(e.stroke||null),e.fill=P(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=jl(e.width,1),t=e.points=$({},{size:l,width:k(1,.2*l),stroke:e.stroke,space:2*l,paths:Et,_stroke:null,_fill:null},e.points);t.show=P(t.show),t.filter=P(t.filter),t.fill=P(t.fill),t.stroke=P(t.stroke),t.paths=P(t.paths),t.pxAlign=e.pxAlign}if(Xe){let t=function(e,l){if(0==l&&(il||!Ke.live||2==u))return V;let t=[],n=Me("tr","u-series",el,el.childNodes[l]);ke(n,e.class),e.show||ke(n,me);let i=Me("th",null,n);if(Qe.show){let e=Se("u-marker",i);if(l>0){let t=Qe.width(r,l);t&&(e.style.border=t+"px "+Qe.dash(r,l)+" "+Qe.stroke(r,l)),e.style.background=Qe.fill(r,l)}}let o=Se(ge,i);for(var s in o.textContent=e.label,l>0&&(Qe.show||(o.style.color=e.width>0?Qe.stroke(r,l):Qe.fill(r,l)),kl("click",i,(l=>{if(it._lock)return;let t=de.indexOf(e);if((l.ctrlKey||l.metaKey)!=Ke.isolate){let e=de.some(((e,l)=>l>0&&l!=t&&e.show));de.forEach(((l,n)=>{n>0&&Pn(n,e?n==t?rl:ul:rl,!0,ni.setSeries)}))}else Pn(t,{show:!e.show},!0,ni.setSeries)})),rt&&kl(ce,i,(()=>{it._lock||Pn(de.indexOf(e),Fn,!0,ni.setSeries)}))),ll){let e=Me("td","u-value",n);e.textContent="--",t.push(e)}return[n,t]}(e,l);tl.splice(l,0,t[0]),nl.splice(l,0,t[1]),Ke.values.push(null)}if(it.show){qe.splice(l,0,null);let t=function(e,l){if(l>0){let t=it.points.show(r,l);if(t)return ke(t,"u-cursor-pt"),ke(t,e.class),Te(t,-10,-10,Dl,Tl),O.insertBefore(t,ut[l]),t}}(e,l);t&&ut.splice(l,0,t)}ti("addSeries",l)}r.addSeries=function(e,l){e=At(e,l=null==l?de.length:l,Wl,Jl),de.splice(l,0,e),at(de[l],l)},r.delSeries=function(e){if(de.splice(e,1),Xe){Ke.values.splice(e,1),nl.splice(e,1);let l=tl.splice(e,1)[0];vl(null,l.firstChild),l.remove()}it.show&&(qe.splice(e,1),ut.length>1&&ut.splice(e,1)[0].remove()),ti("delSeries",e)};const ct=[!1,!1,!1,!1];function ft(e,l,t){let[n,i,o,s]=t,r=l%2,u=0;return 0==r&&(s||i)&&(u=0==l&&!n||2==l&&!o?w(Pl.size/3):0),1==r&&(n||o)&&(u=1==l&&!i||3==l&&!s?w(Nl.size/2):0),u}const ht=r.padding=(l.padding||[ft,ft,ft,ft]).map((e=>P(c(e,ft)))),dt=r._padding=ht.map(((e,l)=>e(r,l,ct,0)));let pt,mt=null,gt=null;const xt=1==u?de[0].idxs:null;let wt,bt,_t,kt,vt,yt,St,Ot,Gt,Nt,jt=null,Vt=!1;function Ut(e,l){if(t=null==e?[]:Z(e,K),2==u){pt=0;for(let e=1;de.length>e;e++)pt+=t[e][0].length;r.data=t=e}else if(null==t[0]&&(t[0]=[]),r.data=t.slice(),jt=t[0],pt=jt.length,2==Be){t[0]=Array(pt);for(let e=0;pt>e;e++)t[0][e]=e}if(r._data=t,sn(!0),ti("setData"),!1!==l){let e=He;e.auto(r,Vt)?Jt():An(Ae,e.min,e.max),Ql=it.left>=0,et=!0,_n()}}function Jt(){let e,l;Vt=!0,1==u&&(pt>0?(mt=xt[0]=0,gt=xt[1]=pt-1,e=t[0][mt],l=t[0][gt],2==Be?(e=mt,l=gt):1==pt&&(3==Be?[e,l]=i(e,e,He.log,!1):4==Be?[e,l]=o(e,e,He.log,!1):He.time?l=e+w(86400/se):[e,l]=a(e,l,.1,!0))):(mt=xt[0]=e=null,gt=xt[1]=l=null)),An(Ae,e,l)}function qt(e="#0000",l,t=j,n="butt",i="#0000",o="round"){e!=wt&&(W.strokeStyle=wt=e),i!=bt&&(W.fillStyle=bt=i),l!=_t&&(W.lineWidth=_t=l),o!=vt&&(W.lineJoin=vt=o),n!=yt&&(W.lineCap=yt=n),t!=kt&&W.setLineDash(kt=t)}function Kt(e,l,t,n){l!=bt&&(W.fillStyle=bt=l),e!=St&&(W.font=St=e),t!=Ot&&(W.textAlign=Ot=t),n!=Gt&&(W.textBaseline=Gt=n)}function Zt(e,l,t,n,i=0){if(e.auto(r,Vt)&&(null==l||null==l.min)){let l=c(mt,0),o=c(gt,n.length-1),s=null==t.min?3==e.distr?function(e,l,t){let n=T,i=-T;for(let o=l;t>=o;o++)e[o]>0&&(n=_(n,e[o]),i=k(i,e[o]));return[n==T?1:n,i==-T?10:i]}(n,l,o):function(e,l,t,n){let i=T,o=-T;if(1==n)i=e[l],o=e[t];else if(-1==n)i=e[t],o=e[l];else for(let n=l;t>=n;n++)null!=e[n]&&(i=_(i,e[n]),o=k(o,e[n]));return[i,o]}(n,l,o,i):[t.min,t.max];e.min=_(e.min,t.min=s[0]),e.max=k(e.max,t.max=s[1])}}function $t(e,l){let t=l?de[e].points:de[e];t._stroke=t.stroke(r,e),t._fill=t.fill(r,e)}function Xt(e,l){let n=l?de[e].points:de[e],i=n._stroke,o=n._fill,{stroke:s,fill:u,clip:a,flags:f}=n._paths,h=null,d=L(n.width*be,3),p=d%2/2;l&&null==o&&(o=d>0?"#fff":i);let m=1==n.pxAlign;if(m&&W.translate(p,p),!l){let e=Al,l=Hl,t=Bl,i=Ll,o=d*be/2;0==n.min&&(i+=o),0==n.max&&(l-=o,i+=o),h=new Path2D,h.rect(e,l,t,i)}l?Qt(i,d,n.dash,n.cap,o,s,u,f,a):function(e,l,n,i,o,s,u,a,f,h,d){let p=!1;Ee.forEach(((m,g)=>{if(m.series[0]==e){let e,x=de[m.series[1]],w=t[m.series[1]],b=(x._paths||N).band;U(b)&&(b=1==m.dir?b[0]:b[1]);let _=null;x.show&&b&&function(e,l,t){for(l=c(l,0),t=c(t,e.length-1);t>=l;){if(null!=e[l])return!0;l++}return!1}(w,mt,gt)?(_=m.fill(r,g)||s,e=x._paths.clip):b=null,Qt(l,n,i,o,_,u,a,f,h,d,e,b),p=!0}})),p||Qt(l,n,i,o,s,u,a,f,h,d)}(e,i,d,n.dash,n.cap,o,s,u,f,h,a),m&&W.translate(-p,-p)}function Qt(e,l,t,n,i,o,s,r,u,a,c,f){qt(e,l,t,n,i),(u||a||f)&&(W.save(),u&&W.clip(u),a&&W.clip(a)),f?3==(3&r)?(W.clip(f),c&&W.clip(c),ln(i,s),en(e,o,l)):2&r?(ln(i,s),W.clip(f),en(e,o,l)):1&r&&(W.save(),W.clip(f),c&&W.clip(c),ln(i,s),W.restore(),en(e,o,l)):(ln(i,s),en(e,o,l)),(u||a||f)&&W.restore()}function en(e,l,t){t>0&&(l instanceof Map?l.forEach(((e,l)=>{W.strokeStyle=wt=l,W.stroke(e)})):null!=l&&e&&W.stroke(l))}function ln(e,l){l instanceof Map?l.forEach(((e,l)=>{W.fillStyle=bt=l,W.fill(e)})):null!=l&&e&&W.fill(l)}function tn(e,l,t,n,i,o,s,r,u,a){let c=s%2/2;1==G&&W.translate(c,c),qt(r,s,u,a,r),W.beginPath();let f,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(f=i,d=m);for(let n=0;e.length>n;n++)null!=l[n]&&(0==t?f=d=e[n]:h=p=e[n],W.moveTo(f,h),W.lineTo(d,p));W.stroke(),1==G&&W.translate(-c,-c)}function nn(e){let l=!0;return _e.forEach(((t,n)=>{if(!t.show)return;let i=De[t.scale];if(null==i.min)return void(t._show&&(l=!1,t._show=!1,sn(!1)));t._show||(l=!1,t._show=!0,sn(!1));let o=t.side,s=o%2,{min:u,max:a}=i,[c,f]=function(e,l,t,n){let i,o=_e[e];if(n>0){let s=o._space=o.space(r,e,l,t,n);i=Bt(l,t,o._incrs=o.incrs(r,e,l,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,u,a,0==s?Dl:Tl);if(0==f)return;let h=t._splits=t.splits(r,n,u,a,c,f,2==i.distr),d=2==i.distr?h.map((e=>jt[e])):h,p=2==i.distr?jt[h[1]]-jt[h[0]]:c,m=t._values=t.values(r,t.filter(r,d,n,f,p),n,f,p);t._rotate=2==o?t.rotate(r,m,n,f):0;let g=t._size;t._size=b(t.size(r,m,n,e)),null!=g&&t._size!=g&&(l=!1)})),l}function on(e){let l=!0;return ht.forEach(((t,n)=>{let i=t(r,n,ct,e);i!=dt[n]&&(l=!1),dt[n]=i})),l}function sn(e){de.forEach(((l,t)=>{t>0&&(l._paths=null,e&&(1==u?(l.min=null,l.max=null):l.facets.forEach((e=>{e.min=null,e.max=null}))))}))}r.setData=Ut;let rn,un,an,cn,fn,hn,dn,pn,mn,gn,xn,wn,bn=!1;function _n(){bn||(Q(kn),bn=!0)}function kn(){Il&&(function(){let l=Z(De,K);for(let e in l){let t=l[e],n=Oe[e];if(null!=n&&null!=n.min)$(t,n),e==Ae&&sn(!0);else if(e!=Ae||2==u)if(0==pt&&null==t.from){let l=t.range(r,null,null,e);t.min=l[0],t.max=l[1]}else t.min=T,t.max=-T}if(pt>0){de.forEach(((n,i)=>{if(1==u){let o=n.scale,s=l[o],u=Oe[o];if(0==i){let l=s.range(r,s.min,s.max,o);s.min=l[0],s.max=l[1],mt=e(s.min,t[0]),gt=e(s.max,t[0]),s.min>t[0][mt]&&mt++,t[0][gt]>s.max&&gt--,n.min=jt[mt],n.max=jt[gt]}else n.show&&n.auto&&Zt(s,u,n,t[i],n.sorted);n.idxs[0]=mt,n.idxs[1]=gt}else if(i>0&&n.show&&n.auto){let[e,o]=n.facets,s=e.scale,r=o.scale,[u,a]=t[i];Zt(l[s],Oe[s],e,u,e.sorted),Zt(l[r],Oe[r],o,a,o.sorted),n.min=o.min,n.max=o.max}}));for(let e in l){let t=l[e],n=Oe[e];if(null==t.from&&(null==n||null==n.min)){let l=t.range(r,t.min==T?null:t.min,t.max==-T?null:t.max,e);t.min=l[0],t.max=l[1]}}}for(let e in l){let t=l[e];if(null!=t.from){let n=l[t.from];if(null==n.min)t.min=t.max=null;else{let l=t.range(r,n.min,n.max,e);t.min=l[0],t.max=l[1]}}}let n={},i=!1;for(let e in l){let t=l[e],o=De[e];if(o.min!=t.min||o.max!=t.max){o.min=t.min,o.max=t.max;let l=o.distr;o._min=3==l?M(o.min):4==l?D(o.min,o.asinh):o.min,o._max=3==l?M(o.max):4==l?D(o.max,o.asinh):o.max,n[e]=i=!0}}if(i){de.forEach(((e,l)=>{2==u?l>0&&n.y&&(e._paths=null):n[e.scale]&&(e._paths=null)}));for(let e in n)$l=!0,ti("setScale",e);it.show&&(Ql=et=it.left>=0)}for(let e in Oe)Oe[e]=null}(),Il=!1),$l&&(function(){let e=!1,l=0;for(;!e;){l++;let t=nn(l),n=on(l);e=3==l||t&&n,e||(nt(r.width,r.height),Vl=!0)}}(),$l=!1),Vl&&(ye(I,ie,El),ye(I,te,zl),ye(I,ee,Dl),ye(I,le,Tl),ye(O,ie,El),ye(O,te,zl),ye(O,ee,Dl),ye(O,le,Tl),ye(B,ee,yl),ye(B,le,Sl),E.width=w(yl*be),E.height=w(Sl*be),_e.forEach((({_el:e,_show:l,_size:t,_pos:n,side:i})=>{if(null!=e)if(l){let l=i%2==1;ye(e,l?"left":"top",n-(3===i||0===i?t:0)),ye(e,l?"width":"height",t),ye(e,l?"top":"left",l?zl:El),ye(e,l?"height":"width",l?Tl:Dl),ve(e,me)}else ke(e,me)})),wt=bt=_t=vt=yt=St=Ot=Gt=kt=null,Nt=1,Vn(!0),ti("setSize"),Vl=!1),yl>0&&Sl>0&&(W.clearRect(0,0,E.width,E.height),ti("drawClear"),Ye.forEach((e=>e())),ti("draw")),it.show&&Ql&&(Nn(null,!0,!1),Ql=!1),y||(y=!0,r.status=1,ti("ready")),Vt=!1,bn=!1}function vn(l,n){let i=De[l];if(null==i.from){if(0==pt){let e=i.range(r,n.min,n.max,l);n.min=e[0],n.max=e[1]}if(n.min>n.max){let e=n.min;n.min=n.max,n.max=e}if(pt>1&&null!=n.min&&null!=n.max&&1e-16>n.max-n.min)return;l==Ae&&2==i.distr&&pt>0&&(n.min=e(n.min,t[0]),n.max=e(n.max,t[0]),n.min==n.max&&n.max++),Oe[l]=n,Il=!0,_n()}}r.redraw=(e,l)=>{$l=l||!1,!1!==e?An(Ae,He.min,He.max):_n()},r.setScale=vn;let yn=!1;const Mn=it.drag;let Sn=Mn.x,Dn=Mn.y;it.show&&(it.x&&(rn=Se("u-cursor-x",O)),it.y&&(un=Se("u-cursor-y",O)),0==He.ori?(an=rn,cn=un):(an=un,cn=rn),xn=it.left,wn=it.top);const Tn=r.select=$({show:!0,over:!0,left:0,width:0,top:0,height:0},l.select),En=Tn.show?Se("u-select",Tn.over?O:I):null;function zn(e,l){if(Tn.show){for(let l in e)ye(En,l,Tn[l]=e[l]);!1!==l&&ti("setSelect")}}function An(e,l,t){vn(e,{min:l,max:t})}function Pn(e,l,t,n){let i=de[e];null!=l.focus&&function(e){if(e!=Cn){let l=null==e,t=1!=st.alpha;de.forEach(((n,i)=>{let o=l||0==i||i==e;n._focus=l?null:o,t&&function(e,l){de[e].alpha=l,it.show&&ut[e]&&(ut[e].style.opacity=l),Xe&&tl[e]&&(tl[e].style.opacity=l)}(i,o?1:st.alpha)})),Cn=e,t&&_n()}}(e),null!=l.show&&(i.show=l.show,function(e){let l=Xe?tl[e]:null;de[e].show?l&&ve(l,me):(l&&ke(l,me),ut.length>1&&Te(ut[e],-10,-10,Dl,Tl))}(e),An(2==u?i.facets[1].scale:i.scale,null,null),_n()),!1!==t&&ti("setSeries",e,l),n&&si("setSeries",r,e,l)}let Wn,Yn,Cn;r.setSelect=zn,r.setSeries=Pn,r.addBand=function(e,l){e.fill=P(e.fill||null),e.dir=c(e.dir,-1),Ee.splice(l=null==l?Ee.length:l,0,e)},r.setBand=function(e,l){$(Ee[e],l)},r.delBand=function(e){null==e?Ee.length=0:Ee.splice(e,1)};const Fn={focus:!0};function Rn(e,l,t){let n=De[l];t&&(e=e/be-(1==n.ori?zl:El));let i=Dl;1==n.ori&&(i=Tl,e=i-e),-1==n.dir&&(e=i-e);let o=n._min,s=o+e/i*(n._max-o),r=n.distr;return 3==r?v(10,s):4==r?((e,l=1)=>p.sinh(e)*l)(s,n.asinh):s}function Hn(e,l){ye(En,ie,Tn.left=e),ye(En,ee,Tn.width=l)}function Bn(e,l){ye(En,te,Tn.top=e),ye(En,le,Tn.height=l)}Xe&&rt&&Ce(fe,el,(()=>{it._lock||null!=Cn&&Pn(null,Fn,!0,ni.setSeries)})),r.valToIdx=l=>e(l,t[0]),r.posToIdx=function(l,n){return e(Rn(l,Ae,n),t[0],mt,gt)},r.posToVal=Rn,r.valToPos=(e,l,t)=>0==De[l].ori?h(e,De[l],t?Bl:Dl,t?Al:0):d(e,De[l],t?Ll:Tl,t?Hl:0),r.batch=function(e){e(r),_n()},r.setCursor=(e,l,t)=>{xn=e.left,wn=e.top,Nn(null,l,t)};let Ln=0==He.ori?Hn:Bn,In=1==He.ori?Hn:Bn;function On(e,l){if(null!=e){let l=e.idx;Ke.idx=l,de.forEach(((e,t)=>{(t>0||!il)&&Gn(t,l)}))}Xe&&Ke.live&&function(){if(Xe&&Ke.live)for(let e=2==u?1:0;de.length>e;e++){if(0==e&&il)continue;let l=Ke.values[e],t=0;for(let n in l)nl[e][t++].firstChild.nodeValue=l[n]}}(),et=!1,!1!==l&&ti("setLegend")}function Gn(e,l){let n;if(null==l)n=ol;else{let i=de[e],o=0==e&&2==Be?jt:t[e];n=il?i.values(r,e,l):{_:i.value(r,o[l],e,l)}}Ke.values[e]=n}function Nn(l,n,i){let o;mn=xn,gn=wn,[xn,wn]=it.move(r,xn,wn),it.show&&(an&&Te(an,w(xn),0,Dl,Tl),cn&&Te(cn,0,w(wn),Dl,Tl)),Wn=T;let s=0==He.ori?Dl:Tl,a=1==He.ori?Dl:Tl;if(0>xn||0==pt||mt>gt){o=null;for(let e=0;de.length>e;e++)e>0&&ut.length>1&&Te(ut[e],-10,-10,Dl,Tl);if(rt&&Pn(null,Fn,!0,null==l&&ni.setSeries),Ke.live){qe.fill(null),et=!0;for(let e=0;de.length>e;e++)Ke.values[e]=ol}}else{let l,n,i;1==u&&(l=0==He.ori?xn:wn,n=Rn(l,Ae),o=e(n,t[0],mt,gt),i=H(Le(t[0][o],He,s,0),.5));for(let e=2==u?1:0;de.length>e;e++){let l=de[e],c=qe[e],f=1==u?t[e][c]:t[e][1][c],h=it.dataIdx(r,e,o,n),d=1==u?t[e][h]:t[e][1][h];et=et||d!=f||h!=c,qe[e]=h;let p=h==o?i:H(Le(1==u?t[0][h]:t[e][0][h],He,s,0),.5);if(e>0&&l.show){let t,n,i=null==d?-10:H(Ie(d,1==u?De[l.scale]:De[l.facets[1].scale],a,0),.5);if(i>0&&1==u){let l=g(i-wn);l>Wn||(Wn=l,Yn=e)}if(0==He.ori?(t=p,n=i):(t=i,n=p),et&&ut.length>1){ze(ut[e],it.points.fill(r,e),it.points.stroke(r,e));let l,i,o,s,u=!0,a=it.points.bbox;if(null!=a){u=!1;let t=a(r,e);o=t.left,s=t.top,l=t.width,i=t.height}else o=t,s=n,l=i=it.points.size(r,e);Pe(ut[e],l,i,u),Te(ut[e],o,s,Dl,Tl)}}if(Ke.live){if(!et||0==e&&il)continue;Gn(e,h)}}}if(it.idx=o,it.left=xn,it.top=wn,et&&(Ke.idx=o,On()),Tn.show&&yn)if(null!=l){let[e,t]=ni.scales,[n,i]=ni.match,[o,r]=l.cursor.sync.scales,u=l.cursor.drag;if(Sn=u._x,Dn=u._y,Sn||Dn){let u,c,f,h,d,{left:p,top:m,width:x,height:w}=l.select,b=l.scales[e].ori,k=l.posToVal,v=null!=e&&n(e,o),y=null!=t&&i(t,r);v?(0==b?(u=p,c=x):(u=m,c=w),f=De[e],h=Le(k(u,o),f,s,0),d=Le(k(u+c,o),f,s,0),Ln(_(h,d),g(d-h))):Ln(0,s),y?(1==b?(u=p,c=x):(u=m,c=w),f=De[t],h=Ie(k(u,r),f,a,0),d=Ie(k(u+c,r),f,a,0),In(_(h,d),g(d-h))):In(0,a)}else Kn()}else{let e=g(mn-fn),l=g(gn-hn);if(1==He.ori){let t=e;e=l,l=t}Sn=Mn.x&&e>=Mn.dist,Dn=Mn.y&&l>=Mn.dist;let t,n,i=Mn.uni;null!=i?Sn&&Dn&&(Sn=e>=i,Dn=l>=i,Sn||Dn||(l>e?Dn=!0:Sn=!0)):Mn.x&&Mn.y&&(Sn||Dn)&&(Sn=Dn=!0),Sn&&(0==He.ori?(t=dn,n=xn):(t=pn,n=wn),Ln(_(t,n),g(n-t)),Dn||In(0,a)),Dn&&(1==He.ori?(t=dn,n=xn):(t=pn,n=wn),In(_(t,n),g(n-t)),Sn||Ln(0,s)),Sn||Dn||(Ln(0,0),In(0,0))}if(Mn._x=Sn,Mn._y=Dn,null==l){if(i){if(null!=ii){let[e,l]=ni.scales;ni.values[0]=null!=e?Rn(0==He.ori?xn:wn,e):null,ni.values[1]=null!=l?Rn(1==He.ori?xn:wn,l):null}si(re,r,xn,wn,Dl,Tl,o)}if(rt){let e=i&&ni.setSeries,l=st.prox;null==Cn?Wn>l||Pn(Yn,Fn,!0,e):Wn>l?Pn(null,Fn,!0,e):Yn!=Cn&&Pn(Yn,Fn,!0,e)}}y&&!1!==n&&ti("setCursor")}r.setLegend=On;let jn=null;function Vn(e){!0===e?jn=null:(jn=O.getBoundingClientRect(),ti("syncRect",jn))}function Un(e,l,t,n,i,o){it._lock||(Jn(e,l,t,n,i,o,0,!1,null!=e),null!=e?Nn(null,!0,!0):Nn(l,!0,!1))}function Jn(e,l,t,n,i,o,s,u,a){if(null==jn&&Vn(!1),null!=e)t=e.clientX-jn.left,n=e.clientY-jn.top;else{if(0>t||0>n)return xn=-10,void(wn=-10);let[e,s]=ni.scales,r=l.cursor.sync,[u,a]=r.values,[c,f]=r.scales,[h,d]=ni.match,p=l.axes[0].side%2==1,m=0==He.ori?Dl:Tl,g=1==He.ori?Dl:Tl,w=p?o:i,b=p?i:o,_=p?n:t,k=p?t:n;if(t=null!=c?h(e,c)?x(u,De[e],m,0):-10:m*(_/w),n=null!=f?d(s,f)?x(a,De[s],g,0):-10:g*(k/b),1==He.ori){let e=t;t=n,n=e}}a&&(t>1&&Dl-1>t||(t=z(t,Dl)),n>1&&Tl-1>n||(n=z(n,Tl))),u?(fn=t,hn=n,[dn,pn]=it.move(r,t,n)):(xn=t,wn=n)}const qn={width:0,height:0};function Kn(){zn(qn,!1)}function Zn(e,l,t,n,i,o){yn=!0,Sn=Dn=Mn._x=Mn._y=!1,Jn(e,l,t,n,i,o,0,!0,!1),null!=e&&(kl(ae,xe,$n),si(ue,r,dn,pn,Dl,Tl,null))}function $n(e,l,t,n,i,o){yn=Mn._x=Mn._y=!1,Jn(e,l,t,n,i,o,0,!1,!0);let{left:s,top:u,width:a,height:c}=Tn,f=a>0||c>0;if(f&&zn(Tn),Mn.setScale&&f){let e=s,l=a,t=u,n=c;if(1==He.ori&&(e=u,l=c,t=s,n=a),Sn&&An(Ae,Rn(e,Ae),Rn(e+l,Ae)),Dn)for(let e in De){let l=De[e];e!=Ae&&null==l.from&&l.min!=T&&An(e,Rn(t+n,e),Rn(t,e))}Kn()}else it.lock&&(it._lock=!it._lock,it._lock||Nn(null,!0,!1));null!=e&&(vl(ae,xe),si(ae,r,xn,wn,Dl,Tl,null))}function Xn(e){Jt(),Kn(),null!=e&&si(he,r,xn,wn,Dl,Tl,null)}function Qn(){_e.forEach(It),tt(r.width,r.height,!0)}Ce(pe,we,Qn);const ei={};ei.mousedown=Zn,ei.mousemove=Un,ei.mouseup=$n,ei.dblclick=Xn,ei.setSeries=(e,l,t,n)=>{Pn(t,n,!0,!1)},it.show&&(kl(ue,O,Zn),kl(re,O,Un),kl(ce,O,Vn),kl(fe,O,(function(){if(!it._lock){let e=yn;if(yn){let e,l,t=!0,n=!0,i=10;0==He.ori?(e=Sn,l=Dn):(e=Dn,l=Sn),e&&l&&(t=i>=xn||xn>=Dl-i,n=i>=wn||wn>=Tl-i),e&&t&&(xn=dn>xn?0:Dl),l&&n&&(wn=pn>wn?0:Tl),Nn(null,!0,!0),yn=!1}xn=-10,wn=-10,Nn(null,!0,!0),e&&(yn=e)}})),kl(he,O,Xn),Mt.add(r),r.syncRect=Vn);const li=r.hooks=l.hooks||{};function ti(e,l,t){e in li&&li[e].forEach((e=>{e.call(null,r,l,t)}))}(l.plugins||[]).forEach((e=>{for(let l in e.hooks)li[l]=(li[l]||[]).concat(e.hooks[l])}));const ni=$({key:null,setSeries:!1,filters:{pub:F,sub:F},scales:[Ae,de[1]?de[1].scale:null],match:[R,R],values:[null,null]},it.sync);it.sync=ni;const ii=ni.key,oi=Xl(ii);function si(e,l,t,n,i,o,s){ni.filters.pub(e,l,t,n,i,o,s)&&oi.pub(e,l,t,n,i,o,s)}function ri(){ti("init",l,t),Ut(t||l.data,!1),Oe[Ae]?vn(Ae,Oe[Ae]):Jt(),tt(l.width,l.height),Nn(null,!0,!1),zn(Tn,!1)}return oi.sub(r),r.pub=function(e,l,t,n,i,o,s){ni.filters.sub(e,l,t,n,i,o,s)&&ei[e](null,l,t,n,i,o,s)},r.destroy=function(){oi.unsub(r),Mt.delete(r),xl.clear(),Fe(pe,we,Qn),S.remove(),ti("destroy")},de.forEach(at),_e.forEach((function(e,l){if(e._show=e.show,e.show){let t=e.side%2,n=De[e.scale];null==n&&(e.scale=t?de[1].scale:Ae,n=De[e.scale]);let i=n.time;e.size=P(e.size),e.space=P(e.space),e.rotate=P(e.rotate),e.incrs=P(e.incrs||(2==n.distr?Ze:i?1==se?al:hl:$e)),e.splits=P(e.splits||(i&&1==n.distr?Ve:3==n.distr?Fl:4==n.distr?Rl:Cl)),e.stroke=P(e.stroke),e.grid.stroke=P(e.grid.stroke),e.ticks.stroke=P(e.ticks.stroke),e.border.stroke=P(e.border.stroke);let o=e.values;e.values=U(o)&&!U(o[0])?P(o):i?U(o)?gl(Ge,ml(o,Ne)):J(o)?function(e,l){let t=je(l);return(l,n)=>n.map((l=>t(e(l))))}(Ge,o):o||Ue:o||Yl,e.filter=P(e.filter||(3>n.distr?Y:Ol)),e.font=Lt(e.font),e.labelFont=Lt(e.labelFont),e._size=e.size(r,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(ct[l]=!0,e._el=Se("u-axis",B))}})),n?n instanceof HTMLElement?(n.appendChild(S),ri()):n(r,ri):ri(),r}Ot.assign=$,Ot.fmtNum=d,Ot.rangeNum=a,Ot.rangeLog=i,Ot.rangeAsinh=o,Ot.orient=Ql,Ot.join=function(e,l){let t=new Set;for(let l=0;e.length>l;l++){let n=e[l][0],i=n.length;for(let e=0;i>e;e++)t.add(n[e])}let n=[Array.from(t).sort(((e,l)=>e-l))],i=n[0].length,o=new Map;for(let e=0;i>e;e++)o.set(n[0][e],e);for(let t=0;e.length>t;t++){let s=e[t],r=s[0];for(let e=1;s.length>e;e++){let u=s[e],a=Array(i).fill(void 0),c=l?l[t][e]:1,f=[];for(let e=0;u.length>e;e++){let l=u[e],t=o.get(r[e]);null===l?0!=c&&(a[t]=l,2==c&&f.push(t)):a[t]=l}X(a,f,i),n.push(a)}}return n},Ot.fmtDate=je,Ot.tzDate=function(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==Ve?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t},Ot.sync=Xl;{Ot.addGap=it,Ot.clipGaps=nt;let e=Ot.paths={points:xt};e.linear=kt,e.stepped=function(e){const t=c(e.align,1),n=c(e.ascDesc,!1);return(e,i,o,s)=>Ql(e,i,((r,u,a,c,f,h,d,p,m,g,x)=>{let w=r.pxRound,b=0==c.ori?at:ct;const _={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,labels:null,flags:1},k=_.stroke,v=1*c.dir*(0==c.ori?1:-1);o=l(a,o,s,1),s=l(a,o,s,-1);let y=[],M=!1,S=w(d(a[1==v?o:s],f,x,m)),D=w(h(u[1==v?o:s],c,g,p)),T=D;b(k,D,S);for(let e=1==v?o:s;e>=o&&s>=e;e+=v){let l=a[e],n=w(h(u[e],c,g,p));if(null==l){null===l&&(it(y,T,n),M=!0);continue}let i=w(d(l,f,x,m));M&&(it(y,T,n),M=!1),1==t?b(k,n,S):b(k,T,i),b(k,n,i),S=i,T=n}let[E,z]=et(e,i);if(null!=r.fill||0!=E){let l=_.fill=new Path2D(k),t=w(d(r.fillTo(e,i,r.min,r.max,E),f,x,m));b(l,T,t),b(l,D,t)}_.gaps=y=r.gaps(e,i,o,s,y);let A=r.width*be/2,P=n||1==t?A:-A,W=n||-1==t?-A:A;return y.forEach((e=>{e[0]+=P,e[1]+=W})),r.spanGaps||(_.clip=nt(y,c.ori,p,m,g,x)),0!=z&&(_.band=2==z?[tt(e,i,o,s,k,-1),tt(e,i,o,s,k,1)]:tt(e,i,o,s,k,z)),_}))},e.bars=function(e){const l=c((e=e||N).size,[.6,T,1]),t=e.align||0,n=(e.gap||0)*be,i=c(e.radius,0),o=1-l[0],s=c(l[1],T)*be,r=c(l[2],1)*be,u=c(e.disp,N),a=c(e.each,(()=>{})),{fill:f,stroke:h}=u;return(e,l,d,p)=>Ql(e,l,((m,w,b,v,y,M,S,D,T,E,z)=>{let A=m.pxRound;const P=v.dir*(0==v.ori?1:-1),W=y.dir*(1==y.ori?1:-1);let Y,C,F=0==v.ori?ft:ht,R=0==v.ori?a:(e,l,t,n,i,o,s)=>{a(e,l,t,i,n,s,o)},[H,B]=et(e,l),L=3==y.distr?1==H?y.max:y.min:0,I=S(L,y,z,T),O=A(m.width*be),G=!1,N=null,j=null,V=null,U=null;null==f||0!=O&&null==h||(G=!0,N=f.values(e,l,d,p),j=new Map,new Set(N).forEach((e=>{null!=e&&j.set(e,new Path2D)})),O>0&&(V=h.values(e,l,d,p),U=new Map,new Set(V).forEach((e=>{null!=e&&U.set(e,new Path2D)}))));let{x0:J,size:q}=u;if(null!=J&&null!=q){w=J.values(e,l,d,p),2==J.unit&&(w=w.map((l=>e.posToVal(D+l*E,v.key,!0))));let t=q.values(e,l,d,p);C=2==q.unit?t[0]*E:M(t[0],v,E,D)-M(0,v,E,D),C=A(C-O),Y=1==P?-O/2:C+O/2}else{let e=E;if(w.length>1){let l=null;for(let t=0,n=1/0;w.length>t;t++)if(void 0!==b[t]){if(null!=l){let i=g(w[t]-w[l]);n>i&&(n=i,e=g(M(w[t],v,E,D)-M(w[l],v,E,D)))}l=t}}C=A(_(s,k(r,e-e*o))-O-n),Y=(0==t?C/2:t==P?0:C)-t*P*n/2}const K={stroke:null,fill:null,clip:null,band:null,gaps:null,labels:null,flags:3};let Z;0!=B&&(K.band=new Path2D,Z=A(S(1==B?y.max:y.min,y,z,T)));const $=G?null:new Path2D,X=K.band;let{y0:Q,y1:ee}=u,le=null;null!=Q&&null!=ee&&(b=ee.values(e,l,d,p),le=Q.values(e,l,d,p));for(let t=1==P?d:p;t>=d&&p>=t;t+=P){let n=b[t],o=M(2!=v.distr||null!=u?w[t]:t,v,E,D),s=S(c(n,L),y,z,T);null!=le&&null!=n&&(I=S(le[t],y,z,T));let r=A(o-Y),a=A(k(s,I)),f=A(_(s,I)),h=a-f,d=i*C;null!=n&&(G?(O>0&&null!=V[t]&&F(U.get(V[t]),r,f+x(O/2),C,k(0,h-O),d),null!=N[t]&&F(j.get(N[t]),r,f+x(O/2),C,k(0,h-O),d)):F($,r,f+x(O/2),C,k(0,h-O),d),R(e,l,t,r-O/2,f,C+O,h)),0!=B&&(W*B==1?(a=f,f=Z):(f=a,a=Z),h=a-f,F(X,r-O/2,f,C+O,k(0,h),0))}return O>0&&(K.stroke=G?U:$),K.fill=G?j:$,K}))},e.spline=function(){return function(e){return(t,n,i,o)=>Ql(t,n,((s,r,u,a,c,f,h,d,p,m,g)=>{let x,w,b,_=s.pxRound;0==a.ori?(x=rt,b=at,w=mt):(x=ut,b=ct,w=gt);const k=1*a.dir*(0==a.ori?1:-1);i=l(u,i,o,1),o=l(u,i,o,-1);let v=[],y=!1,M=_(f(r[1==k?i:o],a,m,d)),S=M,D=[],T=[];for(let e=1==k?i:o;e>=i&&o>=e;e+=k){let l=u[e],t=f(r[e],a,m,d);null!=l?(y&&(it(v,S,t),y=!1),D.push(S=t),T.push(h(u[e],c,g,p))):null===l&&(it(v,S,t),y=!0)}const E={stroke:e(D,T,x,b,w,_),fill:null,clip:null,band:null,gaps:null,labels:null,flags:1},z=E.stroke;let[A,P]=et(t,n);if(null!=s.fill||0!=A){let e=E.fill=new Path2D(z),l=_(h(s.fillTo(t,n,s.min,s.max,A),c,g,p));b(e,S,l),b(e,M,l)}return E.gaps=v=s.gaps(t,n,i,o,v),s.spanGaps||(E.clip=nt(v,a.ori,d,p,m,g)),0!=P&&(E.band=2==P?[tt(t,n,i,o,z,-1),tt(t,n,i,o,z,1)]:tt(t,n,i,o,z,P)),E}))}(vt)},e.eventMarkers=yt}return Ot}();
