/*! https://github.com/leeoniya/uPlot (v1.6.30) */
var uPlot=function(){"use strict";const l=(new Intl.DateTimeFormat).resolvedOptions().locale;function e(l,e,t,n){let i;t=t||0;let o=2147483647>=(n=n||e.length-1);for(;n-t>1;)i=o?t+n>>1:m((t+n)/2),l>e[i]?t=i:n=i;return l-e[t]>e[n]-l?n:t}function t(l,e,t,n){for(let i=1==n?e:t;i>=e&&t>=i;i+=n)if(null!=l[i])return i;return-1}function n(l,e,t,n){let i=k(l),o=k(e);l==e&&(-1==i?(l*=t,e/=t):(l/=t,e*=t));let s=10==t?b:y,r=1==o?x:m,u=(1==i?m:x)(s(p(l))),a=r(s(p(e))),f=v(t,u),c=v(t,a);return 10==t&&(0>u&&(f=N(f,-u)),0>a&&(c=N(c,-a))),n||2==t?(l=f*i,e=c*o):(l=L(l,f),e=O(e,c)),[l,e]}function i(l,e,t,i){let o=n(l,e,t,i);return 0==l&&(o[0]=0),0==e&&(o[1]=0),o}const o=.1,s={mode:3,pad:o},r={pad:0,soft:null,mode:0},u={min:r,max:r};function a(l,e,t,n){return q(t)?c(l,e,t):(r.pad=t,r.soft=n?0:null,r.mode=n?3:0,c(l,e,u))}function f(l,e){return null==l?e:l}function c(l,e,t){let n=t.min,i=t.max,o=f(n.pad,0),s=f(i.pad,0),r=f(n.hard,-E),u=f(i.hard,E),a=f(n.soft,E),c=f(i.soft,-E),h=f(n.mode,0),d=f(i.mode,0),g=e-l,x=b(g),k=_(p(l),p(e)),y=b(k),S=p(y-x);(1e-9>g||S>10)&&(g=0,0!=l&&0!=e||(g=1e-9,2==h&&a!=E&&(o=0),2==d&&c!=-E&&(s=0)));let T=g||k||1e3,z=b(T),D=v(10,m(z)),P=N(L(l-T*(0==g?0==l?.1:1:o),D/10),9),A=a>l||1!=h&&(3!=h||P>a)&&(2!=h||a>P)?E:a,M=_(r,A>P&&l>=A?A:w(A,P)),C=N(O(e+T*(0==g?0==e?.1:1:s),D/10),9),I=e>c||1!=d&&(3!=d||c>C)&&(2!=d||C>c)?-E:c,R=w(u,C>I&&I>=e?I:_(I,C));return M==R&&0==M&&(R=100),[M,R]}const h=Math,d=h.PI,p=h.abs,m=h.floor,g=h.round,x=h.ceil,w=h.min,_=h.max,v=h.pow,k=h.sign,b=h.log10,y=h.log2,S=(l,e=1)=>h.asinh(l/e),E=1/0;function T(l){return 1+(0|b((l^l>>31)-(l>>31)))}function z(l,e,t){return w(_(l,e),t)}function D(l){return"function"==typeof l?l:()=>l}const P=l=>l,A=(l,e)=>e,M=()=>null,C=()=>!0,I=(l,e)=>l==e,R=/\.\d*?(?=9{6,}|0{6,})/gm,F=l=>{if(W(l)||Y.has(l))return l;const e=""+l,t=e.match(R);if(null==t)return l;let n=t[0].length-1;if(-1!=e.indexOf("e-")){let[l,t]=e.split("e");return+`${F(l)}e${t}`}return N(l,n)};function G(l,e){return F(N(F(l/e))*e)}function O(l,e){return F(x(F(l/e))*e)}function L(l,e){return F(m(F(l/e))*e)}function N(l,e=0){if(W(l))return l;let t=10**e;return g(l*t*(1+Number.EPSILON))/t}const Y=new Map;function j(l){return((""+l).split(".")[1]||"").length}function B(l,e,t,n){let i=[],o=n.map(j);for(let s=e;t>s;s++){let e=p(s),t=N(v(l,s),e);for(let r=0;n.length>r;r++){let u=10==l?+`${n[r]}e${s}`:n[r]*t,a=(0>s?e:0)+(o[r]>s?o[r]:0),f=10==l?u:N(u,a);i.push(f),Y.set(f,a)}}return i}const H={},U=[],V=[null,null],$=Array.isArray,W=Number.isInteger;function q(l){let e=!1;if(null!=l){let t=l.constructor;e=null==t||t==Object}return e}function K(l){return null!=l&&"object"==typeof l}const X=Object.getPrototypeOf(Uint8Array),Z="__proto__";function J(l,e=q){let t;if($(l)){let n=l.find((l=>null!=l));if($(n)||e(n)){t=Array(l.length);for(let n=0;l.length>n;n++)t[n]=J(l[n],e)}else t=l.slice()}else if(l instanceof X)t=l.slice();else if(e(l)){t={};for(let n in l)n!=Z&&(t[n]=J(l[n],e))}else t=l;return t}function Q(l){let e=arguments;for(let t=1;e.length>t;t++){let n=e[t];for(let e in n)e!=Z&&(q(l[e])?Q(l[e],J(n[e])):l[e]=J(n[e]))}return l}function ll(l,e,t){for(let n,i=0,o=-1;e.length>i;i++){let s=e[i];if(s>o){for(n=s-1;n>=0&&null==l[n];)l[n--]=null;for(n=s+1;t>n&&null==l[n];)l[o=n++]=null}}}const el="undefined"==typeof queueMicrotask?l=>Promise.resolve().then(l):queueMicrotask,tl="width",nl="height",il="top",ol="bottom",sl="left",rl="right",ul="#000",al=ul+"0",fl="mousemove",cl="mousedown",hl="mouseup",dl="mouseenter",pl="mouseleave",ml="dblclick",gl="change",xl="dppxchange",wl="--",_l="u-off",vl="u-label",kl="undefined"!=typeof window,bl=kl?document:null,yl=kl?window:null;let Sl,El;function Tl(l,e){if(null!=e){let t=l.classList;!t.contains(e)&&t.add(e)}}function zl(l,e){let t=l.classList;t.contains(e)&&t.remove(e)}function Dl(l,e,t){l.style[e]=t+"px"}function Pl(l,e,t,n){let i=bl.createElement(l);return null!=e&&Tl(i,e),null!=t&&t.insertBefore(i,n),i}function Al(l,e){return Pl("div",l,e)}const Ml=new WeakMap;function Cl(l,e,t,n,i){let o="translate("+e+"px,"+t+"px)";o!=Ml.get(l)&&(l.style.transform=o,Ml.set(l,o),0>e||0>t||e>n||t>i?Tl(l,_l):zl(l,_l))}const Il=new WeakMap;function Rl(l,e,t){let n=e+t;n!=Il.get(l)&&(Il.set(l,n),l.style.background=e,l.style.borderColor=t)}const Fl=new WeakMap;function Gl(l,e,t,n){let i=e+""+t;i!=Fl.get(l)&&(Fl.set(l,i),l.style.height=t+"px",l.style.width=e+"px",l.style.marginLeft=n?-e/2+"px":0,l.style.marginTop=n?-t/2+"px":0)}const Ol={passive:!0},Ll={...Ol,capture:!0};function Nl(l,e,t,n){e.addEventListener(l,t,n?Ll:Ol)}function Yl(l,e,t){e.removeEventListener(l,t,Ol)}kl&&function l(){let e=devicePixelRatio;Sl!=e&&(Sl=e,El&&Yl(gl,El,l),El=matchMedia(`(min-resolution: ${Sl-.001}dppx) and (max-resolution: ${Sl+.001}dppx)`),Nl(gl,El,l),yl.dispatchEvent(new CustomEvent(xl)))}();const jl=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Bl=l=>l%1==0,Hl=[1,2,2.5,5],Ul=B(10,-32,0,Hl),Vl=B(10,0,32,Hl),$l=Vl.filter(Bl),Wl=Ul.concat(Vl);let ql={year:"numeric"},Kl={month:"numeric"},Xl={month:"short"},Zl={day:"numeric"},Jl={hour:"numeric"},Ql={minute:"numeric"},le={second:"numeric"},ee={fractionalSecondDigits:3};const te=null;function ne(l){let e=1e3*l,t=60*e,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==l?B(10,0,3,Hl).filter(Bl):B(10,-3,0,Hl)).concat([e,5*e,10*e,15*e,30*e,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,{...ql},te,te,te,te,te,te,1],[28*i,{...Xl},{...ql},te,te,te,te,te,1],[i,{...Kl,...Zl},{...ql},te,te,te,te,te,1],[n,{...Jl},{...ql,...Kl,...Zl},te,{...Kl,...Zl},te,te,te,1],[t,{...Jl,...Ql},{...ql,...Kl,...Zl},te,{...Kl,...Zl},te,te,te,1],[e,{...le},{...ql,...Kl,...Zl,...Jl,...Ql},te,{...Kl,...Zl,...Jl,...Ql},te,{...Jl,...Ql},te,1],[l,{...le,...ee},{...ql,...Kl,...Zl,...Jl,...Ql},te,{...Kl,...Zl,...Jl,...Ql},te,{...Jl,...Ql},te,1]],function(e){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,x=c>=o&&s>c,w=e(a),_=N(w*l,3),v=he(w.getFullYear(),p?0:w.getMonth(),x||p?1:w.getDate()),k=N(v*l,3);if(x||p){let t=x?c/o:0,n=p?c/s:0,i=_==k?_:N(he(v.getFullYear()+n,v.getMonth()+t,1)*l,3),r=new Date(g(i/l)),u=r.getFullYear(),a=r.getMonth();for(let o=0;f>=i;o++){let s=he(u+n*o,a+t*o,1),r=s-e(N(s*l,3));i=N((+s+r)*l,3),i>f||d.push(i)}}else{let o=i>c?c:i,s=k+(m(a)-m(_))+O(_-k,o);d.push(s);let p=e(s),g=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,x=c/n,w=h/r.axes[u]._space;for(;s=N(s+c,1==l?0:3),f>=s;)if(x>1){let l=m(N(g+x,6))%24,t=e(s).getHours()-l;t>1&&(t=-1),s-=t*n,g=(g+x)%24,.7>N((s-d[d.length-1])/c,3)*w||d.push(s)}else d.push(s)}return d}}]}const[ie,oe,se]=ne(1),[re,ue,ae]=ne(.001);function fe(l,e){return l.map((l=>l.map(((t,n)=>{if(0==n||8==n||null==t)return t;const i=e(t);if(1==n||0==l[8])return i;{const t=e(l[1]);return l=>t(l)+"\n"+i(l)}}))))}function ce(l,e){return(t,n,i,o,s)=>{let r,u,a,f,c,h,d=e.find((l=>s>=l[0]))||e[e.length-1];return n.map((e=>{let t=l(e),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(t)}))}}function he(l,e,t){return new Date(l,e,t)}function de(l,e){return e(l)}function pe(l,e){return(t,n,i,o)=>null==o?wl:e(l(n))}B(2,-53,53,[1]);const me={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(l,e){let t=l.series[e];return t.width?t.stroke(l,e):t.points.width?t.points.stroke(l,e):null},fill:function(l,e){return l.series[e].fill(l,e)},dash:"solid"},idx:null,idxs:null,values:[]},ge=[0,0];function xe(l,e,t,n=!0){return l=>{0==l.button&&(!n||l.target==e)&&t(l)}}function we(l,e,t,n=!0){return l=>{(!n||l.target==e)&&t(l)}}const _e={show:!0,x:!0,y:!0,lock:!1,move:function(l,e,t){return ge[0]=e,ge[1]=t,ge},points:{one:!1,show:function(l,e){let t=l.cursor.points,n=Al(),i=t.size(l,e);Dl(n,tl,i),Dl(n,nl,i);let o=i/-2;Dl(n,"marginLeft",o),Dl(n,"marginTop",o);let s=t.width(l,e,i);return s&&Dl(n,"borderWidth",s),n},size:function(l,e){return l.series[e].points.size},width:0,stroke:function(l,e){let t=l.series[e].points;return t._stroke||t._fill},fill:function(l,e){let t=l.series[e].points;return t._fill||t._stroke}},bind:{mousedown:xe,mouseup:xe,click:xe,dblclick:xe,mousemove:we,mouseleave:we,mouseenter:we},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(l,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(l,e,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},ve={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ke=Q({},ve,{filter:A}),be=Q({},ke,{size:10}),ye=Q({},ve,{show:!1}),Se='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ee="bold "+Se,Te={show:!0,scale:"x",stroke:ul,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Ee,side:2,grid:ke,ticks:be,border:ye,font:Se,lineGap:1.5,rotate:0},ze={show:!0,scale:"x",auto:!1,sorted:1,min:E,max:-E,idxs:[]};function De(l,e,t,n,i,o){return e.map((l=>null==l?"":o(l)))}function Pe(l,e,t,n,i,o,s){let r=[],u=Y.get(i)||0;for(let l=t=s?t:N(O(t,i),u);n>=l;l=N(l+i,u))r.push(Object.is(l,-0)?0:l);return r}function Ae(l,t,n,i,o){const s=[],r=l.scales[l.axes[t].scale].log,u=m((10==r?b:y)(n));o=v(r,u),10==r&&(o=Wl[e(o,Wl)]);let a=n,f=o*r;10==r&&(f=Wl[e(f,Wl)]);do{s.push(a),a+=o,10!=r||Y.has(a)||(a=N(a,Y.get(o))),f>a||(f=(o=a)*r,10==r&&(f=Wl[e(f,Wl)]))}while(i>=a);return s}function Me(l,e,t,n,i){let o=l.scales[l.axes[e].scale].asinh,s=n>o?Ae(l,e,_(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?Ae(l,e,_(o,-n),-t,i):[o]).reverse().map((l=>-l)).concat(r,s)}const Ce=/./,Ie=/[12357]/,Re=/[125]/,Fe=/1/,Ge=(l,e,t,n)=>l.map(((l,i)=>4==e&&0==l||i%n==0&&t.test(l.toExponential()[0>l?1:0])?l:null));function Oe(l,e,t){let n=l.axes[t],i=n.scale,o=l.scales[i],s=l.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Fe:Re:Ie:Ce;if(a==Fe){let l=p(s(1,i)-u);if(r>l)return Ge(e.slice().reverse(),o.distr,a,x(r/l)).reverse()}return Ge(e,o.distr,a,1)}function Le(l,e,t){let n=l.axes[t],i=n.scale,o=n._space,s=l.valToPos,r=p(s(1,i)-s(2,i));return o>r?Ge(e.slice().reverse(),3,Ce,x(o/r)).reverse():e}function Ne(l,e,t,n,i){return null==n?wl:null==e?"":i(e)}const Ye={show:!0,scale:"y",stroke:ul,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Ee,side:3,grid:ke,ticks:be,border:ye,font:Se,lineGap:1.5,rotate:0},je={scale:null,auto:!0,sorted:0,min:E,max:-E},Be=(l,e,t,n,i)=>i,He={show:!0,auto:!0,sorted:0,gaps:Be,alpha:1,facets:[Q({},je,{scale:"x"}),Q({},je,{scale:"y"})]},Ue={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Be,alpha:1,points:{show:function(l,e){let{scale:t,idxs:n}=l.series[0],i=l._data[0],o=l.valToPos(i[n[0]],t,!0),s=l.valToPos(i[n[1]],t,!0);return p(s-o)/(l.series[e].points.space*Sl)>=n[1]-n[0]},filter:null},values:null,min:E,max:-E,idxs:[],path:null,clip:null};function Ve(l,e,t){return t/10}const $e={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},We=Q({},$e,{time:!1,ori:1}),qe={};function Ke(l){let e=qe[l];return e||(e={key:l,plots:[],sub(l){e.plots.push(l)},unsub(l){e.plots=e.plots.filter((e=>e!=l))},pub(l,t,n,i,o,s,r){for(let u=0;e.plots.length>u;u++)e.plots[u]!=t&&e.plots[u].pub(l,t,n,i,o,s,r)}},null!=l&&(qe[l]=e)),e}function Xe(l,e,t){const n=l.mode,i=l.series[e],o=2==n?l._data[e]:l._data,s=l.scales,r=l.bbox;let u=o[0],a=2==n?o[1]:o[e],f=2==n?s[i.facets[0].scale]:s[l.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=l.valToPosH,x=l.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,d,p,m,it,st,ut,ft,ht):t(i,u,a,f,c,x,g,d,h,m,p,ot,rt,at,ct,dt)}function Ze(l,e){let t=0,n=0,i=f(l.bands,U);for(let l=0;i.length>l;l++){let o=i[l];o.series[0]==e?t=o.dir:o.series[1]==e&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function Je(l,e,t,n,i){let o=l.series[e],s=l.scales[2==l.mode?o.facets[1].scale:o.scale];return-1==i?s.min:1==i?s.max:3==s.distr?1==s.dir?s.min:s.max:0}function Qe(l,e,t,n,i,o){return Xe(l,e,((l,e,s,r,u,a,f,c,h,d,p)=>{let m=l.pxRound;const g=0==r.ori?st:rt;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let _=m(a(e[x],r,d,c)),v=m(f(s[x],u,p,h)),k=m(a(e[w],r,d,c)),b=m(f(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,k,b),g(y,_,b),g(y,_,v),y}))}function lt(l,e,t,n,i,o){let s=null;if(l.length>0){s=new Path2D;const r=0==e?ut:at;let u=t;for(let e=0;l.length>e;e++){let t=l[e];if(t[1]>t[0]){let l=t[0]-u;l>0&&r(s,u,n,l,n+o),u=t[1]}}let a=t+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function et(l,e,t,n,i,o,s){let r=[],u=l.length;for(let a=1==i?t:n;a>=t&&n>=a;a+=i)if(null===e[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===e[a];)c=a;else for(;--a>=t&&null===e[a];)c=a;let h=o(l[f]),d=c==f?h:o(l[c]),p=f-i;h=s>0||0>p||p>=u?h:o(l[p]);let m=c+i;d=0>s||0>m||m>=u?d:o(l[m]),h>d||r.push([h,d])}return r}function tt(l){return 0==l?P:1==l?g:e=>G(e,l)}function nt(l){let e=0==l?it:ot,t=0==l?(l,e,t,n,i,o)=>{l.arcTo(e,t,n,i,o)}:(l,e,t,n,i,o)=>{l.arcTo(t,e,i,n,o)},n=0==l?(l,e,t,n,i)=>{l.rect(e,t,n,i)}:(l,e,t,n,i)=>{l.rect(t,e,i,n)};return(l,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(l,i,o,s,r):(u=w(u,s/2,r/2),a=w(a,s/2,r/2),e(l,i+u,o),t(l,i+s,o,i+s,o+r,u),t(l,i+s,o+r,i,o+r,a),t(l,i,o+r,i,o,a),t(l,i,o,i+s,o,u),l.closePath())}}const it=(l,e,t)=>{l.moveTo(e,t)},ot=(l,e,t)=>{l.moveTo(t,e)},st=(l,e,t)=>{l.lineTo(e,t)},rt=(l,e,t)=>{l.lineTo(t,e)},ut=nt(0),at=nt(1),ft=(l,e,t,n,i,o)=>{l.arc(e,t,n,i,o)},ct=(l,e,t,n,i,o)=>{l.arc(t,e,n,i,o)},ht=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(e,t,n,i,o,s)},dt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(t,e,i,n,s,o)};function pt(){return(l,e,t,n,i)=>Xe(l,e,((e,o,s,r,u,a,f,c,h,p,m)=>{let g,x,{pxRound:w,points:_}=e;0==r.ori?(g=it,x=ft):(g=ot,x=ct);const v=N(_.width*Sl,3);let k=(_.size-_.width)/2*Sl,b=N(2*k,3),y=new Path2D,S=new Path2D,{left:E,top:T,width:z,height:D}=l.bbox;ut(S,E-b,T-b,z+2*b,D+2*b);const P=l=>{if(null!=s[l]){let e=w(a(o[l],r,p,c)),t=w(f(s[l],u,m,h));g(y,e+k,t),x(y,e,t,k,0,2*d)}};if(i)i.forEach(P);else for(let l=t;n>=l;l++)P(l);return{stroke:v>0?y:null,fill:y,clip:S,flags:3}}))}function mt(l){return(e,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&l(e,t,n),o!=i&&s!=i&&l(e,t,i),l(e,t,s))}}const gt=mt(st),xt=mt(rt);function wt(l){const e=f(l?.alignGaps,0);return(l,n,i,o)=>Xe(l,n,((s,r,u,a,f,c,h,d,p,m,g)=>{let x,v,k=s.pxRound,b=l=>k(c(l,a,m,d)),y=l=>k(h(l,f,g,p));0==a.ori?(x=st,v=gt):(x=rt,v=xt);const S=a.dir*(0==a.ori?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke;let D,P,A,M=E,C=-E,I=b(r[1==S?i:o]),R=t(u,i,o,1*S),F=t(u,i,o,-1*S),G=b(r[R]),O=b(r[F]),L=!1;for(let l=1==S?i:o;l>=i&&o>=l;l+=S){let e=b(r[l]),t=u[l];e==I?null!=t?(P=y(t),M==E&&(x(z,e,P),D=P),M=w(P,M),C=_(P,C)):null===t&&(L=!0):(M!=E&&(v(z,I,M,C,D,P),A=I),null!=t?(P=y(t),x(z,e,P),M=C=D=P):(M=E,C=-E,null===t&&(L=!0)),I=e)}M!=E&&M!=C&&A!=I&&v(z,I,M,C,D,P);let[N,Y]=Ze(l,n);if(null!=s.fill||0!=N){let e=T.fill=new Path2D(z),t=y(s.fillTo(l,n,s.min,s.max,N));x(e,O,t),x(e,G,t)}if(!s.spanGaps){let t=[];L&&t.push(...et(r,u,i,o,S,b,e)),T.gaps=t=s.gaps(l,n,i,o,t),T.clip=lt(t,a.ori,d,p,m,g)}return 0!=Y&&(T.band=2==Y?[Qe(l,n,i,o,z,-1),Qe(l,n,i,o,z,1)]:Qe(l,n,i,o,z,Y)),T}))}function _t(l,e,t,n,i,o,s=E){if(l.length>1){let r=null;for(let u=0,a=1/0;l.length>u;u++)if(void 0!==e[u]){if(null!=r){let e=p(l[u]-l[r]);a>e&&(a=e,s=p(t(l[u],n,i,o)-t(l[r],n,i,o)))}r=u}}return s}function vt(l,e,t,n,i){const o=l.length;if(2>o)return null;const s=new Path2D;if(t(s,l[0],e[0]),2==o)n(s,l[1],e[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=e[t+1]-e[t],u[t]=l[t+1]-l[t],n[t]=r[t]/u[t];t[0]=n[0];for(let l=1;o-1>l;l++)0===n[l]||0===n[l-1]||n[l-1]>0!=n[l]>0?t[l]=0:(t[l]=3*(u[l-1]+u[l])/((2*u[l]+u[l-1])/n[l-1]+(u[l]+2*u[l-1])/n[l]),isFinite(t[l])||(t[l]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,l[n]+u[n]/3,e[n]+t[n]*u[n]/3,l[n+1]-u[n]/3,e[n+1]-t[n+1]*u[n]/3,l[n+1],e[n+1])}return s}const kt=new Set;function bt(){for(let l of kt)l.syncRect(!0)}kl&&(Nl("resize",yl,bt),Nl("scroll",yl,bt,!0),Nl(xl,yl,(()=>{Ot.pxRatio=Sl})));const yt=wt(),St=pt();function Et(l,e,t,n){return(n?[l[0],l[1]].concat(l.slice(2)):[l[0]].concat(l.slice(1))).map(((l,n)=>Tt(l,n,e,t)))}function Tt(l,e,t,n){return Q({},0==e?t:n,l)}function zt(l,e,t){return null==e?V:[e,t]}const Dt=zt;function Pt(l,e,t){return null==e?V:a(e,t,o,!0)}function At(l,e,t,i){return null==e?V:n(e,t,l.scales[i].log,!1)}const Mt=At;function Ct(l,e,t,n){return null==e?V:i(e,t,l.scales[n].log,!1)}const It=Ct;function Rt(l,t,n,i,o){let s=_(T(l),T(t)),r=t-l,u=e(o/i*r,n);do{let l=n[u],e=i*l/r;if(e>=o&&17>=s+(5>l?Y.get(l):0))return[l,e]}while(++u<n.length);return[0,0]}function Ft(l){let e,t;return[l=l.replace(/(\d+)px/,((l,n)=>(e=g((t=+n)*Sl))+"px")),e,t]}function Gt(l){l.show&&[l.font,l.labelFont].forEach((l=>{let e=N(l[2]*Sl,1);l[0]=l[0].replace(/[0-9.]+px/,e+"px"),l[1]=e}))}function Ot(t,r,u){const c={mode:f(t.mode,1)},m=c.mode,k=new Intl.NumberFormat(t.locale||l),y=l=>k.format(l);c.fmtNum=y;const T=e=>new Intl.DateTimeFormat(t.locale||l,e).format;function P(l,e){return((3==e.distr?b(l>0?l:e.clamp(c,l,e.min,e.max,e.key)):4==e.distr?S(l,e.asinh):100==e.distr?e.fwd(l):l)-e._min)/(e._max-e._min)}function R(l,e,t,n){let i=P(l,e);return n+t*(-1==e.dir?1-i:i)}function F(l,e,t,n){let i=P(l,e);return n+t*(-1==e.dir?i:1-i)}function O(l,e,t,n){return 0==e.ori?R(l,e,t,n):F(l,e,t,n)}c.fmtDate=T,c.valToPosH=R,c.valToPosV=F;let L=!1;c.status=0;const B=c.root=Al("uplot");null!=t.id&&(B.id=t.id),Tl(B,t.class),t.title&&(Al("u-title",B).textContent=t.title);const W=Pl("canvas"),X=c.ctx=W.getContext("2d"),Z=Al("u-wrap",B);Nl("click",Z,(l=>{l.target===ul&&(Ln!=Rn||Nn!=Fn)&&qn.click(c,l)}),!0);const ll=c.under=Al("u-under",Z);Z.appendChild(W);const ul=c.over=Al("u-over",Z),gl=+f((t=J(t)).pxAlign,1),kl=tt(gl);(t.plugins||[]).forEach((l=>{l.opts&&(t=l.opts(c,t)||t)}));const El=t.ms||.001,Ml=c.series=1==m?Et(t.series||[],ze,Ue,!1):function(l,e){return l.map(((l,t)=>0==t?{}:Q({},e,l)))}(t.series||[null],He),Il=c.axes=Et(t.axes||[],Te,Ye,!0),Fl=c.scales={},Ol=c.bands=t.bands||[];Ol.forEach((l=>{l.fill=D(l.fill||null),l.dir=f(l.dir,-1)}));const Ll=2==m?Ml[1].facets[0].scale:Ml[0].scale,jl={axes:function(){for(let l=0;Il.length>l;l++){let e=Il[l];if(!e.show||!e._show)continue;let t,n,i=e.side,o=i%2,s=e.stroke(c,l),r=0==i||3==i?-1:1;if(e.label){let l=g((e._lpos+e.labelGap*r)*Sl);mn(e.labelFont[0],s,"center",2==i?il:ol),X.save(),1==o?(t=n=0,X.translate(l,g(rt+at/2)),X.rotate((3==i?-d:d)/2)):(t=g(st+ut/2),n=l),X.fillText(e.label,t,n),X.restore()}let[u,a]=e._found;if(0==a)continue;let f=Fl[e.scale],h=0==o?ut:at,p=0==o?st:rt,m=g(e.gap*Sl),x=e._splits,w=2==f.distr?x.map((l=>fn[l])):x,_=2==f.distr?fn[x[1]]-fn[x[0]]:u,v=e.ticks,k=e.border,b=v.show?g(v.size*Sl):0,y=e._rotate*-d/180,S=kl(e._pos*Sl),E=S+(b+m)*r;n=0==o?E:0,t=1==o?E:0,mn(e.font[0],s,1==e.align?sl:2==e.align?rl:y>0?sl:0>y?rl:0==o?"center":3==i?rl:sl,y||1==o?"middle":2==i?il:ol);let T=e.font[1]*e.lineGap,z=x.map((l=>kl(O(l,f,h,p)))),D=e._values;for(let l=0;D.length>l;l++){let e=D[l];if(null!=e){0==o?t=z[l]:n=z[l],e=""+e;let i=-1==e.indexOf("\n")?[e]:e.split(/\n/gm);for(let l=0;i.length>l;l++){let e=i[l];y?(X.save(),X.translate(t,n+l*T),X.rotate(y),X.fillText(e,0,0),X.restore()):X.fillText(e,t,n+l*T)}}}v.show&&Sn(z,v.filter(c,w,l,a,_),o,i,S,b,N(v.width*Sl,3),v.stroke(c,l),v.dash,v.cap);let P=e.grid;P.show&&Sn(z,P.filter(c,w,l,a,_),o,0==o?2:1,0==o?rt:st,0==o?at:ut,N(P.width*Sl,3),P.stroke(c,l),P.dash,P.cap),k.show&&Sn([S],[1],0==o?1:0,0==o?1:2,1==o?rt:st,1==o?at:ut,N(k.width*Sl,3),k.stroke(c,l),k.dash,k.cap)}Ai("drawAxes")},series:function(){Kt>0&&(Ml.forEach(((l,e)=>{if(e>0&&l.show&&(wn(e,!1),wn(e,!0),null==l._paths)){an!=l.alpha&&(X.globalAlpha=an=l.alpha);let t=2==m?[0,r[e][0].length-1]:function(l){let e=z(Xt-1,0,Kt-1),t=z(Zt+1,0,Kt-1);for(;null==l[e]&&e>0;)e--;for(;null==l[t]&&Kt-1>t;)t++;return[e,t]}(r[e]);l._paths=l.paths(c,e,t[0],t[1]),1!=an&&(X.globalAlpha=an=1)}})),Ml.forEach(((l,e)=>{if(e>0&&l.show){an!=l.alpha&&(X.globalAlpha=an=l.alpha),null!=l._paths&&_n(e,!1);{let t=null!=l._paths?l._paths.gaps:null,n=l.points.show(c,e,Xt,Zt,t),i=l.points.filter(c,e,n,t);(n||i)&&(l.points._paths=l.points.paths(c,e,Xt,Zt,i),_n(e,!0))}1!=an&&(X.globalAlpha=an=1),Ai("drawSeries",e)}})))}},Bl=(t.drawOrder||["axes","series"]).map((l=>jl[l]));function Hl(l){let e=Fl[l];if(null==e){let n=(t.scales||H)[l]||H;if(null!=n.from)Hl(n.from),Fl[l]=Q({},Fl[n.from],n,{key:l});else{e=Fl[l]=Q({},l==Ll?$e:We,n),e.key=l;let t=e.time,i=e.range,o=$(i);if((l!=Ll||2==m&&!t)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?s:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?s:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&q(i))){let l=i;i=(e,t,n)=>null==t?V:a(t,n,l)}e.range=D(i||(t?Dt:l==Ll?3==e.distr?Mt:4==e.distr?It:zt:3==e.distr?At:4==e.distr?Ct:Pt)),e.auto=D(!o&&e.auto),e.clamp=D(e.clamp||Ve),e._min=e._max=null}}}Hl("x"),Hl("y"),1==m&&Ml.forEach((l=>{Hl(l.scale)})),Il.forEach((l=>{Hl(l.scale)}));for(let l in t.scales)Hl(l);const Ul=Fl[Ll],Vl=Ul.distr;let ql,Kl;0==Ul.ori?(Tl(B,"u-hz"),ql=R,Kl=F):(Tl(B,"u-vt"),ql=F,Kl=R);const Xl={};for(let l in Fl){let e=Fl[l];null==e.min&&null==e.max||(Xl[l]={min:e.min,max:e.max},e.min=e.max=null)}const Zl=t.tzDate||(l=>new Date(g(l/El))),Jl=t.fmtDate||T,Ql=1==El?se(Zl):ae(Zl),le=ce(Zl,fe(1==El?oe:ue,Jl)),ee=pe(Zl,de("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Jl)),te=[],ne=c.legend=Q({},me,t.legend),he=ne.show,ge=ne.markers;let xe,we,ve;ne.idxs=te,ge.width=D(ge.width),ge.dash=D(ge.dash),ge.stroke=D(ge.stroke),ge.fill=D(ge.fill);let ke,be=[],ye=[],Se=!1,Ee={};if(ne.live){const l=Ml[1]?Ml[1].values:null;Se=null!=l,ke=Se?l(c,1,0):{_:0};for(let l in ke)Ee[l]=wl}if(he)if(xe=Pl("table","u-legend",B),ve=Pl("tbody",null,xe),ne.mount(c,xe),Se){we=Pl("thead",null,xe,ve);let l=Pl("tr",null,we);for(var Ce in Pl("th",null,l),ke)Pl("th",vl,l).textContent=Ce}else Tl(xe,"u-inline"),ne.live&&Tl(xe,"u-live");const Ie={show:!0},Re={show:!1},Fe=new Map;function Ge(l,e,t,n=!0){const i=Fe.get(e)||{},o=_t.bind[l](c,e,t,n);o&&(Nl(l,e,i[l]=o),Fe.set(e,i))}function je(l,e){const t=Fe.get(e)||{};for(let n in t)null!=l&&n!=l||(Yl(n,e,t[n]),delete t[n]);null==l&&Fe.delete(e)}let Be=0,qe=0,Xe=0,Ze=0,Qe=0,lt=0,et=Qe,nt=lt,it=Xe,ot=Ze,st=0,rt=0,ut=0,at=0;c.bbox={};let ft=!1,ct=!1,ht=!1,dt=!1,pt=!1,mt=!1;function gt(l,e,t){(t||l!=c.width||e!=c.height)&&xt(l,e),zn(!1),ht=!0,ct=!0,Un()}function xt(l,e){c.width=Be=Xe=l,c.height=qe=Ze=e,Qe=lt=0,function(){let l=!1,e=!1,t=!1,n=!1;Il.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(Xe-=r,3==o?(Qe+=r,n=!0):t=!0):(Ze-=r,0==o?(lt+=r,l=!0):e=!0))}})),Vt[0]=l,Vt[1]=t,Vt[2]=e,Vt[3]=n,Xe-=qt[1]+qt[3],Qe+=qt[3],Ze-=qt[2]+qt[0],lt+=qt[0]}(),function(){let l=Qe+Xe,e=lt+Ze,t=Qe,n=lt;function i(i,o){switch(i){case 1:return l+=o,l-o;case 2:return e+=o,e-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}Il.forEach((l=>{if(l.show&&l._show){let e=l.side;l._pos=i(e,l._size),null!=l.label&&(l._lpos=i(e,l.labelSize))}}))}();let t=c.bbox;st=t.left=G(Qe*Sl,.5),rt=t.top=G(lt*Sl,.5),ut=t.width=G(Xe*Sl,.5),at=t.height=G(Ze*Sl,.5)}const wt=3;c.setSize=function({width:l,height:e}){gt(l,e)};const _t=c.cursor=Q({},_e,{drag:{y:2==m}},t.cursor);if(null==_t.dataIdx){let l=_t.hover,e=l.skip=new Set(l.skip??[]);e.add(void 0);let t=l.prox=D(l.prox),n=l.bias??=0;_t.dataIdx=(l,i,o,s)=>{if(0==i)return o;let u=o,a=t(l,i,o,s)??E,f=a>=0&&E>a,c=0==Ul.ori?Xe:Ze,h=_t.left,d=r[0],m=r[i];if(e.has(m[o])){u=null;let l,t=null,i=null;if(0==n||-1==n)for(l=o;null==t&&l-- >0;)e.has(m[l])||(t=l);if(0==n||1==n)for(l=o;null==i&&l++<m.length;)e.has(m[l])||(i=l);if(null!=t||null!=i)if(f){let l=h-(null==t?-1/0:ql(d[t],Ul,c,0)),e=(null==i?1/0:ql(d[i],Ul,c,0))-h;l>e?e>a||(u=i):l>a||(u=t)}else u=null==i?t:null==t||o-t>i-o?i:t}else f&&p(h-ql(d[o],Ul,c,0))>a&&(u=null);return u}}const vt=l=>{_t.event=l};_t.idxs=te,_t._lock=!1;let bt=_t.points;bt.show=D(bt.show),bt.size=D(bt.size),bt.stroke=D(bt.stroke),bt.width=D(bt.width),bt.fill=D(bt.fill);const Ot=c.focus=Q({},t.focus||{alpha:.3},_t.focus),Lt=Ot.prox>=0,Nt=Lt&&bt.one;let Yt=[],jt=[],Bt=[];function Ht(l,e){let t=bt.show(c,e);if(t)return Tl(t,"u-cursor-pt"),Tl(t,l.class),Cl(t,-10,-10,Xe,Ze),ul.insertBefore(t,Yt[e]),t}function Ut(l,e){if(1==m||e>0){let e=1==m&&Fl[l.scale].time,t=l.value;l.value=e?function(l){return"string"==typeof l}(t)?pe(Zl,de(t,Jl)):t||ee:t||Ne,l.label=l.label||(e?"Time":"Value")}if(Nt||e>0){l.width=null==l.width?1:l.width,l.paths=l.paths||yt||M,l.fillTo=D(l.fillTo||Je),l.pxAlign=+f(l.pxAlign,gl),l.pxRound=tt(l.pxAlign),l.stroke=D(l.stroke||null),l.fill=D(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let e=function(l){return N(1*(3+2*(l||1)),3)}(_(1,l.width)),t=l.points=Q({},{size:e,width:_(1,.2*e),stroke:l.stroke,space:2*e,paths:St,_stroke:null,_fill:null},l.points);t.show=D(t.show),t.filter=D(t.filter),t.fill=D(t.fill),t.stroke=D(t.stroke),t.paths=D(t.paths),t.pxAlign=l.pxAlign}if(he){let t=function(l,e){if(0==e&&(Se||!ne.live||2==m))return V;let t=[],n=Pl("tr","u-series",ve,ve.childNodes[e]);Tl(n,l.class),l.show||Tl(n,_l);let i=Pl("th",null,n);if(ge.show){let l=Al("u-marker",i);if(e>0){let t=ge.width(c,e);t&&(l.style.border=t+"px "+ge.dash(c,e)+" "+ge.stroke(c,e)),l.style.background=ge.fill(c,e)}}let o=Al(vl,i);for(var s in o.textContent=l.label,e>0&&(ge.show||(o.style.color=l.width>0?ge.stroke(c,e):ge.fill(c,e)),Ge("click",i,(e=>{if(_t._lock)return;vt(e);let t=Ml.indexOf(l);if((e.ctrlKey||e.metaKey)!=ne.isolate){let l=Ml.some(((l,e)=>e>0&&e!=t&&l.show));Ml.forEach(((e,n)=>{n>0&&ei(n,l?n==t?Ie:Re:Ie,!0,Ci.setSeries)}))}else ei(t,{show:!l.show},!0,Ci.setSeries)}),!1),Lt&&Ge(dl,i,(e=>{_t._lock||(vt(e),ei(Ml.indexOf(l),oi,!0,Ci.setSeries))}),!1)),ke){let l=Pl("td","u-value",n);l.textContent="--",t.push(l)}return[n,t]}(l,e);be.splice(e,0,t[0]),ye.splice(e,0,t[1]),ne.values.push(null)}if(_t.show){te.splice(e,0,null);let t=null;Nt?0==e&&(t=Ht(l,e)):e>0&&(t=Ht(l,e)),Yt.splice(e,0,t),jt.splice(e,0,0),Bt.splice(e,0,0)}Ai("addSeries",e)}c.addSeries=function(l,e){e=null==e?Ml.length:e,l=1==m?Tt(l,e,ze,Ue):Tt(l,e,{},He),Ml.splice(e,0,l),Ut(Ml[e],e)},c.delSeries=function(l){if(Ml.splice(l,1),he){ne.values.splice(l,1),ye.splice(l,1);let e=be.splice(l,1)[0];je(null,e.firstChild),e.remove()}_t.show&&(te.splice(l,1),Yt.splice(l,1)[0].remove(),jt.splice(l,1),Bt.splice(l,1)),Ai("delSeries",l)};const Vt=[!1,!1,!1,!1];function $t(l,e,t){let[n,i,o,s]=t,r=e%2,u=0;return 0==r&&(s||i)&&(u=0==e&&!n||2==e&&!o?g(Te.size/3):0),1==r&&(n||o)&&(u=1==e&&!i||3==e&&!s?g(Ye.size/2):0),u}const Wt=c.padding=(t.padding||[$t,$t,$t,$t]).map((l=>D(f(l,$t)))),qt=c._padding=Wt.map(((l,e)=>l(c,e,Vt,0)));let Kt,Xt=null,Zt=null;const Jt=1==m?Ml[0].idxs:null;let Qt,ln,en,tn,nn,on,sn,rn,un,an,fn=null,cn=!1;function hn(l,e){if(c.data=c._data=r=null==l?[]:l,2==m){Kt=0;for(let l=1;Ml.length>l;l++)Kt+=r[l][0].length}else{0==r.length&&(c.data=c._data=r=[[]]),fn=r[0],Kt=fn.length;let l=r;if(2==Vl){l=r.slice();let e=l[0]=Array(Kt);for(let l=0;Kt>l;l++)e[l]=l}c._data=r=l}if(zn(!0),Ai("setData"),2==Vl&&(ht=!0),!1!==e){let l=Ul;l.auto(c,cn)?dn():li(Ll,l.min,l.max),dt=dt||_t.left>=0,mt=!0,Un()}}function dn(){let l,e;cn=!0,1==m&&(Kt>0?(Xt=Jt[0]=0,Zt=Jt[1]=Kt-1,l=r[0][Xt],e=r[0][Zt],2==Vl?(l=Xt,e=Zt):l==e&&(3==Vl?[l,e]=n(l,l,Ul.log,!1):4==Vl?[l,e]=i(l,l,Ul.log,!1):Ul.time?e=l+g(86400/El):[l,e]=a(l,e,o,!0))):(Xt=Jt[0]=l=null,Zt=Jt[1]=e=null)),li(Ll,l,e)}function pn(l,e,t,n,i,o){l??=al,t??=U,n??="butt",i??=al,o??="round",l!=Qt&&(X.strokeStyle=Qt=l),i!=ln&&(X.fillStyle=ln=i),e!=en&&(X.lineWidth=en=e),o!=nn&&(X.lineJoin=nn=o),n!=on&&(X.lineCap=on=n),t!=tn&&X.setLineDash(tn=t)}function mn(l,e,t,n){e!=ln&&(X.fillStyle=ln=e),l!=sn&&(X.font=sn=l),t!=rn&&(X.textAlign=rn=t),n!=un&&(X.textBaseline=un=n)}function gn(l,e,t,n,i=0){if(n.length>0&&l.auto(c,cn)&&(null==e||null==e.min)){let e=f(Xt,0),o=f(Zt,n.length-1),s=null==t.min?3==l.distr?function(l,e,t){let n=E,i=-E;for(let o=e;t>=o;o++){let e=l[o];null!=e&&e>0&&(n>e&&(n=e),e>i&&(i=e))}return[n,i]}(n,e,o):function(l,e,t,n){let i=E,o=-E;if(1==n)i=l[e],o=l[t];else if(-1==n)i=l[t],o=l[e];else for(let n=e;t>=n;n++){let e=l[n];null!=e&&(i>e&&(i=e),e>o&&(o=e))}return[i,o]}(n,e,o,i):[t.min,t.max];l.min=w(l.min,t.min=s[0]),l.max=_(l.max,t.max=s[1])}}c.setData=hn;const xn={min:null,max:null};function wn(l,e){let t=e?Ml[l].points:Ml[l];t._stroke=t.stroke(c,l),t._fill=t.fill(c,l)}function _n(l,e){let t=e?Ml[l].points:Ml[l],{stroke:n,fill:i,clip:o,flags:s,_stroke:u=t._stroke,_fill:a=t._fill,_width:h=t.width}=t._paths;h=N(h*Sl,3);let d=null,p=h%2/2;e&&null==a&&(a=h>0?"#fff":u);let m=1==t.pxAlign&&p>0;if(m&&X.translate(p,p),!e){let l=st-h/2,e=rt-h/2,t=ut+h,n=at+h;d=new Path2D,d.rect(l,e,t,n)}e?kn(u,h,t.dash,t.cap,a,n,i,s,o):function(l,e,t,n,i,o,s,u,a,h,d){let p=!1;0!=a&&Ol.forEach(((m,g)=>{if(m.series[0]==l){let l,x=Ml[m.series[1]],w=r[m.series[1]],_=(x._paths||H).band;$(_)&&(_=1==m.dir?_[0]:_[1]);let v=null;x.show&&_&&function(l,e,t){for(e=f(e,0),t=f(t,l.length-1);t>=e;){if(null!=l[e])return!0;e++}return!1}(w,Xt,Zt)?(v=m.fill(c,g)||o,l=x._paths.clip):_=null,kn(e,t,n,i,v,s,u,a,h,d,l,_),p=!0}})),p||kn(e,t,n,i,o,s,u,a,h,d)}(l,u,h,t.dash,t.cap,a,n,i,s,d,o),m&&X.translate(-p,-p)}const vn=3;function kn(l,e,t,n,i,o,s,r,u,a,f,c){pn(l,e,t,n,i),(u||a||c)&&(X.save(),u&&X.clip(u),a&&X.clip(a)),c?(r&vn)==vn?(X.clip(c),f&&X.clip(f),yn(i,s),bn(l,o,e)):2&r?(yn(i,s),X.clip(c),bn(l,o,e)):1&r&&(X.save(),X.clip(c),f&&X.clip(f),yn(i,s),X.restore(),bn(l,o,e)):(yn(i,s),bn(l,o,e)),(u||a||c)&&X.restore()}function bn(l,e,t){t>0&&(e instanceof Map?e.forEach(((l,e)=>{X.strokeStyle=Qt=e,X.stroke(l)})):null!=e&&l&&X.stroke(e))}function yn(l,e){e instanceof Map?e.forEach(((l,e)=>{X.fillStyle=ln=e,X.fill(l)})):null!=e&&l&&X.fill(e)}function Sn(l,e,t,n,i,o,s,r,u,a){let f=s%2/2;1==gl&&X.translate(f,f),pn(r,s,u,a,r),X.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(c=i,d=m);for(let n=0;l.length>n;n++)null!=e[n]&&(0==t?c=d=l[n]:h=p=l[n],X.moveTo(c,h),X.lineTo(d,p));X.stroke(),1==gl&&X.translate(-f,-f)}function En(l){let e=!0;return Il.forEach(((t,n)=>{if(!t.show)return;let i=Fl[t.scale];if(null==i.min)return void(t._show&&(e=!1,t._show=!1,zn(!1)));t._show||(e=!1,t._show=!0,zn(!1));let o=t.side,s=o%2,{min:r,max:u}=i,[a,f]=function(l,e,t,n){let i,o=Il[l];if(n>0){let s=o._space=o.space(c,l,e,t,n);i=Rt(e,t,o._incrs=o.incrs(c,l,e,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,r,u,0==s?Xe:Ze);if(0==f)return;let h=t._splits=t.splits(c,n,r,u,a,f,2==i.distr),d=2==i.distr?h.map((l=>fn[l])):h,p=2==i.distr?fn[h[1]]-fn[h[0]]:a,m=t._values=t.values(c,t.filter(c,d,n,f,p),n,f,p,y);t._rotate=2==o?t.rotate(c,m,n,f):0;let g=t._size;t._size=x(t.size(c,m,n,l)),null!=g&&t._size!=g&&(e=!1)})),e}function Tn(l){let e=!0;return Wt.forEach(((t,n)=>{let i=t(c,n,Vt,l);i!=qt[n]&&(e=!1),qt[n]=i})),e}function zn(l){Ml.forEach(((e,t)=>{t>0&&(e._paths=null,l&&(1==m?(e.min=null,e.max=null):e.facets.forEach((l=>{l.min=null,l.max=null}))))}))}let Dn,Pn,An,Mn,Cn,In,Rn,Fn,Gn,On,Ln,Nn,Yn=!1,jn=!1,Bn=[];function Hn(){jn=!1;for(let l=0;Bn.length>l;l++)Ai(...Bn[l]);Bn.length=0}function Un(){Yn||(el(Vn),Yn=!0)}function Vn(){if(ft&&(function(){for(let l in Fl){let e=Fl[l];null==Xl[l]&&(null==e.min||null!=Xl[Ll]&&e.auto(c,cn))&&(Xl[l]=xn)}for(let l in Fl){let e=Fl[l];null==Xl[l]&&null!=e.from&&null!=Xl[e.from]&&(Xl[l]=xn)}null!=Xl[Ll]&&zn(!0);let l={};for(let e in Xl){let t=Xl[e];if(null!=t){let n=l[e]=J(Fl[e],K);if(null!=t.min)Q(n,t);else if(e!=Ll||2==m)if(0==Kt&&null==n.from){let l=n.range(c,null,null,e);n.min=l[0],n.max=l[1]}else n.min=E,n.max=-E}}if(Kt>0){Ml.forEach(((t,n)=>{if(1==m){let i=t.scale,o=Xl[i];if(null==o)return;let s=l[i];if(0==n){let l=s.range(c,s.min,s.max,i);s.min=l[0],s.max=l[1],Xt=e(s.min,r[0]),Zt=e(s.max,r[0]),Zt-Xt>1&&(s.min>r[0][Xt]&&Xt++,r[0][Zt]>s.max&&Zt--),t.min=fn[Xt],t.max=fn[Zt]}else t.show&&t.auto&&gn(s,o,t,r[n],t.sorted);t.idxs[0]=Xt,t.idxs[1]=Zt}else if(n>0&&t.show&&t.auto){let[e,i]=t.facets,o=e.scale,s=i.scale,[u,a]=r[n],f=l[o],c=l[s];null!=f&&gn(f,Xl[o],e,u,e.sorted),null!=c&&gn(c,Xl[s],i,a,i.sorted),t.min=i.min,t.max=i.max}}));for(let e in l){let t=l[e],n=Xl[e];if(null==t.from&&(null==n||null==n.min)){let l=t.range(c,t.min==E?null:t.min,t.max==-E?null:t.max,e);t.min=l[0],t.max=l[1]}}}for(let e in l){let t=l[e];if(null!=t.from){let n=l[t.from];if(null==n.min)t.min=t.max=null;else{let l=t.range(c,n.min,n.max,e);t.min=l[0],t.max=l[1]}}}let t={},n=!1;for(let e in l){let i=l[e],o=Fl[e];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let l=o.distr;o._min=3==l?b(o.min):4==l?S(o.min,o.asinh):100==l?o.fwd(o.min):o.min,o._max=3==l?b(o.max):4==l?S(o.max,o.asinh):100==l?o.fwd(o.max):o.max,t[e]=n=!0}}if(n){Ml.forEach(((l,e)=>{2==m?e>0&&t.y&&(l._paths=null):t[l.scale]&&(l._paths=null)}));for(let l in t)ht=!0,Ai("setScale",l);_t.show&&_t.left>=0&&(dt=mt=!0)}for(let l in Xl)Xl[l]=null}(),ft=!1),ht&&(function(){let l=!1,e=0;for(;!l;){e++;let t=En(e),n=Tn(e);l=e==wt||t&&n,l||(xt(c.width,c.height),ct=!0)}}(),ht=!1),ct){if(Dl(ll,sl,Qe),Dl(ll,il,lt),Dl(ll,tl,Xe),Dl(ll,nl,Ze),Dl(ul,sl,Qe),Dl(ul,il,lt),Dl(ul,tl,Xe),Dl(ul,nl,Ze),Dl(Z,tl,Be),Dl(Z,nl,qe),W.width=g(Be*Sl),W.height=g(qe*Sl),Il.forEach((({_el:l,_show:e,_size:t,_pos:n,side:i})=>{if(null!=l)if(e){let e=i%2==1;Dl(l,e?"left":"top",n-(3===i||0===i?t:0)),Dl(l,e?"width":"height",t),Dl(l,e?"top":"left",e?lt:Qe),Dl(l,e?"height":"width",e?Ze:Xe),zl(l,_l)}else Tl(l,_l)})),Qt=ln=en=nn=on=sn=rn=un=tn=null,an=1,mi(!0),Qe!=et||lt!=nt||Xe!=it||Ze!=ot){zn(!1);let l=Xe/it,e=Ze/ot;if(_t.show&&!dt&&_t.left>=0){_t.left*=l,_t.top*=e,An&&Cl(An,g(_t.left),0,Xe,Ze),Mn&&Cl(Mn,0,g(_t.top),Xe,Ze);for(let t=0;Yt.length>t;t++){let n=Yt[t];null!=n&&(jt[t]*=l,Bt[t]*=e,Cl(n,x(jt[t]),x(Bt[t]),Xe,Ze))}}if(Zn.show&&!pt&&Zn.left>=0&&Zn.width>0){Zn.left*=l,Zn.width*=l,Zn.top*=e,Zn.height*=e;for(let l in wi)Dl(Jn,l,Zn[l])}et=Qe,nt=lt,it=Xe,ot=Ze}Ai("setSize"),ct=!1}Be>0&&qe>0&&(X.clearRect(0,0,W.width,W.height),Ai("drawClear"),Bl.forEach((l=>l())),Ai("draw")),Zn.show&&pt&&(Qn(Zn),pt=!1),_t.show&&dt&&(di(null,!0,!1),dt=!1),ne.show&&ne.live&&mt&&(ci(),mt=!1),L||(L=!0,c.status=1,Ai("ready")),cn=!1,Yn=!1}function $n(l,t){let n=Fl[l];if(null==n.from){if(0==Kt){let e=n.range(c,t.min,t.max,l);t.min=e[0],t.max=e[1]}if(t.min>t.max){let l=t.min;t.min=t.max,t.max=l}if(Kt>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;l==Ll&&2==n.distr&&Kt>0&&(t.min=e(t.min,r[0]),t.max=e(t.max,r[0]),t.min==t.max&&t.max++),Xl[l]=t,ft=!0,Un()}}c.batch=function(l,e=!1){Yn=!0,jn=e,l(c),Vn(),e&&Bn.length>0&&queueMicrotask(Hn)},c.redraw=(l,e)=>{ht=e||!1,!1!==l?li(Ll,Ul.min,Ul.max):Un()},c.setScale=$n;let Wn=!1;const qn=_t.drag;let Kn=qn.x,Xn=qn.y;_t.show&&(_t.x&&(Dn=Al("u-cursor-x",ul)),_t.y&&(Pn=Al("u-cursor-y",ul)),0==Ul.ori?(An=Dn,Mn=Pn):(An=Pn,Mn=Dn),Ln=_t.left,Nn=_t.top);const Zn=c.select=Q({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),Jn=Zn.show?Al("u-select",Zn.over?ul:ll):null;function Qn(l,e){if(Zn.show){for(let e in l)Zn[e]=l[e],e in wi&&Dl(Jn,e,l[e]);!1!==e&&Ai("setSelect")}}function li(l,e,t){$n(l,{min:e,max:t})}function ei(l,e,t,n){null!=e.focus&&function(l){if(l!=ii){let e=null==l,t=1!=Ot.alpha;Ml.forEach(((n,i)=>{if(1==m||i>0){let o=e||0==i||i==l;n._focus=e?null:o,t&&function(l,e){Ml[l].alpha=e,_t.show&&Yt[l]&&(Yt[l].style.opacity=e),he&&be[l]&&(be[l].style.opacity=e)}(i,o?1:Ot.alpha)}})),ii=l,t&&Un()}}(l),null!=e.show&&Ml.forEach(((t,n)=>{0>=n||l!=n&&null!=l||(t.show=e.show,function(l){let e=he?be[l]:null;Ml[l].show?e&&zl(e,_l):(e&&Tl(e,_l),Cl(Nt?Yt[0]:Yt[l],-10,-10,Xe,Ze))}(n),2==m?(li(t.facets[0].scale,null,null),li(t.facets[1].scale,null,null)):li(t.scale,null,null),Un())})),!1!==t&&Ai("setSeries",l,e),n&&Fi("setSeries",c,l,e)}let ti,ni,ii;c.setSelect=Qn,c.setSeries=ei,c.addBand=function(l,e){l.fill=D(l.fill||null),l.dir=f(l.dir,-1),Ol.splice(e=null==e?Ol.length:e,0,l)},c.setBand=function(l,e){Q(Ol[l],e)},c.delBand=function(l){null==l?Ol.length=0:Ol.splice(l,1)};const oi={focus:!0};function si(l,e,t){let n=Fl[e];t&&(l=l/Sl-(1==n.ori?lt:Qe));let i=Xe;1==n.ori&&(i=Ze,l=i-l),-1==n.dir&&(l=i-l);let o=n._min,s=o+l/i*(n._max-o),r=n.distr;return 3==r?v(10,s):4==r?((l,e=1)=>h.sinh(l)*e)(s,n.asinh):100==r?n.bwd(s):s}function ri(l,e){Dl(Jn,sl,Zn.left=l),Dl(Jn,tl,Zn.width=e)}function ui(l,e){Dl(Jn,il,Zn.top=l),Dl(Jn,nl,Zn.height=e)}he&&Lt&&Ge(pl,xe,(l=>{_t._lock||(vt(l),null!=ii&&ei(null,oi,!0,Ci.setSeries))})),c.valToIdx=l=>e(l,r[0]),c.posToIdx=function(l,t){return e(si(l,Ll,t),r[0],Xt,Zt)},c.posToVal=si,c.valToPos=(l,e,t)=>0==Fl[e].ori?R(l,Fl[e],t?ut:Xe,t?st:0):F(l,Fl[e],t?at:Ze,t?rt:0),c.setCursor=(l,e,t)=>{Ln=l.left,Nn=l.top,di(null,e,t)};let ai=0==Ul.ori?ri:ui,fi=1==Ul.ori?ri:ui;function ci(l,e){if(null!=l&&(l.idxs?l.idxs.forEach(((l,e)=>{te[e]=l})):(l=>void 0===l)(l.idx)||te.fill(l.idx),ne.idx=te[0]),he&&ne.live){for(let l=0;Ml.length>l;l++)(l>0||1==m&&!Se)&&hi(l,te[l]);!function(){if(he&&ne.live)for(let l=2==m?1:0;Ml.length>l;l++){if(0==l&&Se)continue;let e=ne.values[l],t=0;for(let n in e)ye[l][t++].firstChild.nodeValue=e[n]}}()}mt=!1,!1!==e&&Ai("setLegend")}function hi(l,e){let t,n=Ml[l],i=0==l&&2==Vl?fn:r[l];Se?t=n.values(c,l,e)??Ee:(t=n.value(c,null==e?null:i[e],l,e,y),t=null==t?Ee:{_:t}),ne.values[l]=t}function di(l,t,n){let i;Gn=Ln,On=Nn,[Ln,Nn]=_t.move(c,Ln,Nn),_t.left=Ln,_t.top=Nn,_t.show&&(An&&Cl(An,g(Ln),0,Xe,Ze),Mn&&Cl(Mn,0,g(Nn),Xe,Ze)),ti=E,ni=null;let o=0==Ul.ori?Xe:Ze,s=1==Ul.ori?Xe:Ze;if(0>Ln||0==Kt||Xt>Zt){i=_t.idx=null;for(let l=0;Ml.length>l;l++){let e=Yt[l];null!=e&&Cl(e,-10,-10,Xe,Ze)}Lt&&ei(null,oi,!0,null==l&&Ci.setSeries),ne.live&&(te.fill(i),mt=!0)}else{let l,t,n;1==m&&(l=0==Ul.ori?Ln:Nn,t=si(l,Ll),i=_t.idx=e(t,r[0],Xt,Zt),n=ql(r[0][i],Ul,o,0));let u=-10,a=-10,f=0,h=0,d=!0,g="",w="";for(let l=2==m?1:0;Ml.length>l;l++){let e=Ml[l],_=te[l],v=null==_?null:1==m?r[l][_]:r[l][1][_],k=_t.dataIdx(c,l,i,t),b=null==k?null:1==m?r[l][k]:r[l][1][k];mt=mt||b!=v||k!=_,te[l]=k;let y=k==i?n:ql(1==m?r[0][k]:r[l][0][k],Ul,o,0);if(l>0&&e.show){let t=null==b?-10:Kl(b,1==m?Fl[e.scale]:Fl[e.facets[1].scale],s,0);if(Lt&&null!=b){let n=1==Ul.ori?Ln:Nn,i=p(Ot.dist(c,l,k,t,n));if(ti>i){let t=Ot.bias;if(0!=t){let o=si(n,e.scale),s=0>o?-1:1;s!=(0>b?-1:1)||(1==s?1==t?o>b:b>o:1==t?b>o:o>b)||(ti=i,ni=l)}else ti=i,ni=l}}if(mt||Nt){let e,n;0==Ul.ori?(e=y,n=t):(e=t,n=y);let i,o,s,r,p,m,_=!0,v=bt.bbox;if(null!=v){_=!1;let e=v(c,l);s=e.left,r=e.top,i=e.width,o=e.height}else s=e,r=n,i=o=bt.size(c,l);if(m=bt.fill(c,l),p=bt.stroke(c,l),Nt)l!=ni||ti>Ot.prox||(u=s,a=r,f=i,h=o,d=_,g=m,w=p);else{let e=Yt[l];null!=e&&(jt[l]=s,Bt[l]=r,Gl(e,i,o,_),Rl(e,m,p),Cl(e,x(s),x(r),Xe,Ze))}}}}if(Nt){let l=Ot.prox;if(mt||(null==ii?l>=ti:ti>l||ni!=ii)){let l=Yt[0];jt[0]=u,Bt[0]=a,Gl(l,f,h,d),Rl(l,g,w),Cl(l,x(u),x(a),Xe,Ze)}}}if(Zn.show&&Wn)if(null!=l){let[e,t]=Ci.scales,[n,i]=Ci.match,[r,u]=l.cursor.sync.scales,a=l.cursor.drag;if(Kn=a._x,Xn=a._y,Kn||Xn){let a,f,c,h,d,{left:m,top:g,width:x,height:_}=l.select,v=l.scales[r].ori,k=l.posToVal,b=null!=e&&n(e,r),y=null!=t&&i(t,u);b&&Kn?(0==v?(a=m,f=x):(a=g,f=_),c=Fl[e],h=ql(k(a,r),c,o,0),d=ql(k(a+f,r),c,o,0),ai(w(h,d),p(d-h))):ai(0,o),y&&Xn?(1==v?(a=m,f=x):(a=g,f=_),c=Fl[t],h=Kl(k(a,u),c,s,0),d=Kl(k(a+f,u),c,s,0),fi(w(h,d),p(d-h))):fi(0,s)}else _i()}else{let l=p(Gn-Cn),e=p(On-In);if(1==Ul.ori){let t=l;l=e,e=t}Kn=qn.x&&l>=qn.dist,Xn=qn.y&&e>=qn.dist;let t,n,i=qn.uni;null!=i?Kn&&Xn&&(Kn=l>=i,Xn=e>=i,Kn||Xn||(e>l?Xn=!0:Kn=!0)):qn.x&&qn.y&&(Kn||Xn)&&(Kn=Xn=!0),Kn&&(0==Ul.ori?(t=Rn,n=Ln):(t=Fn,n=Nn),ai(w(t,n),p(n-t)),Xn||fi(0,s)),Xn&&(1==Ul.ori?(t=Rn,n=Ln):(t=Fn,n=Nn),fi(w(t,n),p(n-t)),Kn||ai(0,o)),Kn||Xn||(ai(0,0),fi(0,0))}if(qn._x=Kn,qn._y=Xn,null==l){if(n){if(null!=Ii){let[l,e]=Ci.scales;Ci.values[0]=null!=l?si(0==Ul.ori?Ln:Nn,l):null,Ci.values[1]=null!=e?si(1==Ul.ori?Ln:Nn,e):null}Fi(fl,c,Ln,Nn,Xe,Ze,i)}if(Lt){let l=n&&Ci.setSeries,e=Ot.prox;null==ii?ti>e||ei(ni,oi,!0,l):ti>e?ei(null,oi,!0,l):ni!=ii&&ei(ni,oi,!0,l)}}mt&&(ne.idx=i,ci()),!1!==t&&Ai("setCursor")}c.setLegend=ci;let pi=null;function mi(l=!1){l?pi=null:(pi=ul.getBoundingClientRect(),Ai("syncRect",pi))}function gi(l,e,t,n,i,o){_t._lock||Wn&&null!=l&&0==l.movementX&&0==l.movementY||(xi(l,e,t,n,i,o,0,!1,null!=l),null!=l?di(null,!0,!0):di(e,!0,!1))}function xi(l,e,t,n,i,o,s,r,u){if(null==pi&&mi(!1),vt(l),null!=l)t=l.clientX-pi.left,n=l.clientY-pi.top;else{if(0>t||0>n)return Ln=-10,void(Nn=-10);let[l,s]=Ci.scales,r=e.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=Ci.match,p=e.axes[0].side%2==1,m=0==Ul.ori?Xe:Ze,g=1==Ul.ori?Xe:Ze,x=p?o:i,w=p?i:o,_=p?n:t,v=p?t:n;if(t=null!=f?h(l,f)?O(u,Fl[l],m,0):-10:m*(_/x),n=null!=c?d(s,c)?O(a,Fl[s],g,0):-10:g*(v/w),1==Ul.ori){let l=t;t=n,n=l}}u&&(t>1&&Xe-1>t||(t=G(t,Xe)),n>1&&Ze-1>n||(n=G(n,Ze))),r?(Cn=t,In=n,[Rn,Fn]=_t.move(c,t,n)):(Ln=t,Nn=n)}Object.defineProperty(c,"rect",{get:()=>(null==pi&&mi(!1),pi)});const wi={width:0,height:0,left:0,top:0};function _i(){Qn(wi,!1)}let vi,ki,bi,yi;function Si(l,e,t,n,i,o){Wn=!0,Kn=Xn=qn._x=qn._y=!1,xi(l,e,t,n,i,o,0,!0,!1),null!=l&&(Ge(hl,bl,Ei,!1),Fi(cl,c,Rn,Fn,Xe,Ze,null));let{left:s,top:r,width:u,height:a}=Zn;vi=s,ki=r,bi=u,yi=a,_i()}function Ei(l,e,t,n,i,o){Wn=qn._x=qn._y=!1,xi(l,e,t,n,i,o,0,!1,!0);let{left:s,top:r,width:u,height:a}=Zn,f=u>0||a>0,h=vi!=s||ki!=r||bi!=u||yi!=a;if(f&&h&&Qn(Zn),qn.setScale&&f&&h){let l=s,e=u,t=r,n=a;if(1==Ul.ori&&(l=r,e=a,t=s,n=u),Kn&&li(Ll,si(l,Ll),si(l+e,Ll)),Xn)for(let l in Fl){let e=Fl[l];l!=Ll&&null==e.from&&e.min!=E&&li(l,si(t+n,l),si(t,l))}_i()}else _t.lock&&(_t._lock=!_t._lock,di(null,!0,!1));null!=l&&(je(hl,bl),Fi(hl,c,Ln,Nn,Xe,Ze,null))}function Ti(l){_t._lock||(vt(l),dn(),_i(),null!=l&&Fi(ml,c,Ln,Nn,Xe,Ze,null))}function zi(){Il.forEach(Gt),gt(c.width,c.height,!0)}Nl(xl,yl,zi);const Di={};Di.mousedown=Si,Di.mousemove=gi,Di.mouseup=Ei,Di.dblclick=Ti,Di.setSeries=(l,e,t,n)=>{-1!=(t=(0,Ci.match[2])(c,e,t))&&ei(t,n,!0,!1)},_t.show&&(Ge(cl,ul,Si),Ge(fl,ul,gi),Ge(dl,ul,(l=>{vt(l),mi(!1)})),Ge(pl,ul,(function(l){if(_t._lock)return;vt(l);let e=Wn;if(Wn){let l,e,t=!0,n=!0,i=10;0==Ul.ori?(l=Kn,e=Xn):(l=Xn,e=Kn),l&&e&&(t=i>=Ln||Ln>=Xe-i,n=i>=Nn||Nn>=Ze-i),l&&t&&(Ln=Rn>Ln?0:Xe),e&&n&&(Nn=Fn>Nn?0:Ze),di(null,!0,!0),Wn=!1}Ln=-10,Nn=-10,di(null,!0,!0),e&&(Wn=e)})),Ge(ml,ul,Ti),kt.add(c),c.syncRect=mi);const Pi=c.hooks=t.hooks||{};function Ai(l,e,t){jn?Bn.push([l,e,t]):l in Pi&&Pi[l].forEach((l=>{l.call(null,c,e,t)}))}(t.plugins||[]).forEach((l=>{for(let e in l.hooks)Pi[e]=(Pi[e]||[]).concat(l.hooks[e])}));const Mi=(l,e,t)=>t,Ci=Q({key:null,setSeries:!1,filters:{pub:C,sub:C},scales:[Ll,Ml[1]?Ml[1].scale:null],match:[I,I,Mi],values:[null,null]},_t.sync);2==Ci.match.length&&Ci.match.push(Mi),_t.sync=Ci;const Ii=Ci.key,Ri=Ke(Ii);function Fi(l,e,t,n,i,o,s){Ci.filters.pub(l,e,t,n,i,o,s)&&Ri.pub(l,e,t,n,i,o,s)}function Gi(){Ai("init",t,r),hn(r||t.data,!1),Xl[Ll]?$n(Ll,Xl[Ll]):dn(),pt=Zn.show&&(Zn.width>0||Zn.height>0),dt=mt=!0,gt(t.width,t.height)}return Ri.sub(c),c.pub=function(l,e,t,n,i,o,s){Ci.filters.sub(l,e,t,n,i,o,s)&&Di[l](null,e,t,n,i,o,s)},c.destroy=function(){Ri.unsub(c),kt.delete(c),Fe.clear(),Yl(xl,yl,zi),B.remove(),xe?.remove(),Ai("destroy")},Ml.forEach(Ut),Il.forEach((function(l,e){if(l._show=l.show,l.show){let t=Fl[l.scale];null==t&&(l.scale=l.side%2?Ml[1].scale:Ll,t=Fl[l.scale]);let n=t.time;l.size=D(l.size),l.space=D(l.space),l.rotate=D(l.rotate),$(l.incrs)&&l.incrs.forEach((l=>{!Y.has(l)&&Y.set(l,j(l))})),l.incrs=D(l.incrs||(2==t.distr?$l:n?1==El?ie:re:Wl)),l.splits=D(l.splits||(n&&1==t.distr?Ql:3==t.distr?Ae:4==t.distr?Me:Pe)),l.stroke=D(l.stroke),l.grid.stroke=D(l.grid.stroke),l.ticks.stroke=D(l.ticks.stroke),l.border.stroke=D(l.border.stroke);let i=l.values;l.values=$(i)&&!$(i[0])?D(i):n?$(i)?ce(Zl,fe(i,Jl)):i||le:i||De,l.filter=D(l.filter||(3>t.distr||10!=t.log?3==t.distr&&2==t.log?Le:A:Oe)),l.font=Ft(l.font),l.labelFont=Ft(l.labelFont),l._size=l.size(c,null,e,0),l._space=l._rotate=l._incrs=l._found=l._splits=l._values=null,l._size>0&&(Vt[e]=!0,l._el=Al("u-axis",Z))}})),u?u instanceof HTMLElement?(u.appendChild(B),Gi()):u(c,Gi):Gi(),c}Ot.assign=Q,Ot.rangeNum=a,Ot.rangeLog=n,Ot.rangeAsinh=i,Ot.orient=Xe,Ot.pxRatio=Sl,Ot.join=function(l,e){if(function(l){let e=l[0][0],t=e.length;for(let n=1;l.length>n;n++){let i=l[n][0];if(i.length!=t)return!1;if(i!=e)for(let l=0;t>l;l++)if(i[l]!=e[l])return!1}return!0}(l)){let e=l[0].slice();for(let t=1;l.length>t;t++)e.push(...l[t].slice(1));return function(l,e=100){const t=l.length;if(1>=t)return!0;let n=0,i=t-1;for(;i>=n&&null==l[n];)n++;for(;i>=n&&null==l[i];)i--;if(n>=i)return!0;const o=_(1,m((i-n+1)/e));for(let e=l[n],t=n+o;i>=t;t+=o){const n=l[t];if(null!=n){if(e>=n)return!1;e=n}}return!0}(e[0])||(e=function(l){let e=l[0],t=e.length,n=Array(t);for(let l=0;n.length>l;l++)n[l]=l;n.sort(((l,t)=>e[l]-e[t]));let i=[];for(let e=0;l.length>e;e++){let o=l[e],s=Array(t);for(let l=0;t>l;l++)s[l]=o[n[l]];i.push(s)}return i}(e)),e}let t=new Set;for(let e=0;l.length>e;e++){let n=l[e][0],i=n.length;for(let l=0;i>l;l++)t.add(n[l])}let n=[Array.from(t).sort(((l,e)=>l-e))],i=n[0].length,o=new Map;for(let l=0;i>l;l++)o.set(n[0][l],l);for(let t=0;l.length>t;t++){let s=l[t],r=s[0];for(let l=1;s.length>l;l++){let u=s[l],a=Array(i).fill(void 0),f=e?e[t][l]:1,c=[];for(let l=0;u.length>l;l++){let e=u[l],t=o.get(r[l]);null===e?0!=f&&(a[t]=e,2==f&&c.push(t)):a[t]=e}ll(a,c,i),n.push(a)}}return n},Ot.tzDate=function(l,e){let t;return"UTC"==e||"Etc/UTC"==e?t=new Date(+l+6e4*l.getTimezoneOffset()):e==jl?t=l:(t=new Date(l.toLocaleString("en-US",{timeZone:e})),t.setMilliseconds(l.getMilliseconds())),t},Ot.sync=Ke;{Ot.addGap=function(l,e,t){let n=l[l.length-1];n&&n[0]==e?n[1]=t:l.push([e,t])},Ot.clipGaps=lt;let l=Ot.paths={points:pt};l.linear=wt,l.stepped=function(l){const e=f(l.align,1),n=f(l.ascDesc,!1),i=f(l.alignGaps,0),o=f(l.extend,!1);return(l,s,r,u)=>Xe(l,s,((a,f,c,h,d,p,m,g,x,w,_)=>{let v=a.pxRound,{left:k,width:b}=l.bbox,y=l=>v(p(l,h,w,g)),S=l=>v(m(l,d,_,x)),E=0==h.ori?st:rt;const T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke,D=h.dir*(0==h.ori?1:-1);r=t(c,r,u,1),u=t(c,r,u,-1);let P=S(c[1==D?r:u]),A=y(f[1==D?r:u]),M=A,C=A;o&&-1==e&&(C=k,E(z,C,P)),E(z,A,P);for(let l=1==D?r:u;l>=r&&u>=l;l+=D){let t=c[l];if(null==t)continue;let n=y(f[l]),i=S(t);1==e?E(z,n,P):E(z,M,i),E(z,n,i),P=i,M=n}let I=M;o&&1==e&&(I=k+b,E(z,I,P));let[R,F]=Ze(l,s);if(null!=a.fill||0!=R){let e=T.fill=new Path2D(z),t=S(a.fillTo(l,s,a.min,a.max,R));E(e,I,t),E(e,C,t)}if(!a.spanGaps){let t=[];t.push(...et(f,c,r,u,D,y,i));let o=a.width*Sl/2,d=n||1==e?o:-o,p=n||-1==e?-o:o;t.forEach((l=>{l[0]+=d,l[1]+=p})),T.gaps=t=a.gaps(l,s,r,u,t),T.clip=lt(t,h.ori,g,x,w,_)}return 0!=F&&(T.band=2==F?[Qe(l,s,r,u,z,-1),Qe(l,s,r,u,z,1)]:Qe(l,s,r,u,z,F)),T}))},l.bars=function(l){const e=f((l=l||H).size,[.6,E,1]),t=l.align||0,n=l.gap||0;let i=l.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=D(i),s=1-e[0],r=f(e[1],E),u=f(e[2],1),a=f(l.disp,H),c=f(l.each,(()=>{})),{fill:h,stroke:d}=a;return(l,e,i,p)=>Xe(l,e,((g,x,v,k,b,y,S,E,T,D,A)=>{let M,C,I=g.pxRound,R=t,F=n*Sl,G=r*Sl,O=u*Sl;0==k.ori?[M,C]=o(l,e):[C,M]=o(l,e);const L=k.dir*(0==k.ori?1:-1);let N,Y,j,B=0==k.ori?ut:at,H=0==k.ori?c:(l,e,t,n,i,o,s)=>{c(l,e,t,i,n,s,o)},V=f(l.bands,U).find((l=>l.series[0]==e)),$=g.fillTo(l,e,g.min,g.max,null!=V?V.dir:0),W=I(S($,b,A,T)),q=D,K=I(g.width*Sl),X=!1,Z=null,J=null,Q=null,ll=null;null==h||0!=K&&null==d||(X=!0,Z=h.values(l,e,i,p),J=new Map,new Set(Z).forEach((l=>{null!=l&&J.set(l,new Path2D)})),K>0&&(Q=d.values(l,e,i,p),ll=new Map,new Set(Q).forEach((l=>{null!=l&&ll.set(l,new Path2D)}))));let{x0:el,size:tl}=a;if(null!=el&&null!=tl){R=1,x=el.values(l,e,i,p),2==el.unit&&(x=x.map((e=>l.posToVal(E+e*D,k.key,!0))));let t=tl.values(l,e,i,p);Y=2==tl.unit?t[0]*D:y(t[0],k,D,E)-y(0,k,D,E),q=_t(x,v,y,k,D,E,q),j=q-Y+F}else q=_t(x,v,y,k,D,E,q),j=q*s+F,Y=q-j;1>j&&(j=0),Y/2>K||(K=0),5>j&&(I=P);let nl=j>0;Y=I(z(q-j-(nl?K:0),O,G)),N=(0==R?Y/2:R==L?0:Y)-R*L*((0==R?F/2:0)+(nl?K/2:0));const il={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},ol=X?null:new Path2D;let sl=null;if(null!=V)sl=l.data[V.series[1]];else{let{y0:t,y1:n}=a;null!=t&&null!=n&&(v=n.values(l,e,i,p),sl=t.values(l,e,i,p))}let rl=M*Y,ul=C*Y;for(let t=1==L?i:p;t>=i&&p>=t;t+=L){let n=v[t];if(null==n)continue;if(null!=sl){let l=sl[t]??0;if(n-l==0)continue;W=S(l,b,A,T)}let i=y(2!=k.distr||null!=a?x[t]:t,k,D,E),o=S(f(n,$),b,A,T),s=I(i-N),r=I(_(o,W)),u=I(w(o,W)),c=r-u;if(null!=n){let i=0>n?ul:rl,o=0>n?rl:ul;X?(K>0&&null!=Q[t]&&B(ll.get(Q[t]),s,u+m(K/2),Y,_(0,c-K),i,o),null!=Z[t]&&B(J.get(Z[t]),s,u+m(K/2),Y,_(0,c-K),i,o)):B(ol,s,u+m(K/2),Y,_(0,c-K),i,o),H(l,e,t,s-K/2,u,Y+K,c)}}return K>0?il.stroke=X?ll:ol:X||(il._fill=0==g.width?g._fill:g._stroke??g._fill,il.width=0),il.fill=X?J:ol,il}))},l.spline=function(l){return function(l,e){const n=f(e?.alignGaps,0);return(e,i,o,s)=>Xe(e,i,((r,u,a,f,c,h,d,p,m,g,x)=>{let w,_,v,k=r.pxRound,b=l=>k(h(l,f,g,p)),y=l=>k(d(l,c,x,m));0==f.ori?(w=it,v=st,_=ht):(w=ot,v=rt,_=dt);const S=f.dir*(0==f.ori?1:-1);o=t(a,o,s,1),s=t(a,o,s,-1);let E=b(u[1==S?o:s]),T=E,z=[],D=[];for(let l=1==S?o:s;l>=o&&s>=l;l+=S)if(null!=a[l]){let e=b(u[l]);z.push(T=e),D.push(y(a[l]))}const P={stroke:l(z,D,w,v,_,k),fill:null,clip:null,band:null,gaps:null,flags:1},A=P.stroke;let[M,C]=Ze(e,i);if(null!=r.fill||0!=M){let l=P.fill=new Path2D(A),t=y(r.fillTo(e,i,r.min,r.max,M));v(l,T,t),v(l,E,t)}if(!r.spanGaps){let l=[];l.push(...et(u,a,o,s,S,b,n)),P.gaps=l=r.gaps(e,i,o,s,l),P.clip=lt(l,f.ori,p,m,g,x)}return 0!=C&&(P.band=2==C?[Qe(e,i,o,s,A,-1),Qe(e,i,o,s,A,1)]:Qe(e,i,o,s,A,C)),P}))}(vt,l)}}return Ot}();
