/*! https://github.com/leeoniya/uPlot (v1.6.30) */
var uPlot=function(){"use strict";const l=(new Intl.DateTimeFormat).resolvedOptions().locale;function e(l,e,t,n){let i;t=t||0;let o=2147483647>=(n=n||e.length-1);for(;n-t>1;)i=o?t+n>>1:m((t+n)/2),l>e[i]?t=i:n=i;return l-e[t]>e[n]-l?n:t}function t(l,e,t,n){for(let i=1==n?e:t;i>=e&&t>=i;i+=n)if(null!=l[i])return i;return-1}function n(l,e,t,n){let i=k(l),o=k(e);l==e&&(-1==i?(l*=t,e/=t):(l/=t,e*=t));let s=10==t?b:y,r=1==o?x:m,u=(1==i?m:x)(s(p(l))),a=r(s(p(e))),f=v(t,u),c=v(t,a);return 10==t&&(0>u&&(f=N(f,-u)),0>a&&(c=N(c,-a))),n||2==t?(l=f*i,e=c*o):(l=L(l,f),e=O(e,c)),[l,e]}function i(l,e,t,i){let o=n(l,e,t,i);return 0==l&&(o[0]=0),0==e&&(o[1]=0),o}const o=.1,s={mode:3,pad:o},r={pad:0,soft:null,mode:0},u={min:r,max:r};function a(l,e,t,n){return K(t)?c(l,e,t):(r.pad=t,r.soft=n?0:null,r.mode=n?3:0,c(l,e,u))}function f(l,e){return null==l?e:l}function c(l,e,t){let n=t.min,i=t.max,o=f(n.pad,0),s=f(i.pad,0),r=f(n.hard,-E),u=f(i.hard,E),a=f(n.soft,E),c=f(i.soft,-E),h=f(n.mode,0),d=f(i.mode,0),g=e-l,x=b(g),k=_(p(l),p(e)),y=b(k),S=p(y-x);(1e-9>g||S>10)&&(g=0,0!=l&&0!=e||(g=1e-9,2==h&&a!=E&&(o=0),2==d&&c!=-E&&(s=0)));let T=g||k||1e3,z=b(T),D=v(10,m(z)),P=N(L(l-T*(0==g?0==l?.1:1:o),D/10),9),A=a>l||1!=h&&(3!=h||P>a)&&(2!=h||a>P)?E:a,M=_(r,A>P&&l>=A?A:w(A,P)),C=N(O(e+T*(0==g?0==e?.1:1:s),D/10),9),I=e>c||1!=d&&(3!=d||c>C)&&(2!=d||C>c)?-E:c,R=w(u,C>I&&I>=e?I:_(I,C));return M==R&&0==M&&(R=100),[M,R]}const h=Math,d=h.PI,p=h.abs,m=h.floor,g=h.round,x=h.ceil,w=h.min,_=h.max,v=h.pow,k=h.sign,b=h.log10,y=h.log2,S=(l,e=1)=>h.asinh(l/e),E=1/0;function T(l){return 1+(0|b((l^l>>31)-(l>>31)))}function z(l,e,t){return w(_(l,e),t)}function D(l){return"function"==typeof l?l:()=>l}const P=l=>l,A=(l,e)=>e,M=()=>null,C=()=>!0,I=(l,e)=>l==e,R=/\.\d*?(?=9{6,}|0{6,})/gm,F=l=>{if(W(l)||Y.has(l))return l;const e=""+l,t=e.match(R);if(null==t)return l;let n=t[0].length-1;if(-1!=e.indexOf("e-")){let[l,t]=e.split("e");return+`${F(l)}e${t}`}return N(l,n)};function G(l,e){return F(N(F(l/e))*e)}function O(l,e){return F(x(F(l/e))*e)}function L(l,e){return F(m(F(l/e))*e)}function N(l,e=0){if(W(l))return l;let t=10**e;return g(l*t*(1+Number.EPSILON))/t}const Y=new Map;function j(l){return((""+l).split(".")[1]||"").length}function B(l,e,t,n){let i=[],o=n.map(j);for(let s=e;t>s;s++){let e=p(s),t=N(v(l,s),e);for(let r=0;n.length>r;r++){let u=10==l?+`${n[r]}e${s}`:n[r]*t,a=(0>s?e:0)+(o[r]>s?o[r]:0),f=10==l?u:N(u,a);i.push(f),Y.set(f,a)}}return i}const H={},U=[],V=[null,null],$=Array.isArray,W=Number.isInteger;function q(l){return"string"==typeof l}function K(l){let e=!1;if(null!=l){let t=l.constructor;e=null==t||t==Object}return e}function X(l){return null!=l&&"object"==typeof l}const Z=Object.getPrototypeOf(Uint8Array),J="__proto__";function Q(l,e=K){let t;if($(l)){let n=l.find((l=>null!=l));if($(n)||e(n)){t=Array(l.length);for(let n=0;l.length>n;n++)t[n]=Q(l[n],e)}else t=l.slice()}else if(l instanceof Z)t=l.slice();else if(e(l)){t={};for(let n in l)n!=J&&(t[n]=Q(l[n],e))}else t=l;return t}function ll(l){let e=arguments;for(let t=1;e.length>t;t++){let n=e[t];for(let e in n)e!=J&&(K(l[e])?ll(l[e],Q(n[e])):l[e]=Q(n[e]))}return l}function el(l,e,t){for(let n,i=0,o=-1;e.length>i;i++){let s=e[i];if(s>o){for(n=s-1;n>=0&&null==l[n];)l[n--]=null;for(n=s+1;t>n&&null==l[n];)l[o=n++]=null}}}const tl="undefined"==typeof queueMicrotask?l=>Promise.resolve().then(l):queueMicrotask,nl="width",il="height",ol="top",sl="bottom",rl="left",ul="right",al="#000",fl=al+"0",cl="mousemove",hl="mousedown",dl="mouseup",pl="mouseenter",ml="mouseleave",gl="dblclick",xl="change",wl="dppxchange",_l="--",vl="u-off",kl="u-label",bl="undefined"!=typeof window,yl=bl?document:null,Sl=bl?window:null;let El,Tl;function zl(l,e){if(null!=e){let t=l.classList;!t.contains(e)&&t.add(e)}}function Dl(l,e){let t=l.classList;t.contains(e)&&t.remove(e)}function Pl(l,e,t){l.style[e]=t+"px"}function Al(l,e,t,n){let i=yl.createElement(l);return null!=e&&zl(i,e),null!=t&&t.insertBefore(i,n),i}function Ml(l,e){return Al("div",l,e)}const Cl=new WeakMap;function Il(l,e,t,n,i){let o="translate("+e+"px,"+t+"px)";o!=Cl.get(l)&&(l.style.transform=o,Cl.set(l,o),0>e||0>t||e>n||t>i?zl(l,vl):Dl(l,vl))}const Rl=new WeakMap;function Fl(l,e,t){let n=e+t;n!=Rl.get(l)&&(Rl.set(l,n),l.style.background=e,l.style.borderColor=t)}const Gl=new WeakMap;function Ol(l,e,t,n){let i=e+""+t;i!=Gl.get(l)&&(Gl.set(l,i),l.style.height=t+"px",l.style.width=e+"px",l.style.marginLeft=n?-e/2+"px":0,l.style.marginTop=n?-t/2+"px":0)}const Ll={passive:!0},Nl={...Ll,capture:!0};function Yl(l,e,t,n){e.addEventListener(l,t,n?Nl:Ll)}function jl(l,e,t){e.removeEventListener(l,t,Ll)}bl&&function l(){let e=devicePixelRatio;El!=e&&(El=e,Tl&&jl(xl,Tl,l),Tl=matchMedia(`(min-resolution: ${El-.001}dppx) and (max-resolution: ${El+.001}dppx)`),Yl(xl,Tl,l),Sl.dispatchEvent(new CustomEvent(wl)))}();const Bl=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Hl=l=>l%1==0,Ul=[1,2,2.5,5],Vl=B(10,-32,0,Ul),$l=B(10,0,32,Ul),Wl=$l.filter(Hl),ql=Vl.concat($l);let Kl={year:"numeric"},Xl={month:"numeric"},Zl={month:"short"},Jl={day:"numeric"},Ql={hour:"numeric"},le={minute:"numeric"},ee={second:"numeric"},te={fractionalSecondDigits:3};const ne=null;function ie(l){let e=1e3*l,t=60*e,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==l?B(10,0,3,Ul).filter(Hl):B(10,-3,0,Ul)).concat([e,5*e,10*e,15*e,30*e,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,{...Kl},ne,ne,ne,ne,ne,ne,1],[28*i,{...Zl},{...Kl},ne,ne,ne,ne,ne,1],[i,{...Xl,...Jl},{...Kl},ne,ne,ne,ne,ne,1],[n,{...Ql},{...Kl,...Xl,...Jl},ne,{...Xl,...Jl},ne,ne,ne,1],[t,{...Ql,...le},{...Kl,...Xl,...Jl},ne,{...Xl,...Jl},ne,ne,ne,1],[e,{...ee},{...Kl,...Xl,...Jl,...Ql,...le},ne,{...Xl,...Jl,...Ql,...le},ne,{...Ql,...le},ne,1],[l,{...ee,...te},{...Kl,...Xl,...Jl,...Ql,...le},ne,{...Xl,...Jl,...Ql,...le},ne,{...Ql,...le},ne,1]],function(e){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,x=c>=o&&s>c,w=e(a),_=N(w*l,3),v=pe(w.getFullYear(),p?0:w.getMonth(),x||p?1:w.getDate()),k=N(v*l,3);if(x||p){let t=x?c/o:0,n=p?c/s:0,i=_==k?_:N(pe(v.getFullYear()+n,v.getMonth()+t,1)*l,3),r=new Date(g(i/l)),u=r.getFullYear(),a=r.getMonth();for(let o=0;f>=i;o++){let s=pe(u+n*o,a+t*o,1),r=s-e(N(s*l,3));i=N((+s+r)*l,3),i>f||d.push(i)}}else{let o=i>c?c:i,s=k+(m(a)-m(_))+O(_-k,o);d.push(s);let p=e(s),g=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,x=c/n,w=h/r.axes[u]._space;for(;s=N(s+c,1==l?0:3),f>=s;)if(x>1){let l=m(N(g+x,6))%24,t=e(s).getHours()-l;t>1&&(t=-1),s-=t*n,g=(g+x)%24,.7>N((s-d[d.length-1])/c,3)*w||d.push(s)}else d.push(s)}return d}}]}const[oe,se,re]=ie(1),[ue,ae,fe]=ie(.001);function ce(l,e){return l.map((l=>l.map(((t,n)=>0==n||8==n||null==t?t:e(1==n||0==l[8]?t:l[1]+t)))))}function he(l,e){return(t,n,i,o,s)=>{let r,u,a,f,c,h,d=e.find((l=>s>=l[0]))||e[e.length-1];return n.map((e=>{let t=l(e),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(t)}))}}function de(l,e){let t=fmtDate(e);return(e,n)=>n.map((e=>t(l(e))))}function pe(l,e,t){return new Date(l,e,t)}function me(l,e){return e(l)}function ge(l,e){return(t,n,i,o)=>null==o?_l:e(l(n))}B(2,-53,53,[1]);const xe={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(l,e){let t=l.series[e];return t.width?t.stroke(l,e):t.points.width?t.points.stroke(l,e):null},fill:function(l,e){return l.series[e].fill(l,e)},dash:"solid"},idx:null,idxs:null,values:[]},we=[0,0];function _e(l,e,t,n=!0){return l=>{0==l.button&&(!n||l.target==e)&&t(l)}}function ve(l,e,t,n=!0){return l=>{(!n||l.target==e)&&t(l)}}const ke={show:!0,x:!0,y:!0,lock:!1,move:function(l,e,t){return we[0]=e,we[1]=t,we},points:{one:!1,show:function(l,e){let t=l.cursor.points,n=Ml(),i=t.size(l,e);Pl(n,nl,i),Pl(n,il,i);let o=i/-2;Pl(n,"marginLeft",o),Pl(n,"marginTop",o);let s=t.width(l,e,i);return s&&Pl(n,"borderWidth",s),n},size:function(l,e){return l.series[e].points.size},width:0,stroke:function(l,e){let t=l.series[e].points;return t._stroke||t._fill},fill:function(l,e){let t=l.series[e].points;return t._fill||t._stroke}},bind:{mousedown:_e,mouseup:_e,click:_e,dblclick:_e,mousemove:ve,mouseleave:ve,mouseenter:ve},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(l,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(l,e,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},be={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ye=ll({},be,{filter:A}),Se=ll({},ye,{size:10}),Ee=ll({},be,{show:!1}),Te='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ze="bold "+Te,De={show:!0,scale:"x",stroke:al,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ze,side:2,grid:ye,ticks:Se,border:Ee,font:Te,lineGap:1.5,rotate:0},Pe={show:!0,scale:"x",auto:!1,sorted:1,min:E,max:-E,idxs:[]};function Ae(l,e,t,n,i,o){return e.map((l=>null==l?"":o(l)))}function Me(l,e,t,n,i,o,s){let r=[],u=Y.get(i)||0;for(let l=t=s?t:N(O(t,i),u);n>=l;l=N(l+i,u))r.push(Object.is(l,-0)?0:l);return r}function Ce(l,t,n,i,o){const s=[],r=l.scales[l.axes[t].scale].log,u=m((10==r?b:y)(n));o=v(r,u),10==r&&(o=ql[e(o,ql)]);let a=n,f=o*r;10==r&&(f=ql[e(f,ql)]);do{s.push(a),a+=o,10!=r||Y.has(a)||(a=N(a,Y.get(o))),f>a||(f=(o=a)*r,10==r&&(f=ql[e(f,ql)]))}while(i>=a);return s}function Ie(l,e,t,n,i){let o=l.scales[l.axes[e].scale].asinh,s=n>o?Ce(l,e,_(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?Ce(l,e,_(o,-n),-t,i):[o]).reverse().map((l=>-l)).concat(r,s)}const Re=/./,Fe=/[12357]/,Ge=/[125]/,Oe=/1/,Le=(l,e,t,n)=>l.map(((l,i)=>4==e&&0==l||i%n==0&&t.test(l.toExponential()[0>l?1:0])?l:null));function Ne(l,e,t){let n=l.axes[t],i=n.scale,o=l.scales[i],s=l.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Oe:Ge:Fe:Re;if(a==Oe){let l=p(s(1,i)-u);if(r>l)return Le(e.slice().reverse(),o.distr,a,x(r/l)).reverse()}return Le(e,o.distr,a,1)}function Ye(l,e,t){let n=l.axes[t],i=n.scale,o=n._space,s=l.valToPos,r=p(s(1,i)-s(2,i));return o>r?Le(e.slice().reverse(),3,Re,x(o/r)).reverse():e}function je(l,e,t,n,i){return null==n?_l:null==e?"":i(e)}const Be={show:!0,scale:"y",stroke:al,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ze,side:3,grid:ye,ticks:Se,border:Ee,font:Te,lineGap:1.5,rotate:0},He={scale:null,auto:!0,sorted:0,min:E,max:-E},Ue=(l,e,t,n,i)=>i,Ve={show:!0,auto:!0,sorted:0,gaps:Ue,alpha:1,facets:[ll({},He,{scale:"x"}),ll({},He,{scale:"y"})]},$e={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Ue,alpha:1,points:{show:function(l,e){let{scale:t,idxs:n}=l.series[0],i=l._data[0],o=l.valToPos(i[n[0]],t,!0),s=l.valToPos(i[n[1]],t,!0);return p(s-o)/(l.series[e].points.space*El)>=n[1]-n[0]},filter:null},values:null,min:E,max:-E,idxs:[],path:null,clip:null};function We(l,e,t){return t/10}const qe={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ke=ll({},qe,{time:!1,ori:1}),Xe={};function Ze(l){let e=Xe[l];return e||(e={key:l,plots:[],sub(l){e.plots.push(l)},unsub(l){e.plots=e.plots.filter((e=>e!=l))},pub(l,t,n,i,o,s,r){for(let u=0;e.plots.length>u;u++)e.plots[u]!=t&&e.plots[u].pub(l,t,n,i,o,s,r)}},null!=l&&(Xe[l]=e)),e}function Je(l,e,t){const n=l.mode,i=l.series[e],o=2==n?l._data[e]:l._data,s=l.scales,r=l.bbox;let u=o[0],a=2==n?o[1]:o[e],f=2==n?s[i.facets[0].scale]:s[l.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=l.valToPosH,x=l.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,d,p,m,st,ut,ft,ht,pt):t(i,u,a,f,c,x,g,d,h,m,p,rt,at,ct,dt,mt)}function Qe(l,e){let t=0,n=0,i=f(l.bands,U);for(let l=0;i.length>l;l++){let o=i[l];o.series[0]==e?t=o.dir:o.series[1]==e&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function lt(l,e,t,n,i){let o=l.series[e],s=l.scales[2==l.mode?o.facets[1].scale:o.scale];return-1==i?s.min:1==i?s.max:3==s.distr?1==s.dir?s.min:s.max:0}function et(l,e,t,n,i,o){return Je(l,e,((l,e,s,r,u,a,f,c,h,d,p)=>{let m=l.pxRound;const g=0==r.ori?ut:at;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let _=m(a(e[x],r,d,c)),v=m(f(s[x],u,p,h)),k=m(a(e[w],r,d,c)),b=m(f(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,k,b),g(y,_,b),g(y,_,v),y}))}function tt(l,e,t,n,i,o){let s=null;if(l.length>0){s=new Path2D;const r=0==e?ft:ct;let u=t;for(let e=0;l.length>e;e++){let t=l[e];if(t[1]>t[0]){let l=t[0]-u;l>0&&r(s,u,n,l,n+o),u=t[1]}}let a=t+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function nt(l,e,t,n,i,o,s){let r=[],u=l.length;for(let a=1==i?t:n;a>=t&&n>=a;a+=i)if(null===e[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===e[a];)c=a;else for(;--a>=t&&null===e[a];)c=a;let h=o(l[f]),d=c==f?h:o(l[c]),p=f-i;h=s>0||0>p||p>=u?h:o(l[p]);let m=c+i;d=0>s||0>m||m>=u?d:o(l[m]),h>d||r.push([h,d])}return r}function it(l){return 0==l?P:1==l?g:e=>G(e,l)}function ot(l){let e=0==l?st:rt,t=0==l?(l,e,t,n,i,o)=>{l.arcTo(e,t,n,i,o)}:(l,e,t,n,i,o)=>{l.arcTo(t,e,i,n,o)},n=0==l?(l,e,t,n,i)=>{l.rect(e,t,n,i)}:(l,e,t,n,i)=>{l.rect(t,e,i,n)};return(l,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(l,i,o,s,r):(u=w(u,s/2,r/2),a=w(a,s/2,r/2),e(l,i+u,o),t(l,i+s,o,i+s,o+r,u),t(l,i+s,o+r,i,o+r,a),t(l,i,o+r,i,o,a),t(l,i,o,i+s,o,u),l.closePath())}}const st=(l,e,t)=>{l.moveTo(e,t)},rt=(l,e,t)=>{l.moveTo(t,e)},ut=(l,e,t)=>{l.lineTo(e,t)},at=(l,e,t)=>{l.lineTo(t,e)},ft=ot(0),ct=ot(1),ht=(l,e,t,n,i,o)=>{l.arc(e,t,n,i,o)},dt=(l,e,t,n,i,o)=>{l.arc(t,e,n,i,o)},pt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(e,t,n,i,o,s)},mt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(t,e,i,n,s,o)};function gt(){return(l,e,t,n,i)=>Je(l,e,((e,o,s,r,u,a,f,c,h,p,m)=>{let g,x,{pxRound:w,points:_}=e;0==r.ori?(g=st,x=ht):(g=rt,x=dt);const v=N(_.width*El,3);let k=(_.size-_.width)/2*El,b=N(2*k,3),y=new Path2D,S=new Path2D,{left:E,top:T,width:z,height:D}=l.bbox;ft(S,E-b,T-b,z+2*b,D+2*b);const P=l=>{if(null!=s[l]){let e=w(a(o[l],r,p,c)),t=w(f(s[l],u,m,h));g(y,e+k,t),x(y,e,t,k,0,2*d)}};if(i)i.forEach(P);else for(let l=t;n>=l;l++)P(l);return{stroke:v>0?y:null,fill:y,clip:S,flags:3}}))}function xt(l){return(e,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&l(e,t,n),o!=i&&s!=i&&l(e,t,i),l(e,t,s))}}const wt=xt(ut),_t=xt(at);function vt(l){const e=f(l?.alignGaps,0);return(l,n,i,o)=>Je(l,n,((s,r,u,a,f,c,h,d,p,m,g)=>{let x,v,k=s.pxRound,b=l=>k(c(l,a,m,d)),y=l=>k(h(l,f,g,p));0==a.ori?(x=ut,v=wt):(x=at,v=_t);const S=a.dir*(0==a.ori?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke;let D,P,A,M=E,C=-E,I=b(r[1==S?i:o]),R=t(u,i,o,1*S),F=t(u,i,o,-1*S),G=b(r[R]),O=b(r[F]),L=!1;for(let l=1==S?i:o;l>=i&&o>=l;l+=S){let e=b(r[l]),t=u[l];e==I?null!=t?(P=y(t),M==E&&(x(z,e,P),D=P),M=w(P,M),C=_(P,C)):null===t&&(L=!0):(M!=E&&(v(z,I,M,C,D,P),A=I),null!=t?(P=y(t),x(z,e,P),M=C=D=P):(M=E,C=-E,null===t&&(L=!0)),I=e)}M!=E&&M!=C&&A!=I&&v(z,I,M,C,D,P);let[N,Y]=Qe(l,n);if(null!=s.fill||0!=N){let e=T.fill=new Path2D(z),t=y(s.fillTo(l,n,s.min,s.max,N));x(e,O,t),x(e,G,t)}if(!s.spanGaps){let t=[];L&&t.push(...nt(r,u,i,o,S,b,e)),T.gaps=t=s.gaps(l,n,i,o,t),T.clip=tt(t,a.ori,d,p,m,g)}return 0!=Y&&(T.band=2==Y?[et(l,n,i,o,z,-1),et(l,n,i,o,z,1)]:et(l,n,i,o,z,Y)),T}))}function kt(l,e,t,n,i,o,s=E){if(l.length>1){let r=null;for(let u=0,a=1/0;l.length>u;u++)if(void 0!==e[u]){if(null!=r){let e=p(l[u]-l[r]);a>e&&(a=e,s=p(t(l[u],n,i,o)-t(l[r],n,i,o)))}r=u}}return s}function bt(l,e,t,n,i){const o=l.length;if(2>o)return null;const s=new Path2D;if(t(s,l[0],e[0]),2==o)n(s,l[1],e[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=e[t+1]-e[t],u[t]=l[t+1]-l[t],n[t]=r[t]/u[t];t[0]=n[0];for(let l=1;o-1>l;l++)0===n[l]||0===n[l-1]||n[l-1]>0!=n[l]>0?t[l]=0:(t[l]=3*(u[l-1]+u[l])/((2*u[l]+u[l-1])/n[l-1]+(u[l]+2*u[l-1])/n[l]),isFinite(t[l])||(t[l]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,l[n]+u[n]/3,e[n]+t[n]*u[n]/3,l[n+1]-u[n]/3,e[n+1]-t[n+1]*u[n]/3,l[n+1],e[n+1])}return s}const yt=new Set;function St(){for(let l of yt)l.syncRect(!0)}bl&&(Yl("resize",Sl,St),Yl("scroll",Sl,St,!0),Yl(wl,Sl,(()=>{Nt.pxRatio=El})));const Et=vt(),Tt=gt();function zt(l,e,t,n){return(n?[l[0],l[1]].concat(l.slice(2)):[l[0]].concat(l.slice(1))).map(((l,n)=>Dt(l,n,e,t)))}function Dt(l,e,t,n){return ll({},0==e?t:n,l)}function Pt(l,e,t){return null==e?V:[e,t]}const At=Pt;function Mt(l,e,t){return null==e?V:a(e,t,o,!0)}function Ct(l,e,t,i){return null==e?V:n(e,t,l.scales[i].log,!1)}const It=Ct;function Rt(l,e,t,n){return null==e?V:i(e,t,l.scales[n].log,!1)}const Ft=Rt;function Gt(l,t,n,i,o){let s=_(T(l),T(t)),r=t-l,u=e(o/i*r,n);do{let l=n[u],e=i*l/r;if(e>=o&&17>=s+(5>l?Y.get(l):0))return[l,e]}while(++u<n.length);return[0,0]}function Ot(l){let e,t;return[l=l.replace(/(\d+)px/,((l,n)=>(e=g((t=+n)*El))+"px")),e,t]}function Lt(l){l.show&&[l.font,l.labelFont].forEach((l=>{let e=N(l[2]*El,1);l[0]=l[0].replace(/[0-9.]+px/,e+"px"),l[1]=e}))}function Nt(t,r,u){const c={mode:f(t.mode,1)},m=c.mode,k=new Intl.NumberFormat(t.locale||l),y=l=>k.format(l);c.fmtNum=y;const T=e=>new Intl.DateTimeFormat(t.locale||l,e).format;function P(l,e){return((3==e.distr?b(l>0?l:e.clamp(c,l,e.min,e.max,e.key)):4==e.distr?S(l,e.asinh):100==e.distr?e.fwd(l):l)-e._min)/(e._max-e._min)}function R(l,e,t,n){let i=P(l,e);return n+t*(-1==e.dir?1-i:i)}function F(l,e,t,n){let i=P(l,e);return n+t*(-1==e.dir?i:1-i)}function O(l,e,t,n){return 0==e.ori?R(l,e,t,n):F(l,e,t,n)}c.fmtDate=T,c.valToPosH=R,c.valToPosV=F;let L=!1;c.status=0;const B=c.root=Ml("uplot");null!=t.id&&(B.id=t.id),zl(B,t.class),t.title&&(Ml("u-title",B).textContent=t.title);const W=Al("canvas"),Z=c.ctx=W.getContext("2d"),J=Ml("u-wrap",B);Yl("click",J,(l=>{l.target===al&&(Yn!=Gn||jn!=On)&&Xn.click(c,l)}),!0);const el=c.under=Ml("u-under",J);J.appendChild(W);const al=c.over=Ml("u-over",J),xl=+f((t=Q(t)).pxAlign,1),bl=it(xl);(t.plugins||[]).forEach((l=>{l.opts&&(t=l.opts(c,t)||t)}));const Tl=t.ms||.001,Cl=c.series=1==m?zt(t.series||[],Pe,$e,!1):function(l,e){return l.map(((l,t)=>0==t?{}:ll({},e,l)))}(t.series||[null],Ve),Rl=c.axes=zt(t.axes||[],De,Be,!0),Gl=c.scales={},Ll=c.bands=t.bands||[];Ll.forEach((l=>{l.fill=D(l.fill||null),l.dir=f(l.dir,-1)}));const Nl=2==m?Cl[1].facets[0].scale:Cl[0].scale,Bl={axes:function(){for(let l=0;Rl.length>l;l++){let e=Rl[l];if(!e.show||!e._show)continue;let t,n,i=e.side,o=i%2,s=e.stroke(c,l),r=0==i||3==i?-1:1;if(e.label){let l=g((e._lpos+e.labelGap*r)*El);xn(e.labelFont[0],s,"center",2==i?ol:sl),Z.save(),1==o?(t=n=0,Z.translate(l,g(at+ct/2)),Z.rotate((3==i?-d:d)/2)):(t=g(ut+ft/2),n=l),Z.fillText(e.label,t,n),Z.restore()}let[u,a]=e._found;if(0==a)continue;let f=Gl[e.scale],h=0==o?ft:ct,p=0==o?ut:at,m=g(e.gap*El),x=e._splits,w=2==f.distr?x.map((l=>hn[l])):x,_=2==f.distr?hn[x[1]]-hn[x[0]]:u,v=e.ticks,k=e.border,b=v.show?g(v.size*El):0,y=e._rotate*-d/180,S=bl(e._pos*El),E=S+(b+m)*r;n=0==o?E:0,t=1==o?E:0,xn(e.font[0],s,1==e.align?rl:2==e.align?ul:y>0?rl:0>y?ul:0==o?"center":3==i?ul:rl,y||1==o?"middle":2==i?ol:sl);let T=e.font[1]*e.lineGap,z=x.map((l=>bl(O(l,f,h,p)))),D=e._values;for(let l=0;D.length>l;l++){let e=D[l];if(null!=e){0==o?t=z[l]:n=z[l],e=""+e;let i=-1==e.indexOf("\n")?[e]:e.split(/\n/gm);for(let l=0;i.length>l;l++){let e=i[l];y?(Z.save(),Z.translate(t,n+l*T),Z.rotate(y),Z.fillText(e,0,0),Z.restore()):Z.fillText(e,t,n+l*T)}}}v.show&&Tn(z,v.filter(c,w,l,a,_),o,i,S,b,N(v.width*El,3),v.stroke(c,l),v.dash,v.cap);let P=e.grid;P.show&&Tn(z,P.filter(c,w,l,a,_),o,0==o?2:1,0==o?at:ut,0==o?ct:ft,N(P.width*El,3),P.stroke(c,l),P.dash,P.cap),k.show&&Tn([S],[1],0==o?1:0,0==o?1:2,1==o?at:ut,1==o?ct:ft,N(k.width*El,3),k.stroke(c,l),k.dash,k.cap)}Ci("drawAxes")},series:function(){Zt>0&&(Cl.forEach(((l,e)=>{if(e>0&&l.show&&(vn(e,!1),vn(e,!0),null==l._paths)){cn!=l.alpha&&(Z.globalAlpha=cn=l.alpha);let t=2==m?[0,r[e][0].length-1]:function(l){let e=z(Jt-1,0,Zt-1),t=z(Qt+1,0,Zt-1);for(;null==l[e]&&e>0;)e--;for(;null==l[t]&&Zt-1>t;)t++;return[e,t]}(r[e]);l._paths=l.paths(c,e,t[0],t[1]),1!=cn&&(Z.globalAlpha=cn=1)}})),Cl.forEach(((l,e)=>{if(e>0&&l.show){cn!=l.alpha&&(Z.globalAlpha=cn=l.alpha),null!=l._paths&&kn(e,!1);{let t=null!=l._paths?l._paths.gaps:null,n=l.points.show(c,e,Jt,Qt,t),i=l.points.filter(c,e,n,t);(n||i)&&(l.points._paths=l.points.paths(c,e,Jt,Qt,i),kn(e,!0))}1!=cn&&(Z.globalAlpha=cn=1),Ci("drawSeries",e)}})))}},Hl=(t.drawOrder||["axes","series"]).map((l=>Bl[l]));function Ul(l){let e=Gl[l];if(null==e){let n=(t.scales||H)[l]||H;if(null!=n.from)Ul(n.from),Gl[l]=ll({},Gl[n.from],n,{key:l});else{e=Gl[l]=ll({},l==Nl?qe:Ke,n),e.key=l;let t=e.time,i=e.range,o=$(i);if((l!=Nl||2==m&&!t)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?s:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?s:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&K(i))){let l=i;i=(e,t,n)=>null==t?V:a(t,n,l)}e.range=D(i||(t?At:l==Nl?3==e.distr?It:4==e.distr?Ft:Pt:3==e.distr?Ct:4==e.distr?Rt:Mt)),e.auto=D(!o&&e.auto),e.clamp=D(e.clamp||We),e._min=e._max=null}}}Ul("x"),Ul("y"),1==m&&Cl.forEach((l=>{Ul(l.scale)})),Rl.forEach((l=>{Ul(l.scale)}));for(let l in t.scales)Ul(l);const Vl=Gl[Nl],$l=Vl.distr;let Kl,Xl;0==Vl.ori?(zl(B,"u-hz"),Kl=R,Xl=F):(zl(B,"u-vt"),Kl=F,Xl=R);const Zl={};for(let l in Gl){let e=Gl[l];null==e.min&&null==e.max||(Zl[l]={min:e.min,max:e.max},e.min=e.max=null)}const Jl=t.tzDate||(l=>new Date(g(l/Tl))),Ql=t.fmtDate||T,le=1==Tl?re(Jl):fe(Jl),ee=he(Jl,ce(1==Tl?se:ae,Ql)),te=ge(Jl,me("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Ql)),ne=[],ie=c.legend=ll({},xe,t.legend),pe=ie.show,we=ie.markers;let _e,ve,be;ie.idxs=ne,we.width=D(we.width),we.dash=D(we.dash),we.stroke=D(we.stroke),we.fill=D(we.fill);let ye,Se=[],Ee=[],Te=!1,ze={};if(ie.live){const l=Cl[1]?Cl[1].values:null;Te=null!=l,ye=Te?l(c,1,0):{_:0};for(let l in ye)ze[l]=_l}if(pe)if(_e=Al("table","u-legend",B),be=Al("tbody",null,_e),ie.mount(c,_e),Te){ve=Al("thead",null,_e,be);let l=Al("tr",null,ve);for(var Re in Al("th",null,l),ye)Al("th",kl,l).textContent=Re}else zl(_e,"u-inline"),ie.live&&zl(_e,"u-live");const Fe={show:!0},Ge={show:!1},Oe=new Map;function Le(l,e,t,n=!0){const i=Oe.get(e)||{},o=kt.bind[l](c,e,t,n);o&&(Yl(l,e,i[l]=o),Oe.set(e,i))}function He(l,e){const t=Oe.get(e)||{};for(let n in t)null!=l&&n!=l||(jl(n,e,t[n]),delete t[n]);null==l&&Oe.delete(e)}let Ue=0,Xe=0,Je=0,Qe=0,et=0,tt=0,nt=et,ot=tt,st=Je,rt=Qe,ut=0,at=0,ft=0,ct=0;c.bbox={};let ht=!1,dt=!1,pt=!1,mt=!1,gt=!1,xt=!1;function wt(l,e,t){(t||l!=c.width||e!=c.height)&&_t(l,e),Pn(!1),pt=!0,dt=!0,$n()}function _t(l,e){c.width=Ue=Je=l,c.height=Xe=Qe=e,et=tt=0,function(){let l=!1,e=!1,t=!1,n=!1;Rl.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(Je-=r,3==o?(et+=r,n=!0):t=!0):(Qe-=r,0==o?(tt+=r,l=!0):e=!0))}})),Wt[0]=l,Wt[1]=t,Wt[2]=e,Wt[3]=n,Je-=Xt[1]+Xt[3],et+=Xt[3],Qe-=Xt[2]+Xt[0],tt+=Xt[0]}(),function(){let l=et+Je,e=tt+Qe,t=et,n=tt;function i(i,o){switch(i){case 1:return l+=o,l-o;case 2:return e+=o,e-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}Rl.forEach((l=>{if(l.show&&l._show){let e=l.side;l._pos=i(e,l._size),null!=l.label&&(l._lpos=i(e,l.labelSize))}}))}();let t=c.bbox;ut=t.left=G(et*El,.5),at=t.top=G(tt*El,.5),ft=t.width=G(Je*El,.5),ct=t.height=G(Qe*El,.5)}const vt=3;c.setSize=function({width:l,height:e}){wt(l,e)};const kt=c.cursor=ll({},ke,{drag:{y:2==m}},t.cursor);if(null==kt.dataIdx){let l=kt.hover,e=l.skip=new Set(l.skip??[]);e.add(void 0);let t=l.prox=D(l.prox),n=l.bias??=0;kt.dataIdx=(l,i,o,s)=>{if(0==i)return o;let u=o,a=t(l,i,o,s)??E,f=a>=0&&E>a,c=0==Vl.ori?Je:Qe,h=kt.left,d=r[0],m=r[i];if(e.has(m[o])){u=null;let l,t=null,i=null;if(0==n||-1==n)for(l=o;null==t&&l-- >0;)e.has(m[l])||(t=l);if(0==n||1==n)for(l=o;null==i&&l++<m.length;)e.has(m[l])||(i=l);if(null!=t||null!=i)if(f){let l=h-(null==t?-1/0:Kl(d[t],Vl,c,0)),e=(null==i?1/0:Kl(d[i],Vl,c,0))-h;l>e?e>a||(u=i):l>a||(u=t)}else u=null==i?t:null==t||o-t>i-o?i:t}else f&&p(h-Kl(d[o],Vl,c,0))>a&&(u=null);return u}}const bt=l=>{kt.event=l};kt.idxs=ne,kt._lock=!1;let St=kt.points;St.show=D(St.show),St.size=D(St.size),St.stroke=D(St.stroke),St.width=D(St.width),St.fill=D(St.fill);const Nt=c.focus=ll({},t.focus||{alpha:.3},kt.focus),Yt=Nt.prox>=0,jt=Yt&&St.one;let Bt=[],Ht=[],Ut=[];function Vt(l,e){let t=St.show(c,e);if(t)return zl(t,"u-cursor-pt"),zl(t,l.class),Il(t,-10,-10,Je,Qe),al.insertBefore(t,Bt[e]),t}function $t(l,e){if(1==m||e>0){let e=1==m&&Gl[l.scale].time,t=l.value;l.value=e?q(t)?ge(Jl,me(t,Ql)):t||te:t||je,l.label=l.label||(e?"Time":"Value")}if(jt||e>0){l.width=null==l.width?1:l.width,l.paths=l.paths||Et||M,l.fillTo=D(l.fillTo||lt),l.pxAlign=+f(l.pxAlign,xl),l.pxRound=it(l.pxAlign),l.stroke=D(l.stroke||null),l.fill=D(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let e=function(l){return N(1*(3+2*(l||1)),3)}(_(1,l.width)),t=l.points=ll({},{size:e,width:_(1,.2*e),stroke:l.stroke,space:2*e,paths:Tt,_stroke:null,_fill:null},l.points);t.show=D(t.show),t.filter=D(t.filter),t.fill=D(t.fill),t.stroke=D(t.stroke),t.paths=D(t.paths),t.pxAlign=l.pxAlign}if(pe){let t=function(l,e){if(0==e&&(Te||!ie.live||2==m))return V;let t=[],n=Al("tr","u-series",be,be.childNodes[e]);zl(n,l.class),l.show||zl(n,vl);let i=Al("th",null,n);if(we.show){let l=Ml("u-marker",i);if(e>0){let t=we.width(c,e);t&&(l.style.border=t+"px "+we.dash(c,e)+" "+we.stroke(c,e)),l.style.background=we.fill(c,e)}}let o=Ml(kl,i);for(var s in o.textContent=l.label,e>0&&(we.show||(o.style.color=l.width>0?we.stroke(c,e):we.fill(c,e)),Le("click",i,(e=>{if(kt._lock)return;bt(e);let t=Cl.indexOf(l);if((e.ctrlKey||e.metaKey)!=ie.isolate){let l=Cl.some(((l,e)=>e>0&&e!=t&&l.show));Cl.forEach(((e,n)=>{n>0&&ni(n,l?n==t?Fe:Ge:Fe,!0,Ri.setSeries)}))}else ni(t,{show:!l.show},!0,Ri.setSeries)}),!1),Yt&&Le(pl,i,(e=>{kt._lock||(bt(e),ni(Cl.indexOf(l),ri,!0,Ri.setSeries))}),!1)),ye){let l=Al("td","u-value",n);l.textContent="--",t.push(l)}return[n,t]}(l,e);Se.splice(e,0,t[0]),Ee.splice(e,0,t[1]),ie.values.push(null)}if(kt.show){ne.splice(e,0,null);let t=null;jt?0==e&&(t=Vt(l,e)):e>0&&(t=Vt(l,e)),Bt.splice(e,0,t),Ht.splice(e,0,0),Ut.splice(e,0,0)}Ci("addSeries",e)}c.addSeries=function(l,e){e=null==e?Cl.length:e,l=1==m?Dt(l,e,Pe,$e):Dt(l,e,{},Ve),Cl.splice(e,0,l),$t(Cl[e],e)},c.delSeries=function(l){if(Cl.splice(l,1),pe){ie.values.splice(l,1),Ee.splice(l,1);let e=Se.splice(l,1)[0];He(null,e.firstChild),e.remove()}kt.show&&(ne.splice(l,1),Bt.splice(l,1)[0].remove(),Ht.splice(l,1),Ut.splice(l,1)),Ci("delSeries",l)};const Wt=[!1,!1,!1,!1];function qt(l,e,t){let[n,i,o,s]=t,r=e%2,u=0;return 0==r&&(s||i)&&(u=0==e&&!n||2==e&&!o?g(De.size/3):0),1==r&&(n||o)&&(u=1==e&&!i||3==e&&!s?g(Be.size/2):0),u}const Kt=c.padding=(t.padding||[qt,qt,qt,qt]).map((l=>D(f(l,qt)))),Xt=c._padding=Kt.map(((l,e)=>l(c,e,Wt,0)));let Zt,Jt=null,Qt=null;const ln=1==m?Cl[0].idxs:null;let en,tn,nn,on,sn,rn,un,an,fn,cn,hn=null,dn=!1;function pn(l,e){if(c.data=c._data=r=null==l?[]:l,2==m){Zt=0;for(let l=1;Cl.length>l;l++)Zt+=r[l][0].length}else{0==r.length&&(c.data=c._data=r=[[]]),hn=r[0],Zt=hn.length;let l=r;if(2==$l){l=r.slice();let e=l[0]=Array(Zt);for(let l=0;Zt>l;l++)e[l]=l}c._data=r=l}if(Pn(!0),Ci("setData"),2==$l&&(pt=!0),!1!==e){let l=Vl;l.auto(c,dn)?mn():ti(Nl,l.min,l.max),mt=mt||kt.left>=0,xt=!0,$n()}}function mn(){let l,e;dn=!0,1==m&&(Zt>0?(Jt=ln[0]=0,Qt=ln[1]=Zt-1,l=r[0][Jt],e=r[0][Qt],2==$l?(l=Jt,e=Qt):l==e&&(3==$l?[l,e]=n(l,l,Vl.log,!1):4==$l?[l,e]=i(l,l,Vl.log,!1):Vl.time?e=l+g(86400/Tl):[l,e]=a(l,e,o,!0))):(Jt=ln[0]=l=null,Qt=ln[1]=e=null)),ti(Nl,l,e)}function gn(l,e,t,n,i,o){l??=fl,t??=U,n??="butt",i??=fl,o??="round",l!=en&&(Z.strokeStyle=en=l),i!=tn&&(Z.fillStyle=tn=i),e!=nn&&(Z.lineWidth=nn=e),o!=sn&&(Z.lineJoin=sn=o),n!=rn&&(Z.lineCap=rn=n),t!=on&&Z.setLineDash(on=t)}function xn(l,e,t,n){e!=tn&&(Z.fillStyle=tn=e),l!=un&&(Z.font=un=l),t!=an&&(Z.textAlign=an=t),n!=fn&&(Z.textBaseline=fn=n)}function wn(l,e,t,n,i=0){if(n.length>0&&l.auto(c,dn)&&(null==e||null==e.min)){let e=f(Jt,0),o=f(Qt,n.length-1),s=null==t.min?3==l.distr?function(l,e,t){let n=E,i=-E;for(let o=e;t>=o;o++){let e=l[o];null!=e&&e>0&&(n>e&&(n=e),e>i&&(i=e))}return[n,i]}(n,e,o):function(l,e,t,n){let i=E,o=-E;if(1==n)i=l[e],o=l[t];else if(-1==n)i=l[t],o=l[e];else for(let n=e;t>=n;n++){let e=l[n];null!=e&&(i>e&&(i=e),e>o&&(o=e))}return[i,o]}(n,e,o,i):[t.min,t.max];l.min=w(l.min,t.min=s[0]),l.max=_(l.max,t.max=s[1])}}c.setData=pn;const _n={min:null,max:null};function vn(l,e){let t=e?Cl[l].points:Cl[l];t._stroke=t.stroke(c,l),t._fill=t.fill(c,l)}function kn(l,e){let t=e?Cl[l].points:Cl[l],{stroke:n,fill:i,clip:o,flags:s,_stroke:u=t._stroke,_fill:a=t._fill,_width:h=t.width}=t._paths;h=N(h*El,3);let d=null,p=h%2/2;e&&null==a&&(a=h>0?"#fff":u);let m=1==t.pxAlign&&p>0;if(m&&Z.translate(p,p),!e){let l=ut-h/2,e=at-h/2,t=ft+h,n=ct+h;d=new Path2D,d.rect(l,e,t,n)}e?yn(u,h,t.dash,t.cap,a,n,i,s,o):function(l,e,t,n,i,o,s,u,a,h,d){let p=!1;0!=a&&Ll.forEach(((m,g)=>{if(m.series[0]==l){let l,x=Cl[m.series[1]],w=r[m.series[1]],_=(x._paths||H).band;$(_)&&(_=1==m.dir?_[0]:_[1]);let v=null;x.show&&_&&function(l,e,t){for(e=f(e,0),t=f(t,l.length-1);t>=e;){if(null!=l[e])return!0;e++}return!1}(w,Jt,Qt)?(v=m.fill(c,g)||o,l=x._paths.clip):_=null,yn(e,t,n,i,v,s,u,a,h,d,l,_),p=!0}})),p||yn(e,t,n,i,o,s,u,a,h,d)}(l,u,h,t.dash,t.cap,a,n,i,s,d,o),m&&Z.translate(-p,-p)}const bn=3;function yn(l,e,t,n,i,o,s,r,u,a,f,c){gn(l,e,t,n,i),(u||a||c)&&(Z.save(),u&&Z.clip(u),a&&Z.clip(a)),c?(r&bn)==bn?(Z.clip(c),f&&Z.clip(f),En(i,s),Sn(l,o,e)):2&r?(En(i,s),Z.clip(c),Sn(l,o,e)):1&r&&(Z.save(),Z.clip(c),f&&Z.clip(f),En(i,s),Z.restore(),Sn(l,o,e)):(En(i,s),Sn(l,o,e)),(u||a||c)&&Z.restore()}function Sn(l,e,t){t>0&&(e instanceof Map?e.forEach(((l,e)=>{Z.strokeStyle=en=e,Z.stroke(l)})):null!=e&&l&&Z.stroke(e))}function En(l,e){e instanceof Map?e.forEach(((l,e)=>{Z.fillStyle=tn=e,Z.fill(l)})):null!=e&&l&&Z.fill(e)}function Tn(l,e,t,n,i,o,s,r,u,a){let f=s%2/2;1==xl&&Z.translate(f,f),gn(r,s,u,a,r),Z.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(c=i,d=m);for(let n=0;l.length>n;n++)null!=e[n]&&(0==t?c=d=l[n]:h=p=l[n],Z.moveTo(c,h),Z.lineTo(d,p));Z.stroke(),1==xl&&Z.translate(-f,-f)}function zn(l){let e=!0;return Rl.forEach(((t,n)=>{if(!t.show)return;let i=Gl[t.scale];if(null==i.min)return void(t._show&&(e=!1,t._show=!1,Pn(!1)));t._show||(e=!1,t._show=!0,Pn(!1));let o=t.side,s=o%2,{min:r,max:u}=i,[a,f]=function(l,e,t,n){let i,o=Rl[l];if(n>0){let s=o._space=o.space(c,l,e,t,n);i=Gt(e,t,o._incrs=o.incrs(c,l,e,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,r,u,0==s?Je:Qe);if(0==f)return;let h=t._splits=t.splits(c,n,r,u,a,f,2==i.distr),d=2==i.distr?h.map((l=>hn[l])):h,p=2==i.distr?hn[h[1]]-hn[h[0]]:a,m=t._values=t.values(c,t.filter(c,d,n,f,p),n,f,p,y);t._rotate=2==o?t.rotate(c,m,n,f):0;let g=t._size;t._size=x(t.size(c,m,n,l)),null!=g&&t._size!=g&&(e=!1)})),e}function Dn(l){let e=!0;return Kt.forEach(((t,n)=>{let i=t(c,n,Wt,l);i!=Xt[n]&&(e=!1),Xt[n]=i})),e}function Pn(l){Cl.forEach(((e,t)=>{t>0&&(e._paths=null,l&&(1==m?(e.min=null,e.max=null):e.facets.forEach((l=>{l.min=null,l.max=null}))))}))}let An,Mn,Cn,In,Rn,Fn,Gn,On,Ln,Nn,Yn,jn,Bn=!1,Hn=!1,Un=[];function Vn(){Hn=!1;for(let l=0;Un.length>l;l++)Ci(...Un[l]);Un.length=0}function $n(){Bn||(tl(Wn),Bn=!0)}function Wn(){if(ht&&(function(){for(let l in Gl){let e=Gl[l];null==Zl[l]&&(null==e.min||null!=Zl[Nl]&&e.auto(c,dn))&&(Zl[l]=_n)}for(let l in Gl){let e=Gl[l];null==Zl[l]&&null!=e.from&&null!=Zl[e.from]&&(Zl[l]=_n)}null!=Zl[Nl]&&Pn(!0);let l={};for(let e in Zl){let t=Zl[e];if(null!=t){let n=l[e]=Q(Gl[e],X);if(null!=t.min)ll(n,t);else if(e!=Nl||2==m)if(0==Zt&&null==n.from){let l=n.range(c,null,null,e);n.min=l[0],n.max=l[1]}else n.min=E,n.max=-E}}if(Zt>0){Cl.forEach(((t,n)=>{if(1==m){let i=t.scale,o=Zl[i];if(null==o)return;let s=l[i];if(0==n){let l=s.range(c,s.min,s.max,i);s.min=l[0],s.max=l[1],Jt=e(s.min,r[0]),Qt=e(s.max,r[0]),Qt-Jt>1&&(s.min>r[0][Jt]&&Jt++,r[0][Qt]>s.max&&Qt--),t.min=hn[Jt],t.max=hn[Qt]}else t.show&&t.auto&&wn(s,o,t,r[n],t.sorted);t.idxs[0]=Jt,t.idxs[1]=Qt}else if(n>0&&t.show&&t.auto){let[e,i]=t.facets,o=e.scale,s=i.scale,[u,a]=r[n],f=l[o],c=l[s];null!=f&&wn(f,Zl[o],e,u,e.sorted),null!=c&&wn(c,Zl[s],i,a,i.sorted),t.min=i.min,t.max=i.max}}));for(let e in l){let t=l[e],n=Zl[e];if(null==t.from&&(null==n||null==n.min)){let l=t.range(c,t.min==E?null:t.min,t.max==-E?null:t.max,e);t.min=l[0],t.max=l[1]}}}for(let e in l){let t=l[e];if(null!=t.from){let n=l[t.from];if(null==n.min)t.min=t.max=null;else{let l=t.range(c,n.min,n.max,e);t.min=l[0],t.max=l[1]}}}let t={},n=!1;for(let e in l){let i=l[e],o=Gl[e];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let l=o.distr;o._min=3==l?b(o.min):4==l?S(o.min,o.asinh):100==l?o.fwd(o.min):o.min,o._max=3==l?b(o.max):4==l?S(o.max,o.asinh):100==l?o.fwd(o.max):o.max,t[e]=n=!0}}if(n){Cl.forEach(((l,e)=>{2==m?e>0&&t.y&&(l._paths=null):t[l.scale]&&(l._paths=null)}));for(let l in t)pt=!0,Ci("setScale",l);kt.show&&kt.left>=0&&(mt=xt=!0)}for(let l in Zl)Zl[l]=null}(),ht=!1),pt&&(function(){let l=!1,e=0;for(;!l;){e++;let t=zn(e),n=Dn(e);l=e==vt||t&&n,l||(_t(c.width,c.height),dt=!0)}}(),pt=!1),dt){if(Pl(el,rl,et),Pl(el,ol,tt),Pl(el,nl,Je),Pl(el,il,Qe),Pl(al,rl,et),Pl(al,ol,tt),Pl(al,nl,Je),Pl(al,il,Qe),Pl(J,nl,Ue),Pl(J,il,Xe),W.width=g(Ue*El),W.height=g(Xe*El),Rl.forEach((({_el:l,_show:e,_size:t,_pos:n,side:i})=>{if(null!=l)if(e){let e=i%2==1;Pl(l,e?"left":"top",n-(3===i||0===i?t:0)),Pl(l,e?"width":"height",t),Pl(l,e?"top":"left",e?tt:et),Pl(l,e?"height":"width",e?Qe:Je),Dl(l,vl)}else zl(l,vl)})),en=tn=nn=sn=rn=un=an=fn=on=null,cn=1,xi(!0),et!=nt||tt!=ot||Je!=st||Qe!=rt){Pn(!1);let l=Je/st,e=Qe/rt;if(kt.show&&!mt&&kt.left>=0){kt.left*=l,kt.top*=e,Cn&&Il(Cn,g(kt.left),0,Je,Qe),In&&Il(In,0,g(kt.top),Je,Qe);for(let t=0;Bt.length>t;t++){let n=Bt[t];null!=n&&(Ht[t]*=l,Ut[t]*=e,Il(n,x(Ht[t]),x(Ut[t]),Je,Qe))}}if(Qn.show&&!gt&&Qn.left>=0&&Qn.width>0){Qn.left*=l,Qn.width*=l,Qn.top*=e,Qn.height*=e;for(let l in vi)Pl(li,l,Qn[l])}nt=et,ot=tt,st=Je,rt=Qe}Ci("setSize"),dt=!1}Ue>0&&Xe>0&&(Z.clearRect(0,0,W.width,W.height),Ci("drawClear"),Hl.forEach((l=>l())),Ci("draw")),Qn.show&&gt&&(ei(Qn),gt=!1),kt.show&&mt&&(mi(null,!0,!1),mt=!1),ie.show&&ie.live&&xt&&(di(),xt=!1),L||(L=!0,c.status=1,Ci("ready")),dn=!1,Bn=!1}function qn(l,t){let n=Gl[l];if(null==n.from){if(0==Zt){let e=n.range(c,t.min,t.max,l);t.min=e[0],t.max=e[1]}if(t.min>t.max){let l=t.min;t.min=t.max,t.max=l}if(Zt>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;l==Nl&&2==n.distr&&Zt>0&&(t.min=e(t.min,r[0]),t.max=e(t.max,r[0]),t.min==t.max&&t.max++),Zl[l]=t,ht=!0,$n()}}c.batch=function(l,e=!1){Bn=!0,Hn=e,l(c),Wn(),e&&Un.length>0&&queueMicrotask(Vn)},c.redraw=(l,e)=>{pt=e||!1,!1!==l?ti(Nl,Vl.min,Vl.max):$n()},c.setScale=qn;let Kn=!1;const Xn=kt.drag;let Zn=Xn.x,Jn=Xn.y;kt.show&&(kt.x&&(An=Ml("u-cursor-x",al)),kt.y&&(Mn=Ml("u-cursor-y",al)),0==Vl.ori?(Cn=An,In=Mn):(Cn=Mn,In=An),Yn=kt.left,jn=kt.top);const Qn=c.select=ll({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),li=Qn.show?Ml("u-select",Qn.over?al:el):null;function ei(l,e){if(Qn.show){for(let e in l)Qn[e]=l[e],e in vi&&Pl(li,e,l[e]);!1!==e&&Ci("setSelect")}}function ti(l,e,t){qn(l,{min:e,max:t})}function ni(l,e,t,n){null!=e.focus&&function(l){if(l!=si){let e=null==l,t=1!=Nt.alpha;Cl.forEach(((n,i)=>{if(1==m||i>0){let o=e||0==i||i==l;n._focus=e?null:o,t&&function(l,e){Cl[l].alpha=e,kt.show&&Bt[l]&&(Bt[l].style.opacity=e),pe&&Se[l]&&(Se[l].style.opacity=e)}(i,o?1:Nt.alpha)}})),si=l,t&&$n()}}(l),null!=e.show&&Cl.forEach(((t,n)=>{0>=n||l!=n&&null!=l||(t.show=e.show,function(l){let e=pe?Se[l]:null;Cl[l].show?e&&Dl(e,vl):(e&&zl(e,vl),Il(jt?Bt[0]:Bt[l],-10,-10,Je,Qe))}(n),2==m?(ti(t.facets[0].scale,null,null),ti(t.facets[1].scale,null,null)):ti(t.scale,null,null),$n())})),!1!==t&&Ci("setSeries",l,e),n&&Oi("setSeries",c,l,e)}let ii,oi,si;c.setSelect=ei,c.setSeries=ni,c.addBand=function(l,e){l.fill=D(l.fill||null),l.dir=f(l.dir,-1),Ll.splice(e=null==e?Ll.length:e,0,l)},c.setBand=function(l,e){ll(Ll[l],e)},c.delBand=function(l){null==l?Ll.length=0:Ll.splice(l,1)};const ri={focus:!0};function ui(l,e,t){let n=Gl[e];t&&(l=l/El-(1==n.ori?tt:et));let i=Je;1==n.ori&&(i=Qe,l=i-l),-1==n.dir&&(l=i-l);let o=n._min,s=o+l/i*(n._max-o),r=n.distr;return 3==r?v(10,s):4==r?((l,e=1)=>h.sinh(l)*e)(s,n.asinh):100==r?n.bwd(s):s}function ai(l,e){Pl(li,rl,Qn.left=l),Pl(li,nl,Qn.width=e)}function fi(l,e){Pl(li,ol,Qn.top=l),Pl(li,il,Qn.height=e)}pe&&Yt&&Le(ml,_e,(l=>{kt._lock||(bt(l),null!=si&&ni(null,ri,!0,Ri.setSeries))})),c.valToIdx=l=>e(l,r[0]),c.posToIdx=function(l,t){return e(ui(l,Nl,t),r[0],Jt,Qt)},c.posToVal=ui,c.valToPos=(l,e,t)=>0==Gl[e].ori?R(l,Gl[e],t?ft:Je,t?ut:0):F(l,Gl[e],t?ct:Qe,t?at:0),c.setCursor=(l,e,t)=>{Yn=l.left,jn=l.top,mi(null,e,t)};let ci=0==Vl.ori?ai:fi,hi=1==Vl.ori?ai:fi;function di(l,e){if(null!=l&&(l.idxs?l.idxs.forEach(((l,e)=>{ne[e]=l})):(l=>void 0===l)(l.idx)||ne.fill(l.idx),ie.idx=ne[0]),pe&&ie.live){for(let l=0;Cl.length>l;l++)(l>0||1==m&&!Te)&&pi(l,ne[l]);!function(){if(pe&&ie.live)for(let l=2==m?1:0;Cl.length>l;l++){if(0==l&&Te)continue;let e=ie.values[l],t=0;for(let n in e)Ee[l][t++].firstChild.nodeValue=e[n]}}()}xt=!1,!1!==e&&Ci("setLegend")}function pi(l,e){let t,n=Cl[l],i=0==l&&2==$l?hn:r[l];Te?t=n.values(c,l,e)??ze:(t=n.value(c,null==e?null:i[e],l,e,y),t=null==t?ze:{_:t}),ie.values[l]=t}function mi(l,t,n){let i;Ln=Yn,Nn=jn,[Yn,jn]=kt.move(c,Yn,jn),kt.left=Yn,kt.top=jn,kt.show&&(Cn&&Il(Cn,g(Yn),0,Je,Qe),In&&Il(In,0,g(jn),Je,Qe)),ii=E,oi=null;let o=0==Vl.ori?Je:Qe,s=1==Vl.ori?Je:Qe;if(0>Yn||0==Zt||Jt>Qt){i=kt.idx=null;for(let l=0;Cl.length>l;l++){let e=Bt[l];null!=e&&Il(e,-10,-10,Je,Qe)}Yt&&ni(null,ri,!0,null==l&&Ri.setSeries),ie.live&&(ne.fill(i),xt=!0)}else{let l,t,n;1==m&&(l=0==Vl.ori?Yn:jn,t=ui(l,Nl),i=kt.idx=e(t,r[0],Jt,Qt),n=Kl(r[0][i],Vl,o,0));let u=-10,a=-10,f=0,h=0,d=!0,g="",w="";for(let l=2==m?1:0;Cl.length>l;l++){let e=Cl[l],_=ne[l],v=null==_?null:1==m?r[l][_]:r[l][1][_],k=kt.dataIdx(c,l,i,t),b=null==k?null:1==m?r[l][k]:r[l][1][k];xt=xt||b!=v||k!=_,ne[l]=k;let y=k==i?n:Kl(1==m?r[0][k]:r[l][0][k],Vl,o,0);if(l>0&&e.show){let t=null==b?-10:Xl(b,1==m?Gl[e.scale]:Gl[e.facets[1].scale],s,0);if(Yt&&null!=b){let n=1==Vl.ori?Yn:jn,i=p(Nt.dist(c,l,k,t,n));if(ii>i){let t=Nt.bias;if(0!=t){let o=ui(n,e.scale),s=0>o?-1:1;s!=(0>b?-1:1)||(1==s?1==t?o>b:b>o:1==t?b>o:o>b)||(ii=i,oi=l)}else ii=i,oi=l}}if(xt||jt){let e,n;0==Vl.ori?(e=y,n=t):(e=t,n=y);let i,o,s,r,p,m,_=!0,v=St.bbox;if(null!=v){_=!1;let e=v(c,l);s=e.left,r=e.top,i=e.width,o=e.height}else s=e,r=n,i=o=St.size(c,l);if(m=St.fill(c,l),p=St.stroke(c,l),jt)l!=oi||ii>Nt.prox||(u=s,a=r,f=i,h=o,d=_,g=m,w=p);else{let e=Bt[l];null!=e&&(Ht[l]=s,Ut[l]=r,Ol(e,i,o,_),Fl(e,m,p),Il(e,x(s),x(r),Je,Qe))}}}}if(jt){let l=Nt.prox;if(xt||(null==si?l>=ii:ii>l||oi!=si)){let l=Bt[0];Ht[0]=u,Ut[0]=a,Ol(l,f,h,d),Fl(l,g,w),Il(l,x(u),x(a),Je,Qe)}}}if(Qn.show&&Kn)if(null!=l){let[e,t]=Ri.scales,[n,i]=Ri.match,[r,u]=l.cursor.sync.scales,a=l.cursor.drag;if(Zn=a._x,Jn=a._y,Zn||Jn){let a,f,c,h,d,{left:m,top:g,width:x,height:_}=l.select,v=l.scales[r].ori,k=l.posToVal,b=null!=e&&n(e,r),y=null!=t&&i(t,u);b&&Zn?(0==v?(a=m,f=x):(a=g,f=_),c=Gl[e],h=Kl(k(a,r),c,o,0),d=Kl(k(a+f,r),c,o,0),ci(w(h,d),p(d-h))):ci(0,o),y&&Jn?(1==v?(a=m,f=x):(a=g,f=_),c=Gl[t],h=Xl(k(a,u),c,s,0),d=Xl(k(a+f,u),c,s,0),hi(w(h,d),p(d-h))):hi(0,s)}else ki()}else{let l=p(Ln-Rn),e=p(Nn-Fn);if(1==Vl.ori){let t=l;l=e,e=t}Zn=Xn.x&&l>=Xn.dist,Jn=Xn.y&&e>=Xn.dist;let t,n,i=Xn.uni;null!=i?Zn&&Jn&&(Zn=l>=i,Jn=e>=i,Zn||Jn||(e>l?Jn=!0:Zn=!0)):Xn.x&&Xn.y&&(Zn||Jn)&&(Zn=Jn=!0),Zn&&(0==Vl.ori?(t=Gn,n=Yn):(t=On,n=jn),ci(w(t,n),p(n-t)),Jn||hi(0,s)),Jn&&(1==Vl.ori?(t=Gn,n=Yn):(t=On,n=jn),hi(w(t,n),p(n-t)),Zn||ci(0,o)),Zn||Jn||(ci(0,0),hi(0,0))}if(Xn._x=Zn,Xn._y=Jn,null==l){if(n){if(null!=Fi){let[l,e]=Ri.scales;Ri.values[0]=null!=l?ui(0==Vl.ori?Yn:jn,l):null,Ri.values[1]=null!=e?ui(1==Vl.ori?Yn:jn,e):null}Oi(cl,c,Yn,jn,Je,Qe,i)}if(Yt){let l=n&&Ri.setSeries,e=Nt.prox;null==si?ii>e||ni(oi,ri,!0,l):ii>e?ni(null,ri,!0,l):oi!=si&&ni(oi,ri,!0,l)}}xt&&(ie.idx=i,di()),!1!==t&&Ci("setCursor")}c.setLegend=di;let gi=null;function xi(l=!1){l?gi=null:(gi=al.getBoundingClientRect(),Ci("syncRect",gi))}function wi(l,e,t,n,i,o){kt._lock||Kn&&null!=l&&0==l.movementX&&0==l.movementY||(_i(l,e,t,n,i,o,0,!1,null!=l),null!=l?mi(null,!0,!0):mi(e,!0,!1))}function _i(l,e,t,n,i,o,s,r,u){if(null==gi&&xi(!1),bt(l),null!=l)t=l.clientX-gi.left,n=l.clientY-gi.top;else{if(0>t||0>n)return Yn=-10,void(jn=-10);let[l,s]=Ri.scales,r=e.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=Ri.match,p=e.axes[0].side%2==1,m=0==Vl.ori?Je:Qe,g=1==Vl.ori?Je:Qe,x=p?o:i,w=p?i:o,_=p?n:t,v=p?t:n;if(t=null!=f?h(l,f)?O(u,Gl[l],m,0):-10:m*(_/x),n=null!=c?d(s,c)?O(a,Gl[s],g,0):-10:g*(v/w),1==Vl.ori){let l=t;t=n,n=l}}u&&(t>1&&Je-1>t||(t=G(t,Je)),n>1&&Qe-1>n||(n=G(n,Qe))),r?(Rn=t,Fn=n,[Gn,On]=kt.move(c,t,n)):(Yn=t,jn=n)}Object.defineProperty(c,"rect",{get:()=>(null==gi&&xi(!1),gi)});const vi={width:0,height:0,left:0,top:0};function ki(){ei(vi,!1)}let bi,yi,Si,Ei;function Ti(l,e,t,n,i,o){Kn=!0,Zn=Jn=Xn._x=Xn._y=!1,_i(l,e,t,n,i,o,0,!0,!1),null!=l&&(Le(dl,yl,zi,!1),Oi(hl,c,Gn,On,Je,Qe,null));let{left:s,top:r,width:u,height:a}=Qn;bi=s,yi=r,Si=u,Ei=a,ki()}function zi(l,e,t,n,i,o){Kn=Xn._x=Xn._y=!1,_i(l,e,t,n,i,o,0,!1,!0);let{left:s,top:r,width:u,height:a}=Qn,f=u>0||a>0,h=bi!=s||yi!=r||Si!=u||Ei!=a;if(f&&h&&ei(Qn),Xn.setScale&&f&&h){let l=s,e=u,t=r,n=a;if(1==Vl.ori&&(l=r,e=a,t=s,n=u),Zn&&ti(Nl,ui(l,Nl),ui(l+e,Nl)),Jn)for(let l in Gl){let e=Gl[l];l!=Nl&&null==e.from&&e.min!=E&&ti(l,ui(t+n,l),ui(t,l))}ki()}else kt.lock&&(kt._lock=!kt._lock,mi(null,!0,!1));null!=l&&(He(dl,yl),Oi(dl,c,Yn,jn,Je,Qe,null))}function Di(l){kt._lock||(bt(l),mn(),ki(),null!=l&&Oi(gl,c,Yn,jn,Je,Qe,null))}function Pi(){Rl.forEach(Lt),wt(c.width,c.height,!0)}Yl(wl,Sl,Pi);const Ai={};Ai.mousedown=Ti,Ai.mousemove=wi,Ai.mouseup=zi,Ai.dblclick=Di,Ai.setSeries=(l,e,t,n)=>{-1!=(t=(0,Ri.match[2])(c,e,t))&&ni(t,n,!0,!1)},kt.show&&(Le(hl,al,Ti),Le(cl,al,wi),Le(pl,al,(l=>{bt(l),xi(!1)})),Le(ml,al,(function(l){if(kt._lock)return;bt(l);let e=Kn;if(Kn){let l,e,t=!0,n=!0,i=10;0==Vl.ori?(l=Zn,e=Jn):(l=Jn,e=Zn),l&&e&&(t=i>=Yn||Yn>=Je-i,n=i>=jn||jn>=Qe-i),l&&t&&(Yn=Gn>Yn?0:Je),e&&n&&(jn=On>jn?0:Qe),mi(null,!0,!0),Kn=!1}Yn=-10,jn=-10,mi(null,!0,!0),e&&(Kn=e)})),Le(gl,al,Di),yt.add(c),c.syncRect=xi);const Mi=c.hooks=t.hooks||{};function Ci(l,e,t){Hn?Un.push([l,e,t]):l in Mi&&Mi[l].forEach((l=>{l.call(null,c,e,t)}))}(t.plugins||[]).forEach((l=>{for(let e in l.hooks)Mi[e]=(Mi[e]||[]).concat(l.hooks[e])}));const Ii=(l,e,t)=>t,Ri=ll({key:null,setSeries:!1,filters:{pub:C,sub:C},scales:[Nl,Cl[1]?Cl[1].scale:null],match:[I,I,Ii],values:[null,null]},kt.sync);2==Ri.match.length&&Ri.match.push(Ii),kt.sync=Ri;const Fi=Ri.key,Gi=Ze(Fi);function Oi(l,e,t,n,i,o,s){Ri.filters.pub(l,e,t,n,i,o,s)&&Gi.pub(l,e,t,n,i,o,s)}function Li(){Ci("init",t,r),pn(r||t.data,!1),Zl[Nl]?qn(Nl,Zl[Nl]):mn(),gt=Qn.show&&(Qn.width>0||Qn.height>0),mt=xt=!0,wt(t.width,t.height)}return Gi.sub(c),c.pub=function(l,e,t,n,i,o,s){Ri.filters.sub(l,e,t,n,i,o,s)&&Ai[l](null,e,t,n,i,o,s)},c.destroy=function(){Gi.unsub(c),yt.delete(c),Oe.clear(),jl(wl,Sl,Pi),B.remove(),_e?.remove(),Ci("destroy")},Cl.forEach($t),Rl.forEach((function(l,e){if(l._show=l.show,l.show){let t=Gl[l.scale];null==t&&(l.scale=l.side%2?Cl[1].scale:Nl,t=Gl[l.scale]);let n=t.time;l.size=D(l.size),l.space=D(l.space),l.rotate=D(l.rotate),$(l.incrs)&&l.incrs.forEach((l=>{!Y.has(l)&&Y.set(l,j(l))})),l.incrs=D(l.incrs||(2==t.distr?Wl:n?1==Tl?oe:ue:ql)),l.splits=D(l.splits||(n&&1==t.distr?le:3==t.distr?Ce:4==t.distr?Ie:Me)),l.stroke=D(l.stroke),l.grid.stroke=D(l.grid.stroke),l.ticks.stroke=D(l.ticks.stroke),l.border.stroke=D(l.border.stroke);let i=l.values;l.values=$(i)&&!$(i[0])?D(i):n?$(i)?he(Jl,ce(i,Ql)):q(i)?de(Jl,i):i||ee:i||Ae,l.filter=D(l.filter||(3>t.distr||10!=t.log?3==t.distr&&2==t.log?Ye:A:Ne)),l.font=Ot(l.font),l.labelFont=Ot(l.labelFont),l._size=l.size(c,null,e,0),l._space=l._rotate=l._incrs=l._found=l._splits=l._values=null,l._size>0&&(Wt[e]=!0,l._el=Ml("u-axis",J))}})),u?u instanceof HTMLElement?(u.appendChild(B),Li()):u(c,Li):Li(),c}Nt.assign=ll,Nt.rangeNum=a,Nt.rangeLog=n,Nt.rangeAsinh=i,Nt.orient=Je,Nt.pxRatio=El,Nt.join=function(l,e){if(function(l){let e=l[0][0],t=e.length;for(let n=1;l.length>n;n++){let i=l[n][0];if(i.length!=t)return!1;if(i!=e)for(let l=0;t>l;l++)if(i[l]!=e[l])return!1}return!0}(l)){let e=l[0].slice();for(let t=1;l.length>t;t++)e.push(...l[t].slice(1));return function(l,e=100){const t=l.length;if(1>=t)return!0;let n=0,i=t-1;for(;i>=n&&null==l[n];)n++;for(;i>=n&&null==l[i];)i--;if(n>=i)return!0;const o=_(1,m((i-n+1)/e));for(let e=l[n],t=n+o;i>=t;t+=o){const n=l[t];if(null!=n){if(e>=n)return!1;e=n}}return!0}(e[0])||(e=function(l){let e=l[0],t=e.length,n=Array(t);for(let l=0;n.length>l;l++)n[l]=l;n.sort(((l,t)=>e[l]-e[t]));let i=[];for(let e=0;l.length>e;e++){let o=l[e],s=Array(t);for(let l=0;t>l;l++)s[l]=o[n[l]];i.push(s)}return i}(e)),e}let t=new Set;for(let e=0;l.length>e;e++){let n=l[e][0],i=n.length;for(let l=0;i>l;l++)t.add(n[l])}let n=[Array.from(t).sort(((l,e)=>l-e))],i=n[0].length,o=new Map;for(let l=0;i>l;l++)o.set(n[0][l],l);for(let t=0;l.length>t;t++){let s=l[t],r=s[0];for(let l=1;s.length>l;l++){let u=s[l],a=Array(i).fill(void 0),f=e?e[t][l]:1,c=[];for(let l=0;u.length>l;l++){let e=u[l],t=o.get(r[l]);null===e?0!=f&&(a[t]=e,2==f&&c.push(t)):a[t]=e}el(a,c,i),n.push(a)}}return n},Nt.tzDate=function(l,e){let t;return"UTC"==e||"Etc/UTC"==e?t=new Date(+l+6e4*l.getTimezoneOffset()):e==Bl?t=l:(t=new Date(l.toLocaleString("en-US",{timeZone:e})),t.setMilliseconds(l.getMilliseconds())),t},Nt.sync=Ze;{Nt.addGap=function(l,e,t){let n=l[l.length-1];n&&n[0]==e?n[1]=t:l.push([e,t])},Nt.clipGaps=tt;let l=Nt.paths={points:gt};l.linear=vt,l.stepped=function(l){const e=f(l.align,1),n=f(l.ascDesc,!1),i=f(l.alignGaps,0),o=f(l.extend,!1);return(l,s,r,u)=>Je(l,s,((a,f,c,h,d,p,m,g,x,w,_)=>{let v=a.pxRound,{left:k,width:b}=l.bbox,y=l=>v(p(l,h,w,g)),S=l=>v(m(l,d,_,x)),E=0==h.ori?ut:at;const T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke,D=h.dir*(0==h.ori?1:-1);r=t(c,r,u,1),u=t(c,r,u,-1);let P=S(c[1==D?r:u]),A=y(f[1==D?r:u]),M=A,C=A;o&&-1==e&&(C=k,E(z,C,P)),E(z,A,P);for(let l=1==D?r:u;l>=r&&u>=l;l+=D){let t=c[l];if(null==t)continue;let n=y(f[l]),i=S(t);1==e?E(z,n,P):E(z,M,i),E(z,n,i),P=i,M=n}let I=M;o&&1==e&&(I=k+b,E(z,I,P));let[R,F]=Qe(l,s);if(null!=a.fill||0!=R){let e=T.fill=new Path2D(z),t=S(a.fillTo(l,s,a.min,a.max,R));E(e,I,t),E(e,C,t)}if(!a.spanGaps){let t=[];t.push(...nt(f,c,r,u,D,y,i));let o=a.width*El/2,d=n||1==e?o:-o,p=n||-1==e?-o:o;t.forEach((l=>{l[0]+=d,l[1]+=p})),T.gaps=t=a.gaps(l,s,r,u,t),T.clip=tt(t,h.ori,g,x,w,_)}return 0!=F&&(T.band=2==F?[et(l,s,r,u,z,-1),et(l,s,r,u,z,1)]:et(l,s,r,u,z,F)),T}))},l.bars=function(l){const e=f((l=l||H).size,[.6,E,1]),t=l.align||0,n=l.gap||0;let i=l.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=D(i),s=1-e[0],r=f(e[1],E),u=f(e[2],1),a=f(l.disp,H),c=f(l.each,(()=>{})),{fill:h,stroke:d}=a;return(l,e,i,p)=>Je(l,e,((g,x,v,k,b,y,S,E,T,D,A)=>{let M,C,I=g.pxRound,R=t,F=n*El,G=r*El,O=u*El;0==k.ori?[M,C]=o(l,e):[C,M]=o(l,e);const L=k.dir*(0==k.ori?1:-1);let N,Y,j,B=0==k.ori?ft:ct,H=0==k.ori?c:(l,e,t,n,i,o,s)=>{c(l,e,t,i,n,s,o)},V=f(l.bands,U).find((l=>l.series[0]==e)),$=g.fillTo(l,e,g.min,g.max,null!=V?V.dir:0),W=I(S($,b,A,T)),q=D,K=I(g.width*El),X=!1,Z=null,J=null,Q=null,ll=null;null==h||0!=K&&null==d||(X=!0,Z=h.values(l,e,i,p),J=new Map,new Set(Z).forEach((l=>{null!=l&&J.set(l,new Path2D)})),K>0&&(Q=d.values(l,e,i,p),ll=new Map,new Set(Q).forEach((l=>{null!=l&&ll.set(l,new Path2D)}))));let{x0:el,size:tl}=a;if(null!=el&&null!=tl){R=1,x=el.values(l,e,i,p),2==el.unit&&(x=x.map((e=>l.posToVal(E+e*D,k.key,!0))));let t=tl.values(l,e,i,p);Y=2==tl.unit?t[0]*D:y(t[0],k,D,E)-y(0,k,D,E),q=kt(x,v,y,k,D,E,q),j=q-Y+F}else q=kt(x,v,y,k,D,E,q),j=q*s+F,Y=q-j;1>j&&(j=0),Y/2>K||(K=0),5>j&&(I=P);let nl=j>0;Y=I(z(q-j-(nl?K:0),O,G)),N=(0==R?Y/2:R==L?0:Y)-R*L*((0==R?F/2:0)+(nl?K/2:0));const il={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},ol=X?null:new Path2D;let sl=null;if(null!=V)sl=l.data[V.series[1]];else{let{y0:t,y1:n}=a;null!=t&&null!=n&&(v=n.values(l,e,i,p),sl=t.values(l,e,i,p))}let rl=M*Y,ul=C*Y;for(let t=1==L?i:p;t>=i&&p>=t;t+=L){let n=v[t];if(null==n)continue;if(null!=sl){let l=sl[t]??0;if(n-l==0)continue;W=S(l,b,A,T)}let i=y(2!=k.distr||null!=a?x[t]:t,k,D,E),o=S(f(n,$),b,A,T),s=I(i-N),r=I(_(o,W)),u=I(w(o,W)),c=r-u;if(null!=n){let i=0>n?ul:rl,o=0>n?rl:ul;X?(K>0&&null!=Q[t]&&B(ll.get(Q[t]),s,u+m(K/2),Y,_(0,c-K),i,o),null!=Z[t]&&B(J.get(Z[t]),s,u+m(K/2),Y,_(0,c-K),i,o)):B(ol,s,u+m(K/2),Y,_(0,c-K),i,o),H(l,e,t,s-K/2,u,Y+K,c)}}return K>0?il.stroke=X?ll:ol:X||(il._fill=0==g.width?g._fill:g._stroke??g._fill,il.width=0),il.fill=X?J:ol,il}))},l.spline=function(l){return function(l,e){const n=f(e?.alignGaps,0);return(e,i,o,s)=>Je(e,i,((r,u,a,f,c,h,d,p,m,g,x)=>{let w,_,v,k=r.pxRound,b=l=>k(h(l,f,g,p)),y=l=>k(d(l,c,x,m));0==f.ori?(w=st,v=ut,_=pt):(w=rt,v=at,_=mt);const S=f.dir*(0==f.ori?1:-1);o=t(a,o,s,1),s=t(a,o,s,-1);let E=b(u[1==S?o:s]),T=E,z=[],D=[];for(let l=1==S?o:s;l>=o&&s>=l;l+=S)if(null!=a[l]){let e=b(u[l]);z.push(T=e),D.push(y(a[l]))}const P={stroke:l(z,D,w,v,_,k),fill:null,clip:null,band:null,gaps:null,flags:1},A=P.stroke;let[M,C]=Qe(e,i);if(null!=r.fill||0!=M){let l=P.fill=new Path2D(A),t=y(r.fillTo(e,i,r.min,r.max,M));v(l,T,t),v(l,E,t)}if(!r.spanGaps){let l=[];l.push(...nt(u,a,o,s,S,b,n)),P.gaps=l=r.gaps(e,i,o,s,l),P.clip=tt(l,f.ori,p,m,g,x)}return 0!=C&&(P.band=2==C?[et(e,i,o,s,A,-1),et(e,i,o,s,A,1)]:et(e,i,o,s,A,C)),P}))}(bt,l)}}return Nt}();
