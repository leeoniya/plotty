<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Localize Time & Measure (French Canadian)</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="../dist/uPlot.min.css">
	</head>
	<body>
		<script src="../dist/uPlot.iife.js"></script>
		<script>
			let yrs = [2017,2018,2019];
			let mos = 'Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec'.split(",");

			let ts = [];

			yrs.forEach(y => {
				mos.forEach(m => {
				//	ts.push(Date.parse('11 ' + m + ' ' + y + ' 17:30:00 UTC')/1000);
				//	ts.push(Date.parse('01 ' + m + ' ' + y + ' 23:30:00 UTC')/1000);
					ts.push(Date.parse('01 ' + m + ' ' + y + ' 00:00:00 UTC')/1000);
				})
			});

			let vals = [1000.1,1100.1,1200.2,1300.3,1400.4,1500.5,1600.6,1700.7,1800.8,1900.9,2000.10];

			let data = [
				ts,
				ts.map((t, i) => i == 0 ? 1500 : vals[Math.floor(Math.random() * vals.length)]),
			];

			const opts = {
				width: 1920,
				height: 600,
				title: "Months",
				locale: 'fr-CA',
				tzDate: ts => uPlot.tzDate(new Date(ts * 1e3), 'Etc/UTC'),
				series: [
					{},
					{
						stroke: "red",
					},
				]
			};

			let u = new uPlot(opts, data, document.body);
		</script>
	</body>
</html>
