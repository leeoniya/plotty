/*! https://github.com/leeoniya/uPlot (v1.6.31) */
var uPlot=function(){"use strict";const l=(new Intl.DateTimeFormat).resolvedOptions().locale;function e(l,e,t,n){let i;t=t||0;let o=2147483647>=(n=n||e.length-1);for(;n-t>1;)i=o?t+n>>1:m((t+n)/2),l>e[i]?t=i:n=i;return l-e[t]>e[n]-l?n:t}function t(l,e,t,n){for(let i=1==n?e:t;i>=e&&t>=i;i+=n)if(null!=l[i])return i;return-1}function n(l,e,t,n){let i=k(l),o=k(e);l==e&&(-1==i?(l*=t,e/=t):(l/=t,e*=t));let s=10==t?b:y,r=1==o?x:m,u=(1==i?m:x)(s(p(l))),a=r(s(p(e))),f=v(t,u),c=v(t,a);return 10==t&&(0>u&&(f=N(f,-u)),0>a&&(c=N(c,-a))),n||2==t?(l=f*i,e=c*o):(l=L(l,f),e=O(e,c)),[l,e]}function i(l,e,t,i){let o=n(l,e,t,i);return 0==l&&(o[0]=0),0==e&&(o[1]=0),o}const o=.1,s={mode:3,pad:o},r={pad:0,soft:null,mode:0},u={min:r,max:r};function a(l,e,t,n){return q(t)?c(l,e,t):(r.pad=t,r.soft=n?0:null,r.mode=n?3:0,c(l,e,u))}function f(l,e){return null==l?e:l}function c(l,e,t){let n=t.min,i=t.max,o=f(n.pad,0),s=f(i.pad,0),r=f(n.hard,-E),u=f(i.hard,E),a=f(n.soft,E),c=f(i.soft,-E),h=f(n.mode,0),d=f(i.mode,0),g=e-l,x=b(g),k=_(p(l),p(e)),y=b(k),S=p(y-x);(1e-24>g||S>10)&&(g=0,0!=l&&0!=e||(g=1e-24,2==h&&a!=E&&(o=0),2==d&&c!=-E&&(s=0)));let T=g||k||1e3,z=b(T),P=v(10,m(z)),D=N(L(l-T*(0==g?0==l?.1:1:o),P/10),24),A=a>l||1!=h&&(3!=h||D>a)&&(2!=h||a>D)?E:a,C=_(r,A>D&&l>=A?A:w(A,D)),M=N(O(e+T*(0==g?0==e?.1:1:s),P/10),24),I=e>c||1!=d&&(3!=d||c>M)&&(2!=d||M>c)?-E:c,R=w(u,M>I&&I>=e?I:_(I,M));return C==R&&0==C&&(R=100),[C,R]}const h=Math,d=h.PI,p=h.abs,m=h.floor,g=h.round,x=h.ceil,w=h.min,_=h.max,v=h.pow,k=h.sign,b=h.log10,y=h.log2,S=(l,e=1)=>h.asinh(l/e),E=1/0;function T(l){return 1+(0|b((l^l>>31)-(l>>31)))}function z(l,e,t){return w(_(l,e),t)}function P(l){return"function"==typeof l?l:()=>l}const D=l=>l,A=(l,e)=>e,C=()=>null,M=()=>!0,I=(l,e)=>l==e,R=/\.\d*?(?=9{6,}|0{6,})/gm,F=l=>{if(W(l)||j.has(l))return l;const e=""+l,t=e.match(R);if(null==t)return l;let n=t[0].length-1;if(-1!=e.indexOf("e-")){let[l,t]=e.split("e");return+`${F(l)}e${t}`}return N(l,n)};function G(l,e){return F(N(F(l/e))*e)}function O(l,e){return F(x(F(l/e))*e)}function L(l,e){return F(m(F(l/e))*e)}function N(l,e=0){if(W(l))return l;let t=10**e;return g(l*t*(1+Number.EPSILON))/t}const j=new Map;function B(l){return((""+l).split(".")[1]||"").length}function H(l,e,t,n){let i=[],o=n.map(B);for(let s=e;t>s;s++){let e=p(s),t=N(v(l,s),e);for(let r=0;n.length>r;r++){let u=10==l?+`${n[r]}e${s}`:n[r]*t,a=(0>s?e:0)+(o[r]>s?o[r]:0),f=10==l?u:N(u,a);i.push(f),j.set(f,a)}}return i}const U={},V=[],Y=[null,null],$=Array.isArray,W=Number.isInteger;function q(l){let e=!1;if(null!=l){let t=l.constructor;e=null==t||t==Object}return e}function K(l){return null!=l&&"object"==typeof l}const X=Object.getPrototypeOf(Uint8Array),Z="__proto__";function J(l,e=q){let t;if($(l)){let n=l.find((l=>null!=l));if($(n)||e(n)){t=Array(l.length);for(let n=0;l.length>n;n++)t[n]=J(l[n],e)}else t=l.slice()}else if(l instanceof X)t=l.slice();else if(e(l)){t={};for(let n in l)n!=Z&&(t[n]=J(l[n],e))}else t=l;return t}function Q(l){let e=arguments;for(let t=1;e.length>t;t++){let n=e[t];for(let e in n)e!=Z&&(q(l[e])?Q(l[e],J(n[e])):l[e]=J(n[e]))}return l}function ll(l,e,t){for(let n,i=0,o=-1;e.length>i;i++){let s=e[i];if(s>o){for(n=s-1;n>=0&&null==l[n];)l[n--]=null;for(n=s+1;t>n&&null==l[n];)l[o=n++]=null}}}const el="undefined"==typeof queueMicrotask?l=>Promise.resolve().then(l):queueMicrotask,tl="width",nl="height",il="top",ol="bottom",sl="left",rl="right",ul="#000",al=ul+"0",fl="mousemove",cl="mousedown",hl="mouseup",dl="mouseenter",pl="mouseleave",ml="dblclick",gl="change",xl="dppxchange",wl="--",_l="u-off",vl="u-label",kl="undefined"!=typeof window,bl=kl?document:null,yl=kl?window:null;let Sl,El;function Tl(l,e){if(null!=e){let t=l.classList;!t.contains(e)&&t.add(e)}}function zl(l,e){let t=l.classList;t.contains(e)&&t.remove(e)}function Pl(l,e,t){l.style[e]=t+"px"}function Dl(l,e,t,n){let i=bl.createElement(l);return null!=e&&Tl(i,e),null!=t&&t.insertBefore(i,n),i}function Al(l,e){return Dl("div",l,e)}const Cl=new WeakMap;function Ml(l,e,t,n,i){let o="translate("+e+"px,"+t+"px)";o!=Cl.get(l)&&(l.style.transform=o,Cl.set(l,o),0>e||0>t||e>n||t>i?Tl(l,_l):zl(l,_l))}const Il=new WeakMap;function Rl(l,e,t){let n=e+t;n!=Il.get(l)&&(Il.set(l,n),l.style.background=e,l.style.borderColor=t)}const Fl=new WeakMap;function Gl(l,e,t,n){let i=e+""+t;i!=Fl.get(l)&&(Fl.set(l,i),l.style.height=t+"px",l.style.width=e+"px",l.style.marginLeft=n?-e/2+"px":0,l.style.marginTop=n?-t/2+"px":0)}const Ol={passive:!0},Ll={...Ol,capture:!0};function Nl(l,e,t,n){e.addEventListener(l,t,n?Ll:Ol)}function jl(l,e,t){e.removeEventListener(l,t,Ol)}kl&&function l(){let e=devicePixelRatio;Sl!=e&&(Sl=e,El&&jl(gl,El,l),El=matchMedia(`(min-resolution: ${Sl-.001}dppx) and (max-resolution: ${Sl+.001}dppx)`),Nl(gl,El,l),yl.dispatchEvent(new CustomEvent(xl)))}();const Bl=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Hl=l=>l%1==0,Ul=[1,2,2.5,5],Vl=H(10,-32,0,Ul),Yl=H(10,0,32,Ul),$l=Yl.filter(Hl),Wl=Vl.concat(Yl),ql="\n";let Kl={year:"numeric"},Xl={month:"numeric"},Zl={month:"short"},Jl={day:"numeric"},Ql={hour:"numeric"},le={minute:"numeric"},ee={second:"numeric"},te={fractionalSecondDigits:3};const ne=null;function ie(l){let e=1e3*l,t=60*e,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==l?H(10,0,3,Ul).filter(Hl):H(10,-3,0,Ul)).concat([e,5*e,10*e,15*e,30*e,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,{...Kl},ne,ne,ne,ne,ne,ne,1],[28*i,{...Zl},{...Kl},ne,ne,ne,ne,ne,1],[i,{...Xl,...Jl},{...Kl},ne,ne,ne,ne,ne,1],[n,{...Ql},{...Kl,...Xl,...Jl},ne,{...Xl,...Jl},ne,ne,ne,1],[t,{...Ql,...le},{...Kl,...Xl,...Jl},ne,{...Xl,...Jl},ne,ne,ne,1],[e,{...ee},{...Kl,...Xl,...Jl,...Ql,...le},ne,{...Xl,...Jl,...Ql,...le},ne,{...Ql,...le},ne,1],[l,{...ee,...te},{...Kl,...Xl,...Jl,...Ql,...le},ne,{...Xl,...Jl,...Ql,...le},ne,{...Ql,...le},ne,1]],function(e){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,x=c>=o&&s>c,w=e(a),_=N(w*l,3),v=de(w.getFullYear(),p?0:w.getMonth(),x||p?1:w.getDate()),k=N(v*l,3);if(x||p){let t=x?c/o:0,n=p?c/s:0,i=_==k?_:N(de(v.getFullYear()+n,v.getMonth()+t,1)*l,3),r=new Date(g(i/l)),u=r.getFullYear(),a=r.getMonth();for(let o=0;f>=i;o++){let s=de(u+n*o,a+t*o,1),r=s-e(N(s*l,3));i=N((+s+r)*l,3),i>f||d.push(i)}}else{let o=i>c?c:i,s=k+(m(a)-m(_))+O(_-k,o);d.push(s);let p=e(s),g=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,x=c/n,w=h/r.axes[u]._space;for(;s=N(s+c,1==l?0:3),f>=s;)if(x>1){let l=m(N(g+x,6))%24,t=e(s).getHours()-l;t>1&&(t=-1),s-=t*n,g=(g+x)%24,.7>N((s-d[d.length-1])/c,3)*w||d.push(s)}else d.push(s)}return d}}]}const[oe,se,re]=ie(1),[ue,ae,fe]=ie(.001);function ce(l,e){return l.map((l=>l.map(((t,n)=>{if(0==n||8==n||null==t)return t;const i=e(t);if(1==n||0==l[8])return i;{const t=e(l[1]);return l=>t(l)+ql+i(l)}}))))}function he(l,e){return(t,n,i,o,s)=>{let r,u,a,f,c,h,d=e.find((l=>s>=l[0]))||e[e.length-1];return n.map((e=>{let t=l(e),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(t)}))}}function de(l,e,t){return new Date(l,e,t)}function pe(l,e){return e(l)}H(2,-53,53,[1]);const me={...Kl,...Xl,...Jl,...Ql,...le};function ge(l,e){return(t,n,i,o)=>null==o?wl:e(l(n))}const xe={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(l,e){let t=l.series[e];return t.width?t.stroke(l,e):t.points.width?t.points.stroke(l,e):null},fill:function(l,e){return l.series[e].fill(l,e)},dash:"solid"},idx:null,idxs:null,values:[]},we=[0,0];function _e(l,e,t,n=!0){return l=>{0==l.button&&(!n||l.target==e)&&t(l)}}function ve(l,e,t,n=!0){return l=>{(!n||l.target==e)&&t(l)}}const ke={show:!0,x:!0,y:!0,lock:!1,move:function(l,e,t){return we[0]=e,we[1]=t,we},points:{one:!1,show:function(l,e){let t=l.cursor.points,n=Al(),i=t.size(l,e);Pl(n,tl,i),Pl(n,nl,i);let o=i/-2;Pl(n,"marginLeft",o),Pl(n,"marginTop",o);let s=t.width(l,e,i);return s&&Pl(n,"borderWidth",s),n},size:function(l,e){return l.series[e].points.size},width:0,stroke:function(l,e){let t=l.series[e].points;return t._stroke||t._fill},fill:function(l,e){let t=l.series[e].points;return t._fill||t._stroke}},bind:{mousedown:_e,mouseup:_e,click:_e,dblclick:_e,mousemove:ve,mouseleave:ve,mouseenter:ve},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(l,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(l,e,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},be={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ye=Q({},be,{filter:A}),Se=Q({},ye,{size:10}),Ee=Q({},be,{show:!1}),Te='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ze="bold "+Te,Pe={show:!0,scale:"x",stroke:ul,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ze,side:2,grid:ye,ticks:Se,border:Ee,font:Te,lineGap:1.5,rotate:0},De={show:!0,scale:"x",auto:!1,sorted:1,min:E,max:-E,idxs:[]};function Ae(l,e,t,n,i,o){return e.map((l=>null==l?"":o(l)))}function Ce(l,e,t,n,i,o,s){let r=[],u=j.get(i)||0;for(let l=t=s?t:N(O(t,i),u);n>=l;l=N(l+i,u))r.push(Object.is(l,-0)?0:l);return r}function Me(l,t,n,i,o){const s=[],r=l.scales[l.axes[t].scale].log,u=m((10==r?b:y)(n));o=v(r,u),10==r&&(o=Wl[e(o,Wl)]);let a=n,f=o*r;10==r&&(f=Wl[e(f,Wl)]);do{s.push(a),a+=o,10!=r||j.has(a)||(a=N(a,j.get(o))),f>a||(f=(o=a)*r,10==r&&(f=Wl[e(f,Wl)]))}while(i>=a);return s}function Ie(l,e,t,n,i){let o=l.scales[l.axes[e].scale].asinh,s=n>o?Me(l,e,_(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?Me(l,e,_(o,-n),-t,i):[o]).reverse().map((l=>-l)).concat(r,s)}const Re=/./,Fe=/[12357]/,Ge=/[125]/,Oe=/1/,Le=(l,e,t,n)=>l.map(((l,i)=>4==e&&0==l||i%n==0&&t.test(l.toExponential()[0>l?1:0])?l:null));function Ne(l,e,t){let n=l.axes[t],i=n.scale,o=l.scales[i],s=l.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Oe:Ge:Fe:Re;if(a==Oe){let l=p(s(1,i)-u);if(r>l)return Le(e.slice().reverse(),o.distr,a,x(r/l)).reverse()}return Le(e,o.distr,a,1)}function je(l,e,t){let n=l.axes[t],i=n.scale,o=n._space,s=l.valToPos,r=p(s(1,i)-s(2,i));return o>r?Le(e.slice().reverse(),3,Re,x(o/r)).reverse():e}function Be(l,e,t,n,i){return null==n?wl:null==e?"":i(e)}const He={show:!0,scale:"y",stroke:ul,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ze,side:3,grid:ye,ticks:Se,border:Ee,font:Te,lineGap:1.5,rotate:0},Ue={scale:null,auto:!0,sorted:0,min:E,max:-E},Ve=(l,e,t,n,i)=>i,Ye={show:!0,auto:!0,sorted:0,gaps:Ve,alpha:1,facets:[Q({},Ue,{scale:"x"}),Q({},Ue,{scale:"y"})]},$e={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Ve,alpha:1,points:{show:function(l,e){let{scale:t,idxs:n}=l.series[0],i=l._data[0],o=l.valToPos(i[n[0]],t,!0),s=l.valToPos(i[n[1]],t,!0);return p(s-o)/(l.series[e].points.space*Sl)>=n[1]-n[0]},filter:null},values:null,min:E,max:-E,idxs:[],path:null,clip:null};function We(l,e,t){return t/10}const qe={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ke=Q({},qe,{time:!1,ori:1}),Xe={};function Ze(l){let e=Xe[l];return e||(e={key:l,plots:[],sub(l){e.plots.push(l)},unsub(l){e.plots=e.plots.filter((e=>e!=l))},pub(l,t,n,i,o,s,r){for(let u=0;e.plots.length>u;u++)e.plots[u]!=t&&e.plots[u].pub(l,t,n,i,o,s,r)}},null!=l&&(Xe[l]=e)),e}function Je(l,e,t){const n=l.mode,i=l.series[e],o=2==n?l._data[e]:l._data,s=l.scales,r=l.bbox;let u=o[0],a=2==n?o[1]:o[e],f=2==n?s[i.facets[0].scale]:s[l.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=l.valToPosH,x=l.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,d,p,m,st,ut,ft,ht,pt):t(i,u,a,f,c,x,g,d,h,m,p,rt,at,ct,dt,mt)}function Qe(l,e){let t=0,n=0,i=f(l.bands,V);for(let l=0;i.length>l;l++){let o=i[l];o.series[0]==e?t=o.dir:o.series[1]==e&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function lt(l,e,t,n,i){let o=l.series[e],s=l.scales[2==l.mode?o.facets[1].scale:o.scale];return-1==i?s.min:1==i?s.max:3==s.distr?1==s.dir?s.min:s.max:0}function et(l,e,t,n,i,o){return Je(l,e,((l,e,s,r,u,a,f,c,h,d,p)=>{let m=l.pxRound;const g=0==r.ori?ut:at;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let _=m(a(e[x],r,d,c)),v=m(f(s[x],u,p,h)),k=m(a(e[w],r,d,c)),b=m(f(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,k,b),g(y,_,b),g(y,_,v),y}))}function tt(l,e,t,n,i,o){let s=null;if(l.length>0){s=new Path2D;const r=0==e?ft:ct;let u=t;for(let e=0;l.length>e;e++){let t=l[e];if(t[1]>t[0]){let l=t[0]-u;l>0&&r(s,u,n,l,n+o),u=t[1]}}let a=t+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function nt(l,e,t,n,i,o,s){let r=[],u=l.length;for(let a=1==i?t:n;a>=t&&n>=a;a+=i)if(null===e[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===e[a];)c=a;else for(;--a>=t&&null===e[a];)c=a;let h=o(l[f]),d=c==f?h:o(l[c]),p=f-i;h=s>0||0>p||p>=u?h:o(l[p]);let m=c+i;d=0>s||0>m||m>=u?d:o(l[m]),h>d||r.push([h,d])}return r}function it(l){return 0==l?D:1==l?g:e=>G(e,l)}function ot(l){let e=0==l?st:rt,t=0==l?(l,e,t,n,i,o)=>{l.arcTo(e,t,n,i,o)}:(l,e,t,n,i,o)=>{l.arcTo(t,e,i,n,o)},n=0==l?(l,e,t,n,i)=>{l.rect(e,t,n,i)}:(l,e,t,n,i)=>{l.rect(t,e,i,n)};return(l,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(l,i,o,s,r):(u=w(u,s/2,r/2),a=w(a,s/2,r/2),e(l,i+u,o),t(l,i+s,o,i+s,o+r,u),t(l,i+s,o+r,i,o+r,a),t(l,i,o+r,i,o,a),t(l,i,o,i+s,o,u),l.closePath())}}const st=(l,e,t)=>{l.moveTo(e,t)},rt=(l,e,t)=>{l.moveTo(t,e)},ut=(l,e,t)=>{l.lineTo(e,t)},at=(l,e,t)=>{l.lineTo(t,e)},ft=ot(0),ct=ot(1),ht=(l,e,t,n,i,o)=>{l.arc(e,t,n,i,o)},dt=(l,e,t,n,i,o)=>{l.arc(t,e,n,i,o)},pt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(e,t,n,i,o,s)},mt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(t,e,i,n,s,o)};function gt(){return(l,e,t,n,i)=>Je(l,e,((e,o,s,r,u,a,f,c,h,p,m)=>{let g,x,{pxRound:w,points:_}=e;0==r.ori?(g=st,x=ht):(g=rt,x=dt);const v=N(_.width*Sl,3);let k=(_.size-_.width)/2*Sl,b=N(2*k,3),y=new Path2D,S=new Path2D,{left:E,top:T,width:z,height:P}=l.bbox;ft(S,E-b,T-b,z+2*b,P+2*b);const D=l=>{if(null!=s[l]){let e=w(a(o[l],r,p,c)),t=w(f(s[l],u,m,h));g(y,e+k,t),x(y,e,t,k,0,2*d)}};if(i)i.forEach(D);else for(let l=t;n>=l;l++)D(l);return{stroke:v>0?y:null,fill:y,clip:S,flags:3}}))}function xt(l){return(e,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&l(e,t,n),o!=i&&s!=i&&l(e,t,i),l(e,t,s))}}const wt=xt(ut),_t=xt(at);function vt(l){const e=f(l?.alignGaps,0);return(l,n,i,o)=>Je(l,n,((s,r,u,a,f,c,h,d,p,m,g)=>{let x,v,k=s.pxRound,b=l=>k(c(l,a,m,d)),y=l=>k(h(l,f,g,p));0==a.ori?(x=ut,v=wt):(x=at,v=_t);const S=a.dir*(0==a.ori?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke;let P,D,A,C=E,M=-E,I=b(r[1==S?i:o]),R=t(u,i,o,1*S),F=t(u,i,o,-1*S),G=b(r[R]),O=b(r[F]),L=!1;for(let l=1==S?i:o;l>=i&&o>=l;l+=S){let e=b(r[l]),t=u[l];e==I?null!=t?(D=y(t),C==E&&(x(z,e,D),P=D),C=w(D,C),M=_(D,M)):null===t&&(L=!0):(C!=E&&(v(z,I,C,M,P,D),A=I),null!=t?(D=y(t),x(z,e,D),C=M=P=D):(C=E,M=-E,null===t&&(L=!0)),I=e)}C!=E&&C!=M&&A!=I&&v(z,I,C,M,P,D);let[N,j]=Qe(l,n);if(null!=s.fill||0!=N){let e=T.fill=new Path2D(z),t=y(s.fillTo(l,n,s.min,s.max,N));x(e,O,t),x(e,G,t)}if(!s.spanGaps){let t=[];L&&t.push(...nt(r,u,i,o,S,b,e)),T.gaps=t=s.gaps(l,n,i,o,t),T.clip=tt(t,a.ori,d,p,m,g)}return 0!=j&&(T.band=2==j?[et(l,n,i,o,z,-1),et(l,n,i,o,z,1)]:et(l,n,i,o,z,j)),T}))}function kt(l,e,t,n,i,o,s=E){if(l.length>1){let r=null;for(let u=0,a=1/0;l.length>u;u++)if(void 0!==e[u]){if(null!=r){let e=p(l[u]-l[r]);a>e&&(a=e,s=p(t(l[u],n,i,o)-t(l[r],n,i,o)))}r=u}}return s}function bt(l,e,t,n,i){const o=l.length;if(2>o)return null;const s=new Path2D;if(t(s,l[0],e[0]),2==o)n(s,l[1],e[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=e[t+1]-e[t],u[t]=l[t+1]-l[t],n[t]=r[t]/u[t];t[0]=n[0];for(let l=1;o-1>l;l++)0===n[l]||0===n[l-1]||n[l-1]>0!=n[l]>0?t[l]=0:(t[l]=3*(u[l-1]+u[l])/((2*u[l]+u[l-1])/n[l-1]+(u[l]+2*u[l-1])/n[l]),isFinite(t[l])||(t[l]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,l[n]+u[n]/3,e[n]+t[n]*u[n]/3,l[n+1]-u[n]/3,e[n+1]-t[n+1]*u[n]/3,l[n+1],e[n+1])}return s}const yt=new Set;function St(){for(let l of yt)l.syncRect(!0)}kl&&(Nl("resize",yl,St),Nl("scroll",yl,St,!0),Nl(xl,yl,(()=>{Nt.pxRatio=Sl})));const Et=vt(),Tt=gt();function zt(l,e,t,n){return(n?[l[0],l[1]].concat(l.slice(2)):[l[0]].concat(l.slice(1))).map(((l,n)=>Pt(l,n,e,t)))}function Pt(l,e,t,n){return Q({},0==e?t:n,l)}function Dt(l,e,t){return null==e?Y:[e,t]}const At=Dt;function Ct(l,e,t){return null==e?Y:a(e,t,o,!0)}function Mt(l,e,t,i){return null==e?Y:n(e,t,l.scales[i].log,!1)}const It=Mt;function Rt(l,e,t,n){return null==e?Y:i(e,t,l.scales[n].log,!1)}const Ft=Rt;function Gt(l,t,n,i,o){let s=_(T(l),T(t)),r=t-l,u=e(o/i*r,n);do{let l=n[u],e=i*l/r;if(e>=o&&17>=s+(5>l?j.get(l):0))return[l,e]}while(++u<n.length);return[0,0]}function Ot(l){let e,t;return[l=l.replace(/(\d+)px/,((l,n)=>(e=g((t=+n)*Sl))+"px")),e,t]}function Lt(l){l.show&&[l.font,l.labelFont].forEach((l=>{let e=N(l[2]*Sl,1);l[0]=l[0].replace(/[0-9.]+px/,e+"px"),l[1]=e}))}function Nt(t,r,u){const c={mode:f(t.mode,1)},m=c.mode,k=new Intl.NumberFormat(t.locale||l),y=l=>k.format(l);c.fmtNum=y;const T=e=>(e.hourCycle=t.hourCycle,new Intl.DateTimeFormat(t.locale||l,e).format);function D(l,e){return((3==e.distr?b(l>0?l:e.clamp(c,l,e.min,e.max,e.key)):4==e.distr?S(l,e.asinh):100==e.distr?e.fwd(l):l)-e._min)/(e._max-e._min)}function R(l,e,t,n){let i=D(l,e);return n+t*(-1==e.dir?1-i:i)}function F(l,e,t,n){let i=D(l,e);return n+t*(-1==e.dir?i:1-i)}function O(l,e,t,n){return 0==e.ori?R(l,e,t,n):F(l,e,t,n)}c.fmtDate=T,c.valToPosH=R,c.valToPosV=F;let L=!1;c.status=0;const H=c.root=Al("uplot");null!=t.id&&(H.id=t.id),Tl(H,t.class),t.title&&(Al("u-title",H).textContent=t.title);const W=Dl("canvas"),X=c.ctx=W.getContext("2d"),Z=Al("u-wrap",H);Nl("click",Z,(l=>{l.target===ul&&(Nn!=Fn||jn!=Gn)&&Kn.click(c,l)}),!0);const ll=c.under=Al("u-under",Z);Z.appendChild(W);const ul=c.over=Al("u-over",Z),gl=+f((t=J(t)).pxAlign,1),kl=it(gl);(t.plugins||[]).forEach((l=>{l.opts&&(t=l.opts(c,t)||t)}));const El=t.ms||.001,Cl=c.series=1==m?zt(t.series||[],De,$e,!1):function(l,e){return l.map(((l,t)=>0==t?{}:Q({},e,l)))}(t.series||[null],Ye),Il=c.axes=zt(t.axes||[],Pe,He,!0),Fl=c.scales={},Ol=c.bands=t.bands||[];Ol.forEach((l=>{l.fill=P(l.fill||null),l.dir=f(l.dir,-1)}));const Ll=2==m?Cl[1].facets[0].scale:Cl[0].scale,Bl={axes:function(){for(let l=0;Il.length>l;l++){let e=Il[l];if(!e.show||!e._show)continue;let t,n,i=e.side,o=i%2,s=e.stroke(c,l),r=0==i||3==i?-1:1;if(e.label){let l=g((e._lpos+e.labelGap*r)*Sl);gn(e.labelFont[0],s,"center",2==i?il:ol),X.save(),1==o?(t=n=0,X.translate(l,g(ut+ft/2)),X.rotate((3==i?-d:d)/2)):(t=g(rt+at/2),n=l),X.fillText(e.label,t,n),X.restore()}let[u,a]=e._found;if(0==a)continue;let f=Fl[e.scale],h=0==o?at:ft,p=0==o?rt:ut,m=g(e.gap*Sl),x=e._splits,w=2==f.distr?x.map((l=>cn[l])):x,_=2==f.distr?cn[x[1]]-cn[x[0]]:u,v=e.ticks,k=e.border,b=v.show?g(v.size*Sl):0,y=e._rotate*-d/180,S=kl(e._pos*Sl),E=S+(b+m)*r;n=0==o?E:0,t=1==o?E:0,gn(e.font[0],s,1==e.align?sl:2==e.align?rl:y>0?sl:0>y?rl:0==o?"center":3==i?rl:sl,y||1==o?"middle":2==i?il:ol);let T=e.font[1]*e.lineGap,z=x.map((l=>kl(O(l,f,h,p)))),P=e._values;for(let l=0;P.length>l;l++){let e=P[l];if(null!=e){0==o?t=z[l]:n=z[l],e=""+e;let i=-1==e.indexOf("\n")?[e]:e.split(/\n/gm);for(let l=0;i.length>l;l++){let e=i[l];y?(X.save(),X.translate(t,n+l*T),X.rotate(y),X.fillText(e,0,0),X.restore()):X.fillText(e,t,n+l*T)}}}v.show&&En(z,v.filter(c,w,l,a,_),o,i,S,b,N(v.width*Sl,3),v.stroke(c,l),v.dash,v.cap);let D=e.grid;D.show&&En(z,D.filter(c,w,l,a,_),o,0==o?2:1,0==o?ut:rt,0==o?ft:at,N(D.width*Sl,3),D.stroke(c,l),D.dash,D.cap),k.show&&En([S],[1],0==o?1:0,0==o?1:2,1==o?ut:rt,1==o?ft:at,N(k.width*Sl,3),k.stroke(c,l),k.dash,k.cap)}Ci("drawAxes")},series:function(){Xt>0&&(Cl.forEach(((l,e)=>{if(e>0&&l.show&&(_n(e,!1),_n(e,!0),null==l._paths)){fn!=l.alpha&&(X.globalAlpha=fn=l.alpha);let t=2==m?[0,r[e][0].length-1]:function(l){let e=z(Zt-1,0,Xt-1),t=z(Jt+1,0,Xt-1);for(;null==l[e]&&e>0;)e--;for(;null==l[t]&&Xt-1>t;)t++;return[e,t]}(r[e]);l._paths=l.paths(c,e,t[0],t[1]),1!=fn&&(X.globalAlpha=fn=1)}})),Cl.forEach(((l,e)=>{if(e>0&&l.show){fn!=l.alpha&&(X.globalAlpha=fn=l.alpha),null!=l._paths&&vn(e,!1);{let t=null!=l._paths?l._paths.gaps:null,n=l.points.show(c,e,Zt,Jt,t),i=l.points.filter(c,e,n,t);(n||i)&&(l.points._paths=l.points.paths(c,e,Zt,Jt,i),vn(e,!0))}1!=fn&&(X.globalAlpha=fn=1),Ci("drawSeries",e)}})))}},Hl=(t.drawOrder||["axes","series"]).map((l=>Bl[l]));function Ul(l){let e=Fl[l];if(null==e){let n=(t.scales||U)[l]||U;if(null!=n.from)Ul(n.from),Fl[l]=Q({},Fl[n.from],n,{key:l});else{e=Fl[l]=Q({},l==Ll?qe:Ke,n),e.key=l;let t=e.time,i=e.range,o=$(i);if((l!=Ll||2==m&&!t)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?s:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?s:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&q(i))){let l=i;i=(e,t,n)=>null==t?Y:a(t,n,l)}e.range=P(i||(t?At:l==Ll?3==e.distr?It:4==e.distr?Ft:Dt:3==e.distr?Mt:4==e.distr?Rt:Ct)),e.auto=P(!o&&e.auto),e.clamp=P(e.clamp||We),e._min=e._max=null}}}Ul("x"),Ul("y"),1==m&&Cl.forEach((l=>{Ul(l.scale)})),Il.forEach((l=>{Ul(l.scale)}));for(let l in t.scales)Ul(l);const Vl=Fl[Ll],Yl=Vl.distr;let ql,Kl;0==Vl.ori?(Tl(H,"u-hz"),ql=R,Kl=F):(Tl(H,"u-vt"),ql=F,Kl=R);const Xl={};for(let l in Fl){let e=Fl[l];null==e.min&&null==e.max||(Xl[l]={min:e.min,max:e.max},e.min=e.max=null)}const Zl=t.tzDate||(l=>new Date(g(l/El))),Jl=t.fmtDate||T,Ql=1==El?re(Zl):fe(Zl),le=he(Zl,ce(1==El?se:ae,Jl)),ee=ge(Zl,pe(me,Jl)),te=[],ne=c.legend=Q({},xe,t.legend),ie=ne.show,de=ne.markers;let we,_e,ve;ne.idxs=te,de.width=P(de.width),de.dash=P(de.dash),de.stroke=P(de.stroke),de.fill=P(de.fill);let be,ye=[],Se=[],Ee=!1,Te={};if(ne.live){const l=Cl[1]?Cl[1].values:null;Ee=null!=l,be=Ee?l(c,1,0):{_:0};for(let l in be)Te[l]=wl}if(ie)if(we=Dl("table","u-legend",H),ve=Dl("tbody",null,we),ne.mount(c,we),Ee){_e=Dl("thead",null,we,ve);let l=Dl("tr",null,_e);for(var ze in Dl("th",null,l),be)Dl("th",vl,l).textContent=ze}else Tl(we,"u-inline"),ne.live&&Tl(we,"u-live");const Re={show:!0},Fe={show:!1},Ge=new Map;function Oe(l,e,t,n=!0){const i=Ge.get(e)||{},o=vt.bind[l](c,e,t,n);o&&(Nl(l,e,i[l]=o),Ge.set(e,i))}function Le(l,e){const t=Ge.get(e)||{};for(let n in t)null!=l&&n!=l||(jl(n,e,t[n]),delete t[n]);null==l&&Ge.delete(e)}let Ue=0,Ve=0,Xe=0,Je=0,Qe=0,et=0,tt=Qe,nt=et,ot=Xe,st=Je,rt=0,ut=0,at=0,ft=0;c.bbox={};let ct=!1,ht=!1,dt=!1,pt=!1,mt=!1,gt=!1;function xt(l,e,t){(t||l!=c.width||e!=c.height)&&wt(l,e),Pn(!1),dt=!0,ht=!0,Yn()}function wt(l,e){c.width=Ue=Xe=l,c.height=Ve=Je=e,Qe=et=0,function(){let l=!1,e=!1,t=!1,n=!1;Il.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(Xe-=r,3==o?(Qe+=r,n=!0):t=!0):(Je-=r,0==o?(et+=r,l=!0):e=!0))}})),$t[0]=l,$t[1]=t,$t[2]=e,$t[3]=n,Xe-=Kt[1]+Kt[3],Qe+=Kt[3],Je-=Kt[2]+Kt[0],et+=Kt[0]}(),function(){let l=Qe+Xe,e=et+Je,t=Qe,n=et;function i(i,o){switch(i){case 1:return l+=o,l-o;case 2:return e+=o,e-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}Il.forEach((l=>{if(l.show&&l._show){let e=l.side;l._pos=i(e,l._size),null!=l.label&&(l._lpos=i(e,l.labelSize))}}))}();let t=c.bbox;rt=t.left=G(Qe*Sl,.5),ut=t.top=G(et*Sl,.5),at=t.width=G(Xe*Sl,.5),ft=t.height=G(Je*Sl,.5)}const _t=3;c.setSize=function({width:l,height:e}){xt(l,e)};const vt=c.cursor=Q({},ke,{drag:{y:2==m}},t.cursor);if(null==vt.dataIdx){let l=vt.hover,e=l.skip=new Set(l.skip??[]);e.add(void 0);let t=l.prox=P(l.prox),n=l.bias??=0;vt.dataIdx=(l,i,o,s)=>{if(0==i)return o;let u=o,a=t(l,i,o,s)??E,f=a>=0&&E>a,c=0==Vl.ori?Xe:Je,h=vt.left,d=r[0],m=r[i];if(e.has(m[o])){u=null;let l,t=null,i=null;if(0==n||-1==n)for(l=o;null==t&&l-- >0;)e.has(m[l])||(t=l);if(0==n||1==n)for(l=o;null==i&&l++<m.length;)e.has(m[l])||(i=l);if(null!=t||null!=i)if(f){let l=h-(null==t?-1/0:ql(d[t],Vl,c,0)),e=(null==i?1/0:ql(d[i],Vl,c,0))-h;l>e?e>a||(u=i):l>a||(u=t)}else u=null==i?t:null==t||o-t>i-o?i:t}else f&&p(h-ql(d[o],Vl,c,0))>a&&(u=null);return u}}const kt=l=>{vt.event=l};vt.idxs=te,vt._lock=!1;let bt=vt.points;bt.show=P(bt.show),bt.size=P(bt.size),bt.stroke=P(bt.stroke),bt.width=P(bt.width),bt.fill=P(bt.fill);const St=c.focus=Q({},t.focus||{alpha:.3},vt.focus),Nt=St.prox>=0,jt=Nt&&bt.one;let Bt=[],Ht=[],Ut=[];function Vt(l,e){let t=bt.show(c,e);if(t)return Tl(t,"u-cursor-pt"),Tl(t,l.class),Ml(t,-10,-10,Xe,Je),ul.insertBefore(t,Bt[e]),t}function Yt(l,e){if(1==m||e>0){let e=1==m&&Fl[l.scale].time,t=l.value;l.value=e?function(l){return"string"==typeof l}(t)?ge(Zl,pe(t,Jl)):t||ee:t||Be,l.label=l.label||(e?"Time":"Value")}if(jt||e>0){l.width=null==l.width?1:l.width,l.paths=l.paths||Et||C,l.fillTo=P(l.fillTo||lt),l.pxAlign=+f(l.pxAlign,gl),l.pxRound=it(l.pxAlign),l.stroke=P(l.stroke||null),l.fill=P(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let e=function(l){return N(1*(3+2*(l||1)),3)}(_(1,l.width)),t=l.points=Q({},{size:e,width:_(1,.2*e),stroke:l.stroke,space:2*e,paths:Tt,_stroke:null,_fill:null},l.points);t.show=P(t.show),t.filter=P(t.filter),t.fill=P(t.fill),t.stroke=P(t.stroke),t.paths=P(t.paths),t.pxAlign=l.pxAlign}if(ie){let t=function(l,e){if(0==e&&(Ee||!ne.live||2==m))return Y;let t=[],n=Dl("tr","u-series",ve,ve.childNodes[e]);Tl(n,l.class),l.show||Tl(n,_l);let i=Dl("th",null,n);if(de.show){let l=Al("u-marker",i);if(e>0){let t=de.width(c,e);t&&(l.style.border=t+"px "+de.dash(c,e)+" "+de.stroke(c,e)),l.style.background=de.fill(c,e)}}let o=Al(vl,i);for(var s in o.textContent=l.label,e>0&&(de.show||(o.style.color=l.width>0?de.stroke(c,e):de.fill(c,e)),Oe("click",i,(e=>{if(vt._lock)return;kt(e);let t=Cl.indexOf(l);if((e.ctrlKey||e.metaKey)!=ne.isolate){let l=Cl.some(((l,e)=>e>0&&e!=t&&l.show));Cl.forEach(((e,n)=>{n>0&&ti(n,l?n==t?Re:Fe:Re,!0,Ii.setSeries)}))}else ti(t,{show:!l.show},!0,Ii.setSeries)}),!1),Nt&&Oe(dl,i,(e=>{vt._lock||(kt(e),ti(Cl.indexOf(l),si,!0,Ii.setSeries))}),!1)),be){let l=Dl("td","u-value",n);l.textContent="--",t.push(l)}return[n,t]}(l,e);ye.splice(e,0,t[0]),Se.splice(e,0,t[1]),ne.values.push(null)}if(vt.show){te.splice(e,0,null);let t=null;jt?0==e&&(t=Vt(l,e)):e>0&&(t=Vt(l,e)),Bt.splice(e,0,t),Ht.splice(e,0,0),Ut.splice(e,0,0)}Ci("addSeries",e)}c.addSeries=function(l,e){e=null==e?Cl.length:e,l=1==m?Pt(l,e,De,$e):Pt(l,e,{},Ye),Cl.splice(e,0,l),Yt(Cl[e],e)},c.delSeries=function(l){if(Cl.splice(l,1),ie){ne.values.splice(l,1),Se.splice(l,1);let e=ye.splice(l,1)[0];Le(null,e.firstChild),e.remove()}vt.show&&(te.splice(l,1),Bt.splice(l,1)[0].remove(),Ht.splice(l,1),Ut.splice(l,1)),Ci("delSeries",l)};const $t=[!1,!1,!1,!1];function Wt(l,e,t){let[n,i,o,s]=t,r=e%2,u=0;return 0==r&&(s||i)&&(u=0==e&&!n||2==e&&!o?g(Pe.size/3):0),1==r&&(n||o)&&(u=1==e&&!i||3==e&&!s?g(He.size/2):0),u}const qt=c.padding=(t.padding||[Wt,Wt,Wt,Wt]).map((l=>P(f(l,Wt)))),Kt=c._padding=qt.map(((l,e)=>l(c,e,$t,0)));let Xt,Zt=null,Jt=null;const Qt=1==m?Cl[0].idxs:null;let ln,en,tn,nn,on,sn,rn,un,an,fn,cn=null,hn=!1;function dn(l,e){if(c.data=c._data=r=null==l?[]:l,2==m){Xt=0;for(let l=1;Cl.length>l;l++)Xt+=r[l][0].length}else{0==r.length&&(c.data=c._data=r=[[]]),cn=r[0],Xt=cn.length;let l=r;if(2==Yl){l=r.slice();let e=l[0]=Array(Xt);for(let l=0;Xt>l;l++)e[l]=l}c._data=r=l}if(Pn(!0),Ci("setData"),2==Yl&&(dt=!0),!1!==e){let l=Vl;l.auto(c,hn)?pn():ei(Ll,l.min,l.max),pt=pt||vt.left>=0,gt=!0,Yn()}}function pn(){let l,e;hn=!0,1==m&&(Xt>0?(Zt=Qt[0]=0,Jt=Qt[1]=Xt-1,l=r[0][Zt],e=r[0][Jt],2==Yl?(l=Zt,e=Jt):l==e&&(3==Yl?[l,e]=n(l,l,Vl.log,!1):4==Yl?[l,e]=i(l,l,Vl.log,!1):Vl.time?e=l+g(86400/El):[l,e]=a(l,e,o,!0))):(Zt=Qt[0]=l=null,Jt=Qt[1]=e=null)),ei(Ll,l,e)}function mn(l,e,t,n,i,o){l??=al,t??=V,n??="butt",i??=al,o??="round",l!=ln&&(X.strokeStyle=ln=l),i!=en&&(X.fillStyle=en=i),e!=tn&&(X.lineWidth=tn=e),o!=on&&(X.lineJoin=on=o),n!=sn&&(X.lineCap=sn=n),t!=nn&&X.setLineDash(nn=t)}function gn(l,e,t,n){e!=en&&(X.fillStyle=en=e),l!=rn&&(X.font=rn=l),t!=un&&(X.textAlign=un=t),n!=an&&(X.textBaseline=an=n)}function xn(l,e,t,n,i=0){if(n.length>0&&l.auto(c,hn)&&(null==e||null==e.min)){let e=f(Zt,0),o=f(Jt,n.length-1),s=null==t.min?3==l.distr?function(l,e,t){let n=E,i=-E;for(let o=e;t>=o;o++){let e=l[o];null!=e&&e>0&&(n>e&&(n=e),e>i&&(i=e))}return[n,i]}(n,e,o):function(l,e,t,n){let i=E,o=-E;if(1==n)i=l[e],o=l[t];else if(-1==n)i=l[t],o=l[e];else for(let n=e;t>=n;n++){let e=l[n];null!=e&&(i>e&&(i=e),e>o&&(o=e))}return[i,o]}(n,e,o,i):[t.min,t.max];l.min=w(l.min,t.min=s[0]),l.max=_(l.max,t.max=s[1])}}c.setData=dn;const wn={min:null,max:null};function _n(l,e){let t=e?Cl[l].points:Cl[l];t._stroke=t.stroke(c,l),t._fill=t.fill(c,l)}function vn(l,e){let t=e?Cl[l].points:Cl[l],{stroke:n,fill:i,clip:o,flags:s,_stroke:u=t._stroke,_fill:a=t._fill,_width:h=t.width}=t._paths;h=N(h*Sl,3);let d=null,p=h%2/2;e&&null==a&&(a=h>0?"#fff":u);let m=1==t.pxAlign&&p>0;if(m&&X.translate(p,p),!e){let l=rt-h/2,e=ut-h/2,t=at+h,n=ft+h;d=new Path2D,d.rect(l,e,t,n)}e?bn(u,h,t.dash,t.cap,a,n,i,s,o):function(l,e,t,n,i,o,s,u,a,h,d){let p=!1;0!=a&&Ol.forEach(((m,g)=>{if(m.series[0]==l){let l,x=Cl[m.series[1]],w=r[m.series[1]],_=(x._paths||U).band;$(_)&&(_=1==m.dir?_[0]:_[1]);let v=null;x.show&&_&&function(l,e,t){for(e=f(e,0),t=f(t,l.length-1);t>=e;){if(null!=l[e])return!0;e++}return!1}(w,Zt,Jt)?(v=m.fill(c,g)||o,l=x._paths.clip):_=null,bn(e,t,n,i,v,s,u,a,h,d,l,_),p=!0}})),p||bn(e,t,n,i,o,s,u,a,h,d)}(l,u,h,t.dash,t.cap,a,n,i,s,d,o),m&&X.translate(-p,-p)}const kn=3;function bn(l,e,t,n,i,o,s,r,u,a,f,c){mn(l,e,t,n,i),(u||a||c)&&(X.save(),u&&X.clip(u),a&&X.clip(a)),c?(r&kn)==kn?(X.clip(c),f&&X.clip(f),Sn(i,s),yn(l,o,e)):2&r?(Sn(i,s),X.clip(c),yn(l,o,e)):1&r&&(X.save(),X.clip(c),f&&X.clip(f),Sn(i,s),X.restore(),yn(l,o,e)):(Sn(i,s),yn(l,o,e)),(u||a||c)&&X.restore()}function yn(l,e,t){t>0&&(e instanceof Map?e.forEach(((l,e)=>{X.strokeStyle=ln=e,X.stroke(l)})):null!=e&&l&&X.stroke(e))}function Sn(l,e){e instanceof Map?e.forEach(((l,e)=>{X.fillStyle=en=e,X.fill(l)})):null!=e&&l&&X.fill(e)}function En(l,e,t,n,i,o,s,r,u,a){let f=s%2/2;1==gl&&X.translate(f,f),mn(r,s,u,a,r),X.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(c=i,d=m);for(let n=0;l.length>n;n++)null!=e[n]&&(0==t?c=d=l[n]:h=p=l[n],X.moveTo(c,h),X.lineTo(d,p));X.stroke(),1==gl&&X.translate(-f,-f)}function Tn(l){let e=!0;return Il.forEach(((t,n)=>{if(!t.show)return;let i=Fl[t.scale];if(null==i.min)return void(t._show&&(e=!1,t._show=!1,Pn(!1)));t._show||(e=!1,t._show=!0,Pn(!1));let o=t.side,s=o%2,{min:r,max:u}=i,[a,f]=function(l,e,t,n){let i,o=Il[l];if(n>0){let s=o._space=o.space(c,l,e,t,n);i=Gt(e,t,o._incrs=o.incrs(c,l,e,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,r,u,0==s?Xe:Je);if(0==f)return;let h=t._splits=t.splits(c,n,r,u,a,f,2==i.distr),d=2==i.distr?h.map((l=>cn[l])):h,p=2==i.distr?cn[h[1]]-cn[h[0]]:a,m=t._values=t.values(c,t.filter(c,d,n,f,p),n,f,p,y);t._rotate=2==o?t.rotate(c,m,n,f):0;let g=t._size;t._size=x(t.size(c,m,n,l)),null!=g&&t._size!=g&&(e=!1)})),e}function zn(l){let e=!0;return qt.forEach(((t,n)=>{let i=t(c,n,$t,l);i!=Kt[n]&&(e=!1),Kt[n]=i})),e}function Pn(l){Cl.forEach(((e,t)=>{t>0&&(e._paths=null,l&&(1==m?(e.min=null,e.max=null):e.facets.forEach((l=>{l.min=null,l.max=null}))))}))}let Dn,An,Cn,Mn,In,Rn,Fn,Gn,On,Ln,Nn,jn,Bn=!1,Hn=!1,Un=[];function Vn(){Hn=!1;for(let l=0;Un.length>l;l++)Ci(...Un[l]);Un.length=0}function Yn(){Bn||(el($n),Bn=!0)}function $n(){if(ct&&(function(){for(let l in Fl){let e=Fl[l];null==Xl[l]&&(null==e.min||null!=Xl[Ll]&&e.auto(c,hn))&&(Xl[l]=wn)}for(let l in Fl){let e=Fl[l];null==Xl[l]&&null!=e.from&&null!=Xl[e.from]&&(Xl[l]=wn)}null!=Xl[Ll]&&Pn(!0);let l={};for(let e in Xl){let t=Xl[e];if(null!=t){let n=l[e]=J(Fl[e],K);if(null!=t.min)Q(n,t);else if(e!=Ll||2==m)if(0==Xt&&null==n.from){let l=n.range(c,null,null,e);n.min=l[0],n.max=l[1]}else n.min=E,n.max=-E}}if(Xt>0){Cl.forEach(((t,n)=>{if(1==m){let i=t.scale,o=Xl[i];if(null==o)return;let s=l[i];if(0==n){let l=s.range(c,s.min,s.max,i);s.min=l[0],s.max=l[1],Zt=e(s.min,r[0]),Jt=e(s.max,r[0]),Jt-Zt>1&&(s.min>r[0][Zt]&&Zt++,r[0][Jt]>s.max&&Jt--),t.min=cn[Zt],t.max=cn[Jt]}else t.show&&t.auto&&xn(s,o,t,r[n],t.sorted);t.idxs[0]=Zt,t.idxs[1]=Jt}else if(n>0&&t.show&&t.auto){let[e,i]=t.facets,o=e.scale,s=i.scale,[u,a]=r[n],f=l[o],c=l[s];null!=f&&xn(f,Xl[o],e,u,e.sorted),null!=c&&xn(c,Xl[s],i,a,i.sorted),t.min=i.min,t.max=i.max}}));for(let e in l){let t=l[e],n=Xl[e];if(null==t.from&&(null==n||null==n.min)){let l=t.range(c,t.min==E?null:t.min,t.max==-E?null:t.max,e);t.min=l[0],t.max=l[1]}}}for(let e in l){let t=l[e];if(null!=t.from){let n=l[t.from];if(null==n.min)t.min=t.max=null;else{let l=t.range(c,n.min,n.max,e);t.min=l[0],t.max=l[1]}}}let t={},n=!1;for(let e in l){let i=l[e],o=Fl[e];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let l=o.distr;o._min=3==l?b(o.min):4==l?S(o.min,o.asinh):100==l?o.fwd(o.min):o.min,o._max=3==l?b(o.max):4==l?S(o.max,o.asinh):100==l?o.fwd(o.max):o.max,t[e]=n=!0}}if(n){Cl.forEach(((l,e)=>{2==m?e>0&&t.y&&(l._paths=null):t[l.scale]&&(l._paths=null)}));for(let l in t)dt=!0,Ci("setScale",l);vt.show&&vt.left>=0&&(pt=gt=!0)}for(let l in Xl)Xl[l]=null}(),ct=!1),dt&&(function(){let l=!1,e=0;for(;!l;){e++;let t=Tn(e),n=zn(e);l=e==_t||t&&n,l||(wt(c.width,c.height),ht=!0)}}(),dt=!1),ht){if(Pl(ll,sl,Qe),Pl(ll,il,et),Pl(ll,tl,Xe),Pl(ll,nl,Je),Pl(ul,sl,Qe),Pl(ul,il,et),Pl(ul,tl,Xe),Pl(ul,nl,Je),Pl(Z,tl,Ue),Pl(Z,nl,Ve),W.width=g(Ue*Sl),W.height=g(Ve*Sl),Il.forEach((({_el:l,_show:e,_size:t,_pos:n,side:i})=>{if(null!=l)if(e){let e=i%2==1;Pl(l,e?"left":"top",n-(3===i||0===i?t:0)),Pl(l,e?"width":"height",t),Pl(l,e?"top":"left",e?et:Qe),Pl(l,e?"height":"width",e?Je:Xe),zl(l,_l)}else Tl(l,_l)})),ln=en=tn=on=sn=rn=un=an=nn=null,fn=1,gi(!0),Qe!=tt||et!=nt||Xe!=ot||Je!=st){Pn(!1);let l=Xe/ot,e=Je/st;if(vt.show&&!pt&&vt.left>=0){vt.left*=l,vt.top*=e,Cn&&Ml(Cn,g(vt.left),0,Xe,Je),Mn&&Ml(Mn,0,g(vt.top),Xe,Je);for(let t=0;Bt.length>t;t++){let n=Bt[t];null!=n&&(Ht[t]*=l,Ut[t]*=e,Ml(n,x(Ht[t]),x(Ut[t]),Xe,Je))}}if(Jn.show&&!mt&&Jn.left>=0&&Jn.width>0){Jn.left*=l,Jn.width*=l,Jn.top*=e,Jn.height*=e;for(let l in _i)Pl(Qn,l,Jn[l])}tt=Qe,nt=et,ot=Xe,st=Je}Ci("setSize"),ht=!1}Ue>0&&Ve>0&&(X.clearRect(0,0,W.width,W.height),Ci("drawClear"),Hl.forEach((l=>l())),Ci("draw")),Jn.show&&mt&&(li(Jn),mt=!1),vt.show&&pt&&(pi(null,!0,!1),pt=!1),ne.show&&ne.live&&gt&&(hi(),gt=!1),L||(L=!0,c.status=1,Ci("ready")),hn=!1,Bn=!1}function Wn(l,t){let n=Fl[l];if(null==n.from){if(0==Xt){let e=n.range(c,t.min,t.max,l);t.min=e[0],t.max=e[1]}if(t.min>t.max){let l=t.min;t.min=t.max,t.max=l}if(Xt>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;l==Ll&&2==n.distr&&Xt>0&&(t.min=e(t.min,r[0]),t.max=e(t.max,r[0]),t.min==t.max&&t.max++),Xl[l]=t,ct=!0,Yn()}}c.batch=function(l,e=!1){Bn=!0,Hn=e,l(c),$n(),e&&Un.length>0&&queueMicrotask(Vn)},c.redraw=(l,e)=>{dt=e||!1,!1!==l?ei(Ll,Vl.min,Vl.max):Yn()},c.setScale=Wn;let qn=!1;const Kn=vt.drag;let Xn=Kn.x,Zn=Kn.y;vt.show&&(vt.x&&(Dn=Al("u-cursor-x",ul)),vt.y&&(An=Al("u-cursor-y",ul)),0==Vl.ori?(Cn=Dn,Mn=An):(Cn=An,Mn=Dn),Nn=vt.left,jn=vt.top);const Jn=c.select=Q({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),Qn=Jn.show?Al("u-select",Jn.over?ul:ll):null;function li(l,e){if(Jn.show){for(let e in l)Jn[e]=l[e],e in _i&&Pl(Qn,e,l[e]);!1!==e&&Ci("setSelect")}}function ei(l,e,t){Wn(l,{min:e,max:t})}function ti(l,e,t,n){null!=e.focus&&function(l){if(l!=oi){let e=null==l,t=1!=St.alpha;Cl.forEach(((n,i)=>{if(1==m||i>0){let o=e||0==i||i==l;n._focus=e?null:o,t&&function(l,e){Cl[l].alpha=e,vt.show&&Bt[l]&&(Bt[l].style.opacity=e),ie&&ye[l]&&(ye[l].style.opacity=e)}(i,o?1:St.alpha)}})),oi=l,t&&Yn()}}(l),null!=e.show&&Cl.forEach(((t,n)=>{0>=n||l!=n&&null!=l||(t.show=e.show,function(l){let e=ie?ye[l]:null;Cl[l].show?e&&zl(e,_l):(e&&Tl(e,_l),Ml(jt?Bt[0]:Bt[l],-10,-10,Xe,Je))}(n),2==m?(ei(t.facets[0].scale,null,null),ei(t.facets[1].scale,null,null)):ei(t.scale,null,null),Yn())})),!1!==t&&Ci("setSeries",l,e),n&&Gi("setSeries",c,l,e)}let ni,ii,oi;c.setSelect=li,c.setSeries=ti,c.addBand=function(l,e){l.fill=P(l.fill||null),l.dir=f(l.dir,-1),Ol.splice(e=null==e?Ol.length:e,0,l)},c.setBand=function(l,e){Q(Ol[l],e)},c.delBand=function(l){null==l?Ol.length=0:Ol.splice(l,1)};const si={focus:!0};function ri(l,e,t){let n=Fl[e];t&&(l=l/Sl-(1==n.ori?et:Qe));let i=Xe;1==n.ori&&(i=Je,l=i-l),-1==n.dir&&(l=i-l);let o=n._min,s=o+l/i*(n._max-o),r=n.distr;return 3==r?v(10,s):4==r?((l,e=1)=>h.sinh(l)*e)(s,n.asinh):100==r?n.bwd(s):s}function ui(l,e){Pl(Qn,sl,Jn.left=l),Pl(Qn,tl,Jn.width=e)}function ai(l,e){Pl(Qn,il,Jn.top=l),Pl(Qn,nl,Jn.height=e)}ie&&Nt&&Oe(pl,we,(l=>{vt._lock||(kt(l),null!=oi&&ti(null,si,!0,Ii.setSeries))})),c.valToIdx=l=>e(l,r[0]),c.posToIdx=function(l,t){return e(ri(l,Ll,t),r[0],Zt,Jt)},c.posToVal=ri,c.valToPos=(l,e,t)=>0==Fl[e].ori?R(l,Fl[e],t?at:Xe,t?rt:0):F(l,Fl[e],t?ft:Je,t?ut:0),c.setCursor=(l,e,t)=>{Nn=l.left,jn=l.top,pi(null,e,t)};let fi=0==Vl.ori?ui:ai,ci=1==Vl.ori?ui:ai;function hi(l,e){if(null!=l&&(l.idxs?l.idxs.forEach(((l,e)=>{te[e]=l})):(l=>void 0===l)(l.idx)||te.fill(l.idx),ne.idx=te[0]),ie&&ne.live){for(let l=0;Cl.length>l;l++)(l>0||1==m&&!Ee)&&di(l,te[l]);!function(){if(ie&&ne.live)for(let l=2==m?1:0;Cl.length>l;l++){if(0==l&&Ee)continue;let e=ne.values[l],t=0;for(let n in e)Se[l][t++].firstChild.nodeValue=e[n]}}()}gt=!1,!1!==e&&Ci("setLegend")}function di(l,e){let t,n=Cl[l],i=0==l&&2==Yl?cn:r[l];Ee?t=n.values(c,l,e)??Te:(t=n.value(c,null==e?null:i[e],l,e,y),t=null==t?Te:{_:t}),ne.values[l]=t}function pi(l,t,n){let i;On=Nn,Ln=jn,[Nn,jn]=vt.move(c,Nn,jn),vt.left=Nn,vt.top=jn,vt.show&&(Cn&&Ml(Cn,g(Nn),0,Xe,Je),Mn&&Ml(Mn,0,g(jn),Xe,Je)),ni=E,ii=null;let o=0==Vl.ori?Xe:Je,s=1==Vl.ori?Xe:Je;if(0>Nn||0==Xt||Zt>Jt){i=vt.idx=null;for(let l=0;Cl.length>l;l++){let e=Bt[l];null!=e&&Ml(e,-10,-10,Xe,Je)}Nt&&ti(null,si,!0,null==l&&Ii.setSeries),ne.live&&(te.fill(i),gt=!0)}else{let l,t,n;1==m&&(l=0==Vl.ori?Nn:jn,t=ri(l,Ll),i=vt.idx=e(t,r[0],Zt,Jt),n=ql(r[0][i],Vl,o,0));let u=-10,a=-10,f=0,h=0,d=!0,g="",w="";for(let l=2==m?1:0;Cl.length>l;l++){let e=Cl[l],_=te[l],v=null==_?null:1==m?r[l][_]:r[l][1][_],k=vt.dataIdx(c,l,i,t),b=null==k?null:1==m?r[l][k]:r[l][1][k];gt=gt||b!=v||k!=_,te[l]=k;let y=k==i?n:ql(1==m?r[0][k]:r[l][0][k],Vl,o,0);if(l>0&&e.show){let t=null==b?-10:Kl(b,1==m?Fl[e.scale]:Fl[e.facets[1].scale],s,0);if(Nt&&null!=b){let n=1==Vl.ori?Nn:jn,i=p(St.dist(c,l,k,t,n));if(ni>i){let t=St.bias;if(0!=t){let o=ri(n,e.scale),s=0>o?-1:1;s!=(0>b?-1:1)||(1==s?1==t?o>b:b>o:1==t?b>o:o>b)||(ni=i,ii=l)}else ni=i,ii=l}}if(gt||jt){let e,n;0==Vl.ori?(e=y,n=t):(e=t,n=y);let i,o,s,r,p,m,_=!0,v=bt.bbox;if(null!=v){_=!1;let e=v(c,l);s=e.left,r=e.top,i=e.width,o=e.height}else s=e,r=n,i=o=bt.size(c,l);if(m=bt.fill(c,l),p=bt.stroke(c,l),jt)l!=ii||ni>St.prox||(u=s,a=r,f=i,h=o,d=_,g=m,w=p);else{let e=Bt[l];null!=e&&(Ht[l]=s,Ut[l]=r,Gl(e,i,o,_),Rl(e,m,p),Ml(e,x(s),x(r),Xe,Je))}}}}if(jt){let l=St.prox;if(gt||(null==oi?l>=ni:ni>l||ii!=oi)){let l=Bt[0];Ht[0]=u,Ut[0]=a,Gl(l,f,h,d),Rl(l,g,w),Ml(l,x(u),x(a),Xe,Je)}}}if(Jn.show&&qn)if(null!=l){let[e,t]=Ii.scales,[n,i]=Ii.match,[r,u]=l.cursor.sync.scales,a=l.cursor.drag;if(Xn=a._x,Zn=a._y,Xn||Zn){let a,f,c,h,d,{left:m,top:g,width:x,height:_}=l.select,v=l.scales[r].ori,k=l.posToVal,b=null!=e&&n(e,r),y=null!=t&&i(t,u);b&&Xn?(0==v?(a=m,f=x):(a=g,f=_),c=Fl[e],h=ql(k(a,r),c,o,0),d=ql(k(a+f,r),c,o,0),fi(w(h,d),p(d-h))):fi(0,o),y&&Zn?(1==v?(a=m,f=x):(a=g,f=_),c=Fl[t],h=Kl(k(a,u),c,s,0),d=Kl(k(a+f,u),c,s,0),ci(w(h,d),p(d-h))):ci(0,s)}else vi()}else{let l=p(On-In),e=p(Ln-Rn);if(1==Vl.ori){let t=l;l=e,e=t}Xn=Kn.x&&l>=Kn.dist,Zn=Kn.y&&e>=Kn.dist;let t,n,i=Kn.uni;null!=i?Xn&&Zn&&(Xn=l>=i,Zn=e>=i,Xn||Zn||(e>l?Zn=!0:Xn=!0)):Kn.x&&Kn.y&&(Xn||Zn)&&(Xn=Zn=!0),Xn&&(0==Vl.ori?(t=Fn,n=Nn):(t=Gn,n=jn),fi(w(t,n),p(n-t)),Zn||ci(0,s)),Zn&&(1==Vl.ori?(t=Fn,n=Nn):(t=Gn,n=jn),ci(w(t,n),p(n-t)),Xn||fi(0,o)),Xn||Zn||(fi(0,0),ci(0,0))}if(Kn._x=Xn,Kn._y=Zn,null==l){if(n){if(null!=Ri){let[l,e]=Ii.scales;Ii.values[0]=null!=l?ri(0==Vl.ori?Nn:jn,l):null,Ii.values[1]=null!=e?ri(1==Vl.ori?Nn:jn,e):null}Gi(fl,c,Nn,jn,Xe,Je,i)}if(Nt){let l=n&&Ii.setSeries,e=St.prox;null==oi?ni>e||ti(ii,si,!0,l):ni>e?ti(null,si,!0,l):ii!=oi&&ti(ii,si,!0,l)}}gt&&(ne.idx=i,hi()),!1!==t&&Ci("setCursor")}c.setLegend=hi;let mi=null;function gi(l=!1){l?mi=null:(mi=ul.getBoundingClientRect(),Ci("syncRect",mi))}function xi(l,e,t,n,i,o){vt._lock||qn&&null!=l&&0==l.movementX&&0==l.movementY||(wi(l,e,t,n,i,o,0,!1,null!=l),null!=l?pi(null,!0,!0):pi(e,!0,!1))}function wi(l,e,t,n,i,o,s,r,u){if(null==mi&&gi(!1),kt(l),null!=l)t=l.clientX-mi.left,n=l.clientY-mi.top;else{if(0>t||0>n)return Nn=-10,void(jn=-10);let[l,s]=Ii.scales,r=e.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=Ii.match,p=e.axes[0].side%2==1,m=0==Vl.ori?Xe:Je,g=1==Vl.ori?Xe:Je,x=p?o:i,w=p?i:o,_=p?n:t,v=p?t:n;if(t=null!=f?h(l,f)?O(u,Fl[l],m,0):-10:m*(_/x),n=null!=c?d(s,c)?O(a,Fl[s],g,0):-10:g*(v/w),1==Vl.ori){let l=t;t=n,n=l}}u&&(t>1&&Xe-1>t||(t=G(t,Xe)),n>1&&Je-1>n||(n=G(n,Je))),r?(In=t,Rn=n,[Fn,Gn]=vt.move(c,t,n)):(Nn=t,jn=n)}Object.defineProperty(c,"rect",{get:()=>(null==mi&&gi(!1),mi)});const _i={width:0,height:0,left:0,top:0};function vi(){li(_i,!1)}let ki,bi,yi,Si;function Ei(l,e,t,n,i,o){qn=!0,Xn=Zn=Kn._x=Kn._y=!1,wi(l,e,t,n,i,o,0,!0,!1),null!=l&&(Oe(hl,bl,Ti,!1),Gi(cl,c,Fn,Gn,Xe,Je,null));let{left:s,top:r,width:u,height:a}=Jn;ki=s,bi=r,yi=u,Si=a,vi()}function Ti(l,e,t,n,i,o){qn=Kn._x=Kn._y=!1,wi(l,e,t,n,i,o,0,!1,!0);let{left:s,top:r,width:u,height:a}=Jn,f=u>0||a>0,h=ki!=s||bi!=r||yi!=u||Si!=a;if(f&&h&&li(Jn),Kn.setScale&&f&&h){let l=s,e=u,t=r,n=a;if(1==Vl.ori&&(l=r,e=a,t=s,n=u),Xn&&ei(Ll,ri(l,Ll),ri(l+e,Ll)),Zn)for(let l in Fl){let e=Fl[l];l!=Ll&&null==e.from&&e.min!=E&&ei(l,ri(t+n,l),ri(t,l))}vi()}else vt.lock&&(vt._lock=!vt._lock,pi(null,!0,!1));null!=l&&(Le(hl,bl),Gi(hl,c,Nn,jn,Xe,Je,null))}function zi(l){vt._lock||(kt(l),pn(),vi(),null!=l&&Gi(ml,c,Nn,jn,Xe,Je,null))}function Pi(){Il.forEach(Lt),xt(c.width,c.height,!0)}Nl(xl,yl,Pi);const Di={};Di.mousedown=Ei,Di.mousemove=xi,Di.mouseup=Ti,Di.dblclick=zi,Di.setSeries=(l,e,t,n)=>{-1!=(t=(0,Ii.match[2])(c,e,t))&&ti(t,n,!0,!1)},vt.show&&(Oe(cl,ul,Ei),Oe(fl,ul,xi),Oe(dl,ul,(l=>{kt(l),gi(!1)})),Oe(pl,ul,(function(l){if(vt._lock)return;kt(l);let e=qn;if(qn){let l,e,t=!0,n=!0,i=10;0==Vl.ori?(l=Xn,e=Zn):(l=Zn,e=Xn),l&&e&&(t=i>=Nn||Nn>=Xe-i,n=i>=jn||jn>=Je-i),l&&t&&(Nn=Fn>Nn?0:Xe),e&&n&&(jn=Gn>jn?0:Je),pi(null,!0,!0),qn=!1}Nn=-10,jn=-10,pi(null,!0,!0),e&&(qn=e)})),Oe(ml,ul,zi),yt.add(c),c.syncRect=gi);const Ai=c.hooks=t.hooks||{};function Ci(l,e,t){Hn?Un.push([l,e,t]):l in Ai&&Ai[l].forEach((l=>{l.call(null,c,e,t)}))}(t.plugins||[]).forEach((l=>{for(let e in l.hooks)Ai[e]=(Ai[e]||[]).concat(l.hooks[e])}));const Mi=(l,e,t)=>t,Ii=Q({key:null,setSeries:!1,filters:{pub:M,sub:M},scales:[Ll,Cl[1]?Cl[1].scale:null],match:[I,I,Mi],values:[null,null]},vt.sync);2==Ii.match.length&&Ii.match.push(Mi),vt.sync=Ii;const Ri=Ii.key,Fi=Ze(Ri);function Gi(l,e,t,n,i,o,s){Ii.filters.pub(l,e,t,n,i,o,s)&&Fi.pub(l,e,t,n,i,o,s)}function Oi(){Ci("init",t,r),dn(r||t.data,!1),Xl[Ll]?Wn(Ll,Xl[Ll]):pn(),mt=Jn.show&&(Jn.width>0||Jn.height>0),pt=gt=!0,xt(t.width,t.height)}return Fi.sub(c),c.pub=function(l,e,t,n,i,o,s){Ii.filters.sub(l,e,t,n,i,o,s)&&Di[l](null,e,t,n,i,o,s)},c.destroy=function(){Fi.unsub(c),yt.delete(c),Ge.clear(),jl(xl,yl,Pi),H.remove(),we?.remove(),Ci("destroy")},Cl.forEach(Yt),Il.forEach((function(l,e){if(l._show=l.show,l.show){let t=Fl[l.scale];null==t&&(l.scale=l.side%2?Cl[1].scale:Ll,t=Fl[l.scale]);let n=t.time;l.size=P(l.size),l.space=P(l.space),l.rotate=P(l.rotate),$(l.incrs)&&l.incrs.forEach((l=>{!j.has(l)&&j.set(l,B(l))})),l.incrs=P(l.incrs||(2==t.distr?$l:n?1==El?oe:ue:Wl)),l.splits=P(l.splits||(n&&1==t.distr?Ql:3==t.distr?Me:4==t.distr?Ie:Ce)),l.stroke=P(l.stroke),l.grid.stroke=P(l.grid.stroke),l.ticks.stroke=P(l.ticks.stroke),l.border.stroke=P(l.border.stroke);let i=l.values;l.values=$(i)&&!$(i[0])?P(i):n?$(i)?he(Zl,ce(i,Jl)):i||le:i||Ae,l.filter=P(l.filter||(3>t.distr||10!=t.log?3==t.distr&&2==t.log?je:A:Ne)),l.font=Ot(l.font),l.labelFont=Ot(l.labelFont),l._size=l.size(c,null,e,0),l._space=l._rotate=l._incrs=l._found=l._splits=l._values=null,l._size>0&&($t[e]=!0,l._el=Al("u-axis",Z))}})),u?u instanceof HTMLElement?(u.appendChild(H),Oi()):u(c,Oi):Oi(),c}Nt.assign=Q,Nt.rangeNum=a,Nt.rangeLog=n,Nt.rangeAsinh=i,Nt.orient=Je,Nt.pxRatio=Sl,Nt.join=function(l,e){if(function(l){let e=l[0][0],t=e.length;for(let n=1;l.length>n;n++){let i=l[n][0];if(i.length!=t)return!1;if(i!=e)for(let l=0;t>l;l++)if(i[l]!=e[l])return!1}return!0}(l)){let e=l[0].slice();for(let t=1;l.length>t;t++)e.push(...l[t].slice(1));return function(l,e=100){const t=l.length;if(1>=t)return!0;let n=0,i=t-1;for(;i>=n&&null==l[n];)n++;for(;i>=n&&null==l[i];)i--;if(n>=i)return!0;const o=_(1,m((i-n+1)/e));for(let e=l[n],t=n+o;i>=t;t+=o){const n=l[t];if(null!=n){if(e>=n)return!1;e=n}}return!0}(e[0])||(e=function(l){let e=l[0],t=e.length,n=Array(t);for(let l=0;n.length>l;l++)n[l]=l;n.sort(((l,t)=>e[l]-e[t]));let i=[];for(let e=0;l.length>e;e++){let o=l[e],s=Array(t);for(let l=0;t>l;l++)s[l]=o[n[l]];i.push(s)}return i}(e)),e}let t=new Set;for(let e=0;l.length>e;e++){let n=l[e][0],i=n.length;for(let l=0;i>l;l++)t.add(n[l])}let n=[Array.from(t).sort(((l,e)=>l-e))],i=n[0].length,o=new Map;for(let l=0;i>l;l++)o.set(n[0][l],l);for(let t=0;l.length>t;t++){let s=l[t],r=s[0];for(let l=1;s.length>l;l++){let u=s[l],a=Array(i).fill(void 0),f=e?e[t][l]:1,c=[];for(let l=0;u.length>l;l++){let e=u[l],t=o.get(r[l]);null===e?0!=f&&(a[t]=e,2==f&&c.push(t)):a[t]=e}ll(a,c,i),n.push(a)}}return n},Nt.tzDate=function(l,e){let t;return"UTC"==e||"Etc/UTC"==e?t=new Date(+l+6e4*l.getTimezoneOffset()):e==Bl?t=l:(t=new Date(l.toLocaleString("en-US",{timeZone:e})),t.setMilliseconds(l.getMilliseconds())),t},Nt.sync=Ze;{Nt.addGap=function(l,e,t){let n=l[l.length-1];n&&n[0]==e?n[1]=t:l.push([e,t])},Nt.clipGaps=tt;let l=Nt.paths={points:gt};l.linear=vt,l.stepped=function(l){const e=f(l.align,1),n=f(l.ascDesc,!1),i=f(l.alignGaps,0),o=f(l.extend,!1);return(l,s,r,u)=>Je(l,s,((a,f,c,h,d,p,m,g,x,w,_)=>{let v=a.pxRound,{left:k,width:b}=l.bbox,y=l=>v(p(l,h,w,g)),S=l=>v(m(l,d,_,x)),E=0==h.ori?ut:at;const T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke,P=h.dir*(0==h.ori?1:-1);r=t(c,r,u,1),u=t(c,r,u,-1);let D=S(c[1==P?r:u]),A=y(f[1==P?r:u]),C=A,M=A;o&&-1==e&&(M=k,E(z,M,D)),E(z,A,D);for(let l=1==P?r:u;l>=r&&u>=l;l+=P){let t=c[l];if(null==t)continue;let n=y(f[l]),i=S(t);1==e?E(z,n,D):E(z,C,i),E(z,n,i),D=i,C=n}let I=C;o&&1==e&&(I=k+b,E(z,I,D));let[R,F]=Qe(l,s);if(null!=a.fill||0!=R){let e=T.fill=new Path2D(z),t=S(a.fillTo(l,s,a.min,a.max,R));E(e,I,t),E(e,M,t)}if(!a.spanGaps){let t=[];t.push(...nt(f,c,r,u,P,y,i));let o=a.width*Sl/2,d=n||1==e?o:-o,p=n||-1==e?-o:o;t.forEach((l=>{l[0]+=d,l[1]+=p})),T.gaps=t=a.gaps(l,s,r,u,t),T.clip=tt(t,h.ori,g,x,w,_)}return 0!=F&&(T.band=2==F?[et(l,s,r,u,z,-1),et(l,s,r,u,z,1)]:et(l,s,r,u,z,F)),T}))},l.bars=function(l){const e=f((l=l||U).size,[.6,E,1]),t=l.align||0,n=l.gap||0;let i=l.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=P(i),s=1-e[0],r=f(e[1],E),u=f(e[2],1),a=f(l.disp,U),c=f(l.each,(()=>{})),{fill:h,stroke:d}=a;return(l,e,i,p)=>Je(l,e,((g,x,v,k,b,y,S,E,T,P,A)=>{let C,M,I=g.pxRound,R=t,F=n*Sl,G=r*Sl,O=u*Sl;0==k.ori?[C,M]=o(l,e):[M,C]=o(l,e);const L=k.dir*(0==k.ori?1:-1);let N,j,B,H=0==k.ori?ft:ct,U=0==k.ori?c:(l,e,t,n,i,o,s)=>{c(l,e,t,i,n,s,o)},Y=f(l.bands,V).find((l=>l.series[0]==e)),$=g.fillTo(l,e,g.min,g.max,null!=Y?Y.dir:0),W=I(S($,b,A,T)),q=P,K=I(g.width*Sl),X=!1,Z=null,J=null,Q=null,ll=null;null==h||0!=K&&null==d||(X=!0,Z=h.values(l,e,i,p),J=new Map,new Set(Z).forEach((l=>{null!=l&&J.set(l,new Path2D)})),K>0&&(Q=d.values(l,e,i,p),ll=new Map,new Set(Q).forEach((l=>{null!=l&&ll.set(l,new Path2D)}))));let{x0:el,size:tl}=a;if(null!=el&&null!=tl){R=1,x=el.values(l,e,i,p),2==el.unit&&(x=x.map((e=>l.posToVal(E+e*P,k.key,!0))));let t=tl.values(l,e,i,p);j=2==tl.unit?t[0]*P:y(t[0],k,P,E)-y(0,k,P,E),q=kt(x,v,y,k,P,E,q),B=q-j+F}else q=kt(x,v,y,k,P,E,q),B=q*s+F,j=q-B;1>B&&(B=0),j/2>K||(K=0),5>B&&(I=D);let nl=B>0;j=I(z(q-B-(nl?K:0),O,G)),N=(0==R?j/2:R==L?0:j)-R*L*((0==R?F/2:0)+(nl?K/2:0));const il={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},ol=X?null:new Path2D;let sl=null;if(null!=Y)sl=l.data[Y.series[1]];else{let{y0:t,y1:n}=a;null!=t&&null!=n&&(v=n.values(l,e,i,p),sl=t.values(l,e,i,p))}let rl=C*j,ul=M*j;for(let t=1==L?i:p;t>=i&&p>=t;t+=L){let n=v[t];if(null==n)continue;if(null!=sl){let l=sl[t]??0;if(n-l==0)continue;W=S(l,b,A,T)}let i=y(2!=k.distr||null!=a?x[t]:t,k,P,E),o=S(f(n,$),b,A,T),s=I(i-N),r=I(_(o,W)),u=I(w(o,W)),c=r-u;if(null!=n){let i=0>n?ul:rl,o=0>n?rl:ul;X?(K>0&&null!=Q[t]&&H(ll.get(Q[t]),s,u+m(K/2),j,_(0,c-K),i,o),null!=Z[t]&&H(J.get(Z[t]),s,u+m(K/2),j,_(0,c-K),i,o)):H(ol,s,u+m(K/2),j,_(0,c-K),i,o),U(l,e,t,s-K/2,u,j+K,c)}}return K>0?il.stroke=X?ll:ol:X||(il._fill=0==g.width?g._fill:g._stroke??g._fill,il.width=0),il.fill=X?J:ol,il}))},l.spline=function(l){return function(l,e){const n=f(e?.alignGaps,0);return(e,i,o,s)=>Je(e,i,((r,u,a,f,c,h,d,p,m,g,x)=>{let w,_,v,k=r.pxRound,b=l=>k(h(l,f,g,p)),y=l=>k(d(l,c,x,m));0==f.ori?(w=st,v=ut,_=pt):(w=rt,v=at,_=mt);const S=f.dir*(0==f.ori?1:-1);o=t(a,o,s,1),s=t(a,o,s,-1);let E=b(u[1==S?o:s]),T=E,z=[],P=[];for(let l=1==S?o:s;l>=o&&s>=l;l+=S)if(null!=a[l]){let e=b(u[l]);z.push(T=e),P.push(y(a[l]))}const D={stroke:l(z,P,w,v,_,k),fill:null,clip:null,band:null,gaps:null,flags:1},A=D.stroke;let[C,M]=Qe(e,i);if(null!=r.fill||0!=C){let l=D.fill=new Path2D(A),t=y(r.fillTo(e,i,r.min,r.max,C));v(l,T,t),v(l,E,t)}if(!r.spanGaps){let l=[];l.push(...nt(u,a,o,s,S,b,n)),D.gaps=l=r.gaps(e,i,o,s,l),D.clip=tt(l,f.ori,p,m,g,x)}return 0!=M&&(D.band=2==M?[et(e,i,o,s,A,-1),et(e,i,o,s,A,1)]:et(e,i,o,s,A,M)),D}))}(bt,l)}}return Nt}();
